(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{"./manual/Design-Patterns/Memento.md":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=(n("./node_modules/react/index.js"),n("./node_modules/@mdx-js/react/dist/index.es.js")),o={},r="wrapper";function i(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(s.b)(r,Object.assign({},o,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"memento"},"Memento"),Object(s.b)("p",null,"Capture and externalise an object's internal state allowing the object to be restored to this state later (without violating encapsulation)."),Object(s.b)("h2",{id:"participants"},"Participants"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"Memento (stores internal state of Originator object - may store as much or little as possible)"),Object(s.b)("li",{parentName:"ul"},"Originator (creates memento containing snapshot of current state)"),Object(s.b)("li",{parentName:"ul"},"Caretaker (responsible for memento's safekeeping)")),Object(s.b)("h2",{id:"example"},"Example"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-typescript"}),"class State {\n  private _value: String;\n\n  constructor(value) {\n    this._value = value;\n  }\n\n  public set value(newValue: String) {\n    this._value = newValue;\n  }\n\n  public get value() {\n    return this._value;\n  }\n}\n\ninterface StateInterface {\n  state: State;\n}\n\nclass Memento implements StateInterface {\n  private _state: State;\n\n  constructor(state: State) {\n    this._state = state;\n  }\n\n  public set state(newState: State) {\n    this._state = newState;\n  }\n\n  public get state() {\n    return this._state;\n  }\n}\n\nclass Originator implements StateInterface {\n  private _state: State;\n\n  constructor(state: State) {\n    console.log(`\"${state.value}\"`);\n    this._state = state;\n  }\n\n  public set state(state: State) {\n    console.log(state.value);\n    this._state = state;\n  }\n\n  public get state() {\n    return this._state;\n  }\n\n  public createMemento() {\n    console.log(`create \"${this._state.value}\" memento`);\n    return new Memento(this._state);\n  }\n\n  public restoreMemento(memento: Memento) {\n    console.log(`restore \"${memento.state.value}\"`);\n    this._state = memento.state;\n  }\n}\n\nclass CareTaker {\n  private _memento: Memento;\n\n  public set memento(memento: Memento) {\n    // memento saved\n    this._memento = memento;\n  }\n\n  public get memento() {\n    return this._memento;\n  }\n}\n\n(function main() {\n  // Save check point\n  const oldState = new State('check point');\n  const originator = new Originator(oldState);\n  const careTaker = new CareTaker();\n  careTaker.memento = originator.createMemento();\n\n  // Player dies\n  const currentState = new State('die');\n  originator.state = currentState;\n\n  // Player reset to check point\n  originator.restoreMemento(careTaker.memento);\n\n  // Player gain medel\n  const medalState = new State('get medal');\n  originator.state = medalState;\n  // Save\n  careTaker.memento = originator.createMemento();\n})();\n")))}i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"manual/Design-Patterns/Memento.md"}}),i.isMDXComponent=!0}}]);
//# sourceMappingURL=manual-design-patterns-memento.101a1afd2417ec7a4a77.js.map
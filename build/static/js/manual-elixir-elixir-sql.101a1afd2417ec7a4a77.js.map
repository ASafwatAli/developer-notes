{"version":3,"sources":["/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Elixir/Elixir-SQL.md"],"names":["layoutProps","MDXLayout","MDXContent","_ref","components","props","Object","_Users_dennis_okeeffe_Project_Imposter_developer_notes_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__","assign","mdxType","id","parentName","className","href","isMDXComponent"],"mappings":"mXAWMA,EAAc,GAGdC,EAAY,UACH,SAASC,EAATC,GAGZ,IAFDC,EAECD,EAFDC,WACGC,EACFC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,gBACD,OAAOG,OAAAE,EAAA,EAAAF,CAACL,EAADK,OAAAG,OAAA,GAAeT,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYM,QAAQ,cAC5EJ,OAAAE,EAAA,EAAAF,CAAA,KAAQ,CACNK,GAAM,cADR,cAGAL,OAAAE,EAAA,EAAAF,CAAA,uEACAA,OAAAE,EAAA,EAAAF,CAAA,KAAQ,CACNK,GAAM,2BADR,2BAGAL,OAAAE,EAAA,EAAAF,CAAA,WAAKA,OAAAE,EAAA,EAAAF,CAAA,OAAAA,OAAAG,OAAA,CAAMG,WAAW,OAAU,CAC5BC,UAAa,oBADZ,qTAkBLP,OAAAE,EAAA,EAAAF,CAAA,oFACAA,OAAAE,EAAA,EAAAF,CAAA,KAAQ,CACNK,GAAM,sBADR,sBAGAL,OAAAE,EAAA,EAAAF,CAAA,UACEA,OAAAE,EAAA,EAAAF,CAAA,MAAIM,WAAW,MAAf,6GACAN,OAAAE,EAAA,EAAAF,CAAA,MAAIM,WAAW,MAAf,iFACAN,OAAAE,EAAA,EAAAF,CAAA,MAAIM,WAAW,MAAf,6DACAN,OAAAE,EAAA,EAAAF,CAAA,MAAIM,WAAW,MAAf,yCAEFN,OAAAE,EAAA,EAAAF,CAAA,6KACAA,OAAAE,EAAA,EAAAF,CAAA,KAAQ,CACNK,GAAM,sBADR,sBAGAL,OAAAE,EAAA,EAAAF,CAAA,sBAAiBA,OAAAE,EAAA,EAAAF,CAAA,cAAYM,WAAW,KAAvB,oBACjBN,OAAAE,EAAA,EAAAF,CAAA,KAAQ,CACNK,GAAM,iBADR,kBAGAL,OAAAE,EAAA,EAAAF,CAAA,KAAQ,CACNK,GAAM,YADR,aAGAL,OAAAE,EAAA,EAAAF,CAAA,6CAAwCA,OAAAE,EAAA,EAAAF,CAAA,cAAYM,WAAW,KAAvB,QAAxC,wEACAN,OAAAE,EAAA,EAAAF,CAAA,WAAKA,OAAAE,EAAA,EAAAF,CAAA,OAAAA,OAAAG,OAAA,CAAMG,WAAW,OAAU,CAC5BC,UAAa,oBADZ,sOAWLP,OAAAE,EAAA,EAAAF,CAAA,KAAQ,CACNK,GAAM,qCADR,qCAGAL,OAAAE,EAAA,EAAAF,CAAA,6BAAwBA,OAAAE,EAAA,EAAAF,CAAA,IAAAA,OAAAG,OAAA,CAAGG,WAAW,KAAQ,CAC1CE,KAAQ,oBADY,QAAxB,6BAGAR,OAAAE,EAAA,EAAAF,CAAA,WAAKA,OAAAE,EAAA,EAAAF,CAAA,OAAAA,OAAAG,OAAA,CAAMG,WAAW,OAAU,CAC5BC,UAAa,oBADZ,2NASTX,EAAWa,gBAAiB","file":"static/js/manual-elixir-elixir-sql.2a9f6ba0.js","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"elixir-sql\"\n    }}>{`Elixir SQL`}</h1>\n    <p>{`To do this, we use another Open Source project named Ecto.`}</p>\n    <h2 {...{\n      \"id\": \"model-file-for-postgres\"\n    }}>{`Model File for Postgres`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-elixir\"\n      }}>{`defmodule Discuss.Topic do\n  use Discuss.Web, :model\n\n  # required for model file\n  schema \"topics\" do\n    field :title, :string\n  end\n\n  # second requirement\n  def changeset(struct, params \\\\\\\\ %{}) dp\n    struct\n    |> cast(params, [:title])\n    |> validate_required([:title])\n  end\nend\n`}</code></pre>\n    <p>{`Validation in Phoenix is a little more challenging than it needs to be.`}</p>\n    <h3 {...{\n      \"id\": \"the-elixir-pattern\"\n    }}>{`The Elixir Pattern`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Struct: A hash that contains some data. Represents a record (or a record we want to save) in the database`}</li>\n      <li parentName=\"ul\">{`Params: A hash that contains the properties we want to update the struct with`}</li>\n      <li parentName=\"ul\">{`cast: produces a changeset (comes from inside of Phoenix)`}</li>\n      <li parentName=\"ul\">{`validators: adds errors to changeset`}</li>\n    </ul>\n    <p>{`The changeset is the object that records the updates in our database that we need to make to take what it is right now (struct) to what it needs to be (params).`}</p>\n    <h3 {...{\n      \"id\": \"more-on-changesets\"\n    }}>{`More On Changesets`}</h3>\n    <p>{`Note that `}<inlineCode parentName=\"p\">{`params \\\\\\\\ %{}`}</inlineCode></p>\n    <h2 {...{\n      \"id\": \"ectochangeset\"\n    }}>{`Ecto.Changeset`}</h2>\n    <h2 {...{\n      \"id\": \"ectorepo\"\n    }}>{`Ecto.Repo`}</h2>\n    <p>{`Ecto is responsible with all the `}<inlineCode parentName=\"p\">{`Repo`}</inlineCode>{` module that is responsible for all conversations with the database.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-elixir\"\n      }}>{`def create(conn, %{\"topic\" => topic}) do\n  changeset = Topic.changeset(%Topic{}. topic)\n\n  case Repo.insert(changeset) do\n    {:ok, post} -> IO.inspect(post)\n    {:error, changeset} -> IO.inspect(changeset)\n  end\nend\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"using-the-repo-module-for-queries\"\n    }}>{`Using the Repo module for queries`}</h2>\n    <p>{`Use the link for `}<a parentName=\"p\" {...{\n        \"href\": \"hexdocs.pm/ecto\"\n      }}>{`Ecto`}</a>{` to get more information.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-elixir\"\n      }}>{`def index(conn, _params) do\n\nend\n`}</code></pre>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "],"sourceRoot":""}
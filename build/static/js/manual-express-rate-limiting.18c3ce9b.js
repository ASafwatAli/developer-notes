(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{"./manual/Express/Rate-Limiting.md":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var s=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=(n("./node_modules/react/index.js"),n("./node_modules/@mdx-js/react/dist/index.es.js")),r={},i="wrapper";function c(e){var t=e.components,n=Object(s.a)(e,["components"]);return Object(a.b)(i,Object.assign({},r,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"rate-limiting"},"Rate Limiting"),Object(a.b)("h2",{id:"resources"},"Resources"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/nfriedly/express-rate-limit"}),"Express Rate Limit"))),Object(a.b)("h2",{id:"tldr"},"tl;dr"),Object(a.b)("p",null,"For ",Object(a.b)("inlineCode",{parentName:"p"},"index.js"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"const express = require('express');\nconst rateLimit = require('express-rate-limit');\nconst app = express();\nconst port = 8080;`\n\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // limit each IP to 100 requests per windowMs\n});\napp.use(limiter);\n\napp.get('/', (_, res) => res.send('RESPONSE_SUCCESS'));\n\napp.listen(port, () => console.log('Server started'));\n")),Object(a.b)("p",null,"For ",Object(a.b)("inlineCode",{parentName:"p"},"index.test.js"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"const execa = require('execa');\n\ndescribe('rate limiter server', () => {\n  test('expects GET / to return \"Success\"', async () => {\n    const { stdout } = await execa('ab', [\n      '-n',\n      '200',\n      '-v',\n      '3',\n      'http://localhost:8080/',\n    ]);\n    const matches = stdout.match(/RESPONSE_SUCCESS/g);\n    expect(matches.length).toEqual(100);\n  });\n});\n")))}c&&c===Object(c)&&Object.isExtensible(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"manual/Express/Rate-Limiting.md"}}),c.isMDXComponent=!0}}]);
//# sourceMappingURL=manual-express-rate-limiting.101a1afd2417ec7a4a77.js.map
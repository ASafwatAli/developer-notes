{"version":3,"sources":["/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Kubernetes/Helm.md"],"names":["layoutProps","MDXLayout","MDXContent","_ref","components","props","Object","_Users_dennis_okeeffe_Project_Imposter_developer_notes_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__","assign","mdxType","id","parentName","align","className","isMDXComponent"],"mappings":"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","file":"static/js/manual-kubernetes-helm.f031ebbc.js","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"5-packaging-and-deploying-on-kubernetes\"\n    }}>{`5. Packaging and Deploying on Kubernetes`}</h1>\n    <h2 {...{\n      \"id\": \"51-intro-to-helm\"\n    }}>{`5.1 Intro to Helm`}</h2>\n    <p>{`Helm is the best way to find, share and use software built for Kubernetes.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Package manager for Kubernetes.`}</li>\n      <li parentName=\"ul\">{`Helps you manage Kubernetes apps.`}</li>\n      <li parentName=\"ul\">{`Maintained by CNCF.`}</li>\n    </ul>\n    <p>{`To use, download the Helm client.`}</p>\n    <p>{`To run, use `}<inlineCode parentName=\"p\">{`helm init`}</inlineCode>{`.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`This will installer Tiller`}</li>\n      <li parentName=\"ul\">{`If you have RBAC installed (recent clusters have it enabled by default), you'll also need to add a ServiceAccount and RBAC rules.`}</li>\n    </ul>\n    <p>{`Helm uses a packaging format call `}<strong parentName=\"p\">{`charts`}</strong>{`.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`A chart is a collection of files that describe a set of Kubernetes resources.`}</li>\n      <li parentName=\"ul\">{`A single chart can deploy an app, a piece of software or a database.`}</li>\n      <li parentName=\"ul\">{`It can have depencies ie Wordpress chart requires mysql chart.`}</li>\n      <li parentName=\"ul\">{`You can also write your own chart.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"helm-commands\"\n    }}>{`Helm commands`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Command`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm init`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Install tiller on the cluser`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm reset`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Remove tiller`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm install `}<inlineCode parentName=\"td\">{`<CHART>`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Install chart`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm search `}<inlineCode parentName=\"td\">{`<CHART>`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Searches for chart`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm search redis`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Looks for Redis chart`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm install --name myredis stable/redis`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Installs Redis chart found under myredis`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm delete myredis`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Delete Redis install named myredis`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm create `}<inlineCode parentName=\"td\">{`<CHART_NAME>`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Create your own chart`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm update `}<inlineCode parentName=\"td\">{`<OPTIONS>`}</inlineCode>{` `}<inlineCode parentName=\"td\">{`<CHART>`}</inlineCode>{` path/to/chart`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Update the chart`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm history `}<inlineCode parentName=\"td\">{`<CHART_NAME>`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`See upgrade history of chart`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm rollback `}<inlineCode parentName=\"td\">{`<CHART_NAME>`}</inlineCode>{` `}<inlineCode parentName=\"td\">{`<REVISION>`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Rollback to version`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm list`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`List running charts`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm list --all`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`List all charts that have ran`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`helm delete `}<inlineCode parentName=\"td\">{`<CHART_NAME>`}</inlineCode>{` --purge`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Release deleted chart`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"installing-helm\"\n    }}>{`Installing Helm`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl https://raw.githubusercontent.com/helm/helm/master/scripts/get > get_helm.sh\nchmod 700 get_helm.sh\n./get_helm.sh\n`}</code></pre>\n    <p>{`Alternatively:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl https://raw.githubusercontent.com/helm/helm/master/scripts/get | bash\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"linux-distro-install\"\n    }}>{`Linux Distro Install`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`wget https://kubernetes-helm.storage.googleapis.com/helm-v2.11.0-linux-amd64.tar.gz\ntar -xzvf helm-v2.11.0-linux-amd64.tar.gz\nsudo mv linux-amd64/helm /usr/local/bin/helm\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"adding-to-cluster\"\n    }}>{`Adding to cluster`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`# helm-rbac.yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: tiller\n  namespace: kube-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: tiller\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n  - kind: ServiceAccount\n    name: tiller\n    namespace: kube-system\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl apply -f helm-rbac.yaml\nhelm init --service-account tiller\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"52-creating-your-own-helm-charts\"\n    }}>{`5.2 Creating your own helm charts`}</h2>\n    <p>{`This is the recommended way to deploy applications.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Packaging the app allows you to deploy the app in 1 command.`}</li>\n      <li parentName=\"ul\">{`Helm allows for upgrades and rollbacks.`}</li>\n      <li parentName=\"ul\">{`Helm chart is also version controlled.`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# creates director mychart/\nhelm create mychart\nls mychart\n# Displays Chart.yaml  charts  templates  values.yaml\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`values.yaml`}</inlineCode>{` will control things such as replicas, image etc.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`# Default values for test.\n# This is a YAML-formatted file.\n# Declare variables to be passed into your templates.\n\nreplicaCount: 1\n\nimage:\n  repository: nginx\n  tag: stable\n  pullPolicy: IfNotPresent\n\nnameOverride: \"\"\nfullnameOverride: \"\"\n\nservice:\n  type: ClusterIP\n  port: 80\n\ningress:\n  enabled: false\n  annotations: {}\n    # kubernetes.io/ingress.class: nginx\n    # kubernetes.io/tls-acme: \"true\"\n  paths: []\n  hosts:\n    - chart-example.local\n  tls: []\n  #  - secretName: chart-example-tls\n  #    hosts:\n  #      - chart-example.local\n\nresources: {}\n  # We usually recommend not to specify default resources and to leave this as a conscious\n  # choice for the user. This also increases chances charts run on environments with little\n  # resources, such as Minikube. If you do want to specify resources, uncomment the following\n  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.\n  # limits:\n  #  cpu: 100m\n  #  memory: 128Mi\n  # requests:\n  #  cpu: 100m\n  #  memory: 128Mi\n\nnodeSelector: {}\n\ntolerations: []\n\naffinity: {}\n`}</code></pre>\n    <p>{`Inside the `}<inlineCode parentName=\"p\">{`mychart/templates`}</inlineCode>{` folder we have...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`ls mychart/templates\n# shows NOTES.txt  _helpers.tpl  deployment.yaml  ingress.yaml  service.yaml  tests\n`}</code></pre>\n    <p>{`Looking at the `}<inlineCode parentName=\"p\">{`deployment.yaml`}</inlineCode>{` we see the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ include \"test.fullname\" . }}\n  labels:\n    app.kubernetes.io/name: {{ include \"test.name\" . }}\n    helm.sh/chart: {{ include \"test.chart\" . }}\n    app.kubernetes.io/instance: {{ .Release.Name }}\n    app.kubernetes.io/managed-by: {{ .Release.Service }}\nspec:\n  replicas: {{ .Values.replicaCount }}\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: {{ include \"test.name\" . }}\n      app.kubernetes.io/instance: {{ .Release.Name }}\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: {{ include \"test.name\" . }}\n        app.kubernetes.io/instance: {{ .Release.Name }}\n    spec:\n      containers:\n        - name: {{ .Chart.Name }}\n          image: \"{{ .Values.image.repository }}:{{ .Values.image.tag }}\"\n          imagePullPolicy: {{ .Values.image.pullPolicy }}\n          ports:\n            - name: http\n              containerPort: 80\n              protocol: TCP\n          livenessProbe:\n            httpGet:\n              path: /\n              port: http\n          readinessProbe:\n            httpGet:\n              path: /\n              port: http\n          resources:\n            {{- toYaml .Values.resources | nindent 12 }}\n      {{- with .Values.nodeSelector }}\n      nodeSelector:\n        {{- toYaml . | nindent 8 }}\n      {{- end }}\n    {{- with .Values.affinity }}\n      affinity:\n        {{- toYaml . | nindent 8 }}\n    {{- end }}\n    {{- with .Values.tolerations }}\n      tolerations:\n        {{- toYaml . | nindent 8 }}\n    {{- end }}\n`}</code></pre>\n    <p>{`These values will be filled out when deployed.`}</p>\n    <p>{`The spec values are generally defined by the earlier `}<inlineCode parentName=\"p\">{`values.yaml`}</inlineCode>{`.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`mychart/service.yaml`}</inlineCode>{` also templates how the service file will be created:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`apiVersion: v1\nkind: Service\nmetadata:\n  name: {{ include \"test.fullname\" . }}\n  labels:\n    app.kubernetes.io/name: {{ include \"test.name\" . }}\n    helm.sh/chart: {{ include \"test.chart\" . }}\n    app.kubernetes.io/instance: {{ .Release.Name }}\n    app.kubernetes.io/managed-by: {{ .Release.Service }}\nspec:\n  type: {{ .Values.service.type }}\n  ports:\n    - port: {{ .Values.service.port }}\n      targetPort: http\n      protocol: TCP\n      name: http\n  selector:\n    app.kubernetes.io/name: {{ include \"test.name\" . }}\n    app.kubernetes.io/instance: {{ .Release.Name }}\n`}</code></pre>\n    <p>{`From here, you can directly install the helm chart using `}<inlineCode parentName=\"p\">{`helm install mychart/`}</inlineCode>{`.`}</p>\n    <p>{`Using the default chart, there is a `}<inlineCode parentName=\"p\">{`nginx`}</inlineCode>{` configuration you then port forward and curl.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl port-forward 80:8080\n# Press ^z here\nbg # set to background\ncurl localhost:8080 \n# result should be default nginx html\nfg # bring port-forward back to foreground\n`}</code></pre>\n    <h1 {...{\n      \"id\": \"demo-with-a-nodejs-app\"\n    }}>{`Demo with a Nodejs app`}</h1>\n    <p>{`Create a chart and update the required value for your image etc.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`# Default values for test.\n# This is a YAML-formatted file.\n# Declare variables to be passed into your templates.\n\nreplicaCount: 1\n\nimage:\n  repository: okeeffed/repo\n  tag: latest\n  pullPolicy: IfNotPresent\n\n# Could also be LoadBalancer\nservice:\n  type: ClusterIP\n  port: 80\n\ningress:\n  enabled: false\n  annotations: {}\n    # kubernetes.io/ingress.class: nginx\n    # kubernetes.io/tls-acme: \"true\"\n  paths: []\n  hosts:\n    - chart-example.local\n    # this could also be whatever.domain.com\n  tls: []\n  #  - secretName: chart-example-tls\n  #    hosts:\n  #      - chart-example.local\n\nresources: {}\n  # We usually recommend not to specify default resources and to leave this as a conscious\n  # choice for the user. This also increases chances charts run on environments with little\n  # resources, such as Minikube. If you do want to specify resources, uncomment the following\n  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.\n  # limits:\n  #  cpu: 100m\n  #  memory: 128Mi\n  # requests:\n  #  cpu: 100m\n  #  memory: 128Mi\n\nnodeSelector: {}\n\ntolerations: []\n\naffinity: {}\n\n# Here you can add dependencies\n`}</code></pre>\n    <p>{`If your helm has depencies, these can be defined in a `}<inlineCode parentName=\"p\">{`requirements.yaml`}</inlineCode>{` file. Example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`dependencies:\n  - name: mariadb\n    version: 4.x.x\n    repository: https://kubernetes-charts.storage.googleapis.com/\n    condition: mariadb.enabled\n    tags:\n      - node-app-database\n`}</code></pre>\n    <p>{`Ensure you update the chart if you need to change the `}<inlineCode parentName=\"p\">{`containerPort`}</inlineCode>{` or env variables etc.`}</p>\n    <p>{`Once the chart is up and running, you can update charts which will update the orchestration. Use `}<inlineCode parentName=\"p\">{`helm update <OPTIONS> <CHART> path/to/chart`}</inlineCode></p>\n    <p>{`Rollbacks can easily be done as well. `}</p>\n    <p>{`Use `}<inlineCode parentName=\"p\">{`helm history <CHART>`}</inlineCode>{` to get a history of deployments. Say we want to rollback to revision one, we can then just run `}<inlineCode parentName=\"p\">{`helm rollback <CHART> 1`}</inlineCode>{`. `}</p>\n    <h2 {...{\n      \"id\": \"53-setting-up-helm-repo-with-s3\"\n    }}>{`5.3 Setting up Helm Repo with S3`}</h2>\n    <p>{`If you have charts stored on S3:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# Install plugin\nhelm plugin install https://github.com/hypnoglow/helm-s3.git\n\n# Initialise s3 bucket\nhelm s3 init s3://helm-bucket/charts\n\n# Add report to helm\nhelm repo add my-charts s3://helm-bucket/charts\n`}</code></pre>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"./manual/Amplify/Facebook-Login.md":function(e,n,o){"use strict";o.r(n),o.d(n,"default",function(){return c});var t=o("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=(o("./node_modules/react/index.js"),o("./node_modules/@mdx-js/react/dist/index.es.js")),s={},i="wrapper";function c(e){var n=e.components,o=Object(t.a)(e,["components"]);return Object(a.b)(i,Object.assign({},s,o,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"facebook-login"},"Facebook Login"),Object(a.b)("p",null,"If using Expo, first you need to follow the setup instructions."),Object(a.b)("p",null,Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://docs.expo.io/versions/latest/sdk/facebook"}),"https://docs.expo.io/versions/latest/sdk/facebook")),Object(a.b)("h2",{id:"tldr"},"tl;dr"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Head to ",Object(a.b)("inlineCode",{parentName:"li"},"developers.facebook.com")," and set up the login."),Object(a.b)("li",{parentName:"ol"},"Update ",Object(a.b)("inlineCode",{parentName:"li"},"app.json")," to look like the following:")),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-json"}),'{\n  "expo": {\n    "sdkVersion": "27.0.0",\n    "privacy": "unlisted",\n    "name": "Exposition",\n    "icon": "./assets/icon.png",\n    "version": "1.0.0",\n    "slug": "nodular-exposition",\n    "facebookScheme": "<% fromFacebook %>",\n    "facebookAppId": "<% fromFacebook %>",\n    "facebookDisplayName": "Exposition",\n    "ios": {\n      "bundleIdentifier": "com.nodular.exposition"\n    },\n    "android": {\n      "package": "com.nodular.exposition"\n    }\n  }\n}\n')),Object(a.b)("ol",{start:3},Object(a.b)("li",{parentName:"ol"},"Install the ExpoFacebook common js module."),Object(a.b)("li",{parentName:"ol"},"Update the code flow for Amplify to be similar to the one ",Object(a.b)("a",Object.assign({parentName:"li"},{href:"https://docs.aws.amazon.com/cognito/latest/developerguide/facebook.html"}),"provided from their website"),":")),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"FB.login(function(response) {\n  // Check if the user logged in successfully.\n  if (response.authResponse) {\n    console.log('You are now logged in.');\n\n    // Add the Facebook access token to the Cognito credentials login map.\n    AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n      IdentityPoolId: 'IDENTITY_POOL_ID',\n      Logins: {\n        'graph.facebook.com': response.authResponse.accessToken\n      }\n    });\n\n    // Obtain AWS credentials\n    AWS.config.credentials.get(function() {\n      // Access AWS resources here.\n    });\n  } else {\n    console.log('There was a problem logging you in.');\n  }\n});\n")),Object(a.b)("ol",{start:5},Object(a.b)("li",{parentName:"ol"},"Ensure auth is added to the project ",Object(a.b)("inlineCode",{parentName:"li"},"wsmobile user-signin configure")," and selecting ",Object(a.b)("inlineCode",{parentName:"li"},"Advanced")," > ",Object(a.b)("inlineCode",{parentName:"li"},"Add Facebook"),".")))}c&&c===Object(c)&&Object.isExtensible(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"manual/Amplify/Facebook-Login.md"}}),c.isMDXComponent=!0}}]);
//# sourceMappingURL=manual-amplify-facebook-login.101a1afd2417ec7a4a77.js.map
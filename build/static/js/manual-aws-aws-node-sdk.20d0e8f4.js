(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"./manual/AWS/AWS-NodeSDK.md":function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return o});var t=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=(a("./node_modules/react/index.js"),a("./node_modules/@mdx-js/react/dist/index.es.js")),s={},i="wrapper";function o(e){var n=e.components,a=Object(t.a)(e,["components"]);return Object(r.b)(i,Object.assign({},s,a,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"aws-node-sdk"},"AWS Node SDK"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object.assign({parentName:"li"},{href:"#aws-node-sdk"}),"AWS Node SDK"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object.assign({parentName:"li"},{href:"#loading-credentials-in-nodejs-from-environment-variables"}),"Loading Credentials in Node.js from Environment Variables")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object.assign({parentName:"li"},{href:"#example-use-in-a-task-runner---get-ec2-details-back"}),"Example use in a task runner - get EC2 Details back"))))),Object(r.b)("h2",{id:"loading-credentials-in-nodejs-from-environment-variables"},"Loading Credentials in Node.js from Environment Variables"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"AWS_ACCESS_KEY_ID"),Object(r.b)("li",{parentName:"ul"},"AWS_SECRET_ACCESS_KEY"),Object(r.b)("li",{parentName:"ul"},"AWS_SESSION_TOKEN (optional)")),Object(r.b)("p",null,"These can be set into your ENV variables."),Object(r.b)("h2",{id:"example-use-in-a-task-runner---get-ec2-details-back"},"Example use in a task runner - get EC2 Details back"),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"var fs = require('fs');\nconst util = require('util');\nvar dotenv = require('dotenv');\nvar envConfig = dotenv.parse(fs.readFileSync('.env'));\nfor (var k in envConfig) {\n    process.env[k] = envConfig[k];\n}\n\nvar gulp = require('gulp');\n\n// Load the SDK for JavaScript\nvar AWS = require('aws-sdk');\n\nvar params = {\n    InstanceIds: [process.env.EC2_INSTANCE_ID]\n};\n\n/* Get EC2 Details */\ngulp.task('info', function() {\n    AWS.config = {\n        accessKeyId: process.env.AWS_ACCESS_KEY,\n        secretAccessKey: process.env.AWS_SECRET_KEY,\n        region: process.env.AWS_REGION\n    };\n\n    // Create EC2 service object\n    ec2 = new AWS.EC2({ apiVersion: '2016-11-15' });\n\n    // Call EC2 to retrieve the policy for selected bucket\n    ec2.describeInstances(params, function(err, data) {\n        if (err) {\n            console.log('Error', err.stack);\n        } else {\n            console.log('Success', util.inspect(data, { depth: 6 }));\n        }\n    });\n});\n")))}o&&o===Object(o)&&Object.isExtensible(o)&&Object.defineProperty(o,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"manual/AWS/AWS-NodeSDK.md"}}),o.isMDXComponent=!0}}]);
//# sourceMappingURL=manual-aws-aws-node-sdk.101a1afd2417ec7a4a77.js.map
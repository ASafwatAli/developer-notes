{"remainingRequest":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js??ref--6-2!/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js!/Users/okeeffe_d/Project-Imposter/developer-notes/manual/Design-Patterns/Flyweight-Pattern.md","dependencies":[{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/manual/Design-Patterns/Flyweight-Pattern.md","mtime":1560905520311},{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/cache-loader/dist/cjs.js","mtime":1561535530324},{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1560300163820},{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js","mtime":1561535530532},{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js","mtime":1548285283521}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIi9Vc2Vycy9va2VlZmZlX2QvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIjsvKiBAanN4IG1keCAqL2ltcG9ydCBSZWFjdCBmcm9tJ3JlYWN0JztpbXBvcnR7bWR4fWZyb20nQG1keC1qcy9yZWFjdCc7LyogQGpzeCBtZHggKi92YXIgbWFrZVNob3J0Y29kZT1mdW5jdGlvbiBtYWtlU2hvcnRjb2RlKG5hbWUpe3JldHVybiBmdW5jdGlvbiBNRFhEZWZhdWx0U2hvcnRjb2RlKHByb3BzKXtjb25zb2xlLndhcm4oIkNvbXBvbmVudCAiK25hbWUrIiB3YXMgbm90IGltcG9ydGVkLCBleHBvcnRlZCwgb3IgcHJvdmlkZWQgYnkgTURYUHJvdmlkZXIgYXMgZ2xvYmFsIHNjb3BlIik7cmV0dXJuIG1keCgiZGl2Iixwcm9wcyk7fTt9O3ZhciBsYXlvdXRQcm9wcz17fTt2YXIgTURYTGF5b3V0PSJ3cmFwcGVyIjtleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNRFhDb250ZW50KF9yZWYpe3ZhciBjb21wb25lbnRzPV9yZWYuY29tcG9uZW50cyxwcm9wcz1fb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZixbImNvbXBvbmVudHMiXSk7cmV0dXJuIG1keChNRFhMYXlvdXQsT2JqZWN0LmFzc2lnbih7fSxsYXlvdXRQcm9wcyxwcm9wcyx7Y29tcG9uZW50czpjb21wb25lbnRzLG1keFR5cGU6Ik1EWExheW91dCJ9KSxtZHgoImgxIix7ImlkIjoiZmx5d2VpZ2h0LXBhdHRlcm4ifSwiRmx5d2VpZ2h0IFBhdHRlcm4iKSxtZHgoInAiLG51bGwsIlRoZSBGbHl3ZWlnaHQgUGF0dGVybiBmYWxscyB1bmRlciB0aGUgc3RydWN0dXJhbCBkZXNpZ24gcGF0dGVybnMgZnJvbSB0aGUgR2FuZyBPZiBGb3VyLiIpLG1keCgicCIsbnVsbCwiVGhlICIsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LCJmbHl3ZWlnaHQiKSwiIGlzIGFuIG9iamVjdCB0aGF0IG1pbmltaXplcyBtZW1vcnkgdXNhZ2UgYnkgc2hhcmluZyBhcyBtdWNoIGRhdGEgYXMgcG9zc2libGUgd2l0aCBzaW1pbGFyIG9iamVjdHMgLSBhIHdheSB0byB1c2Ugb2JqZWN0cyBpbiBsYXJnZSBudW1iZXJzIHdoZW4gYSBzaW1wbGUgcmVwcmVzZW50YXRpb24gd291bGQgdXNlIGFuIHVuYWNjZXB0YWJsZSBhbW91bnQgb2YgbWVtb3J5LiIpLG1keCgiaDIiLHsiaWQiOiJ1c2FnZSJ9LCJVc2FnZSIpLG1keCgicCIsbnVsbCwiVXNlIHdoZW46IiksbWR4KCJ1bCIsbnVsbCxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSwibWFueSBzYW1lIG9iamVjdHMgYXJlIHVzZWQgYW5kIHN0b3JhZ2UgY29zdCBpcyBoaWdoLiIpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LCJ5b3UgY2FuIGV4dGVybmFsaXNlIGEgbWFqb3JpdHkgb2YgZWFjaCBvYmplY3QncyBzdGF0ZS4iKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSwiZmV3IHNoYXJlZCBvYmplY3RzIGNhbiByZXBsYWNlIG1hbnkgdW5zaGFyZWQgb25lcy4iKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSwiaWRlbnRpdHkgb2YgYW4gb2JqZWN0IG5vdCByZWxldmFudC4iKSksbWR4KCJoMiIseyJpZCI6ImV4YW1wbGUifSwiRXhhbXBsZSIpLG1keCgicCIsbnVsbCwiSGVyZSB3ZSB3aWxsIGNyZWF0ZSBhIDEwMDAgY29tYmF0YW50cyB0aGF0IiksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixPYmplY3QuYXNzaWduKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLXR5cGVzY3JpcHQifSksImludGVyZmFjZSBBY3Rpb24ge1xuICBtb3ZlKGxvY2F0aW9uOiBbbnVtYmVyLCBudW1iZXJdKTogdm9pZDtcbiAgaGl0Pyh0YXJnZXQ6IHN0cmluZywgbG9jYXRpb246IFtudW1iZXIsIG51bWJlcl0pOiB2b2lkO1xufVxuXG5jbGFzcyBDb21iYXRhbnQgaW1wbGVtZW50cyBBY3Rpb24ge1xuICBwcml2YXRlIGVxdWlwbWVudFNldDogc3RyaW5nO1xuICBudW1iZXI6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihzZXQ6IHN0cmluZywgbnVtYmVyOiBudW1iZXIpIHtcbiAgICAvLyBpbml0aWFsaXphdGlvbiBjb25zdW1lcyB0aW1lXG4gICAgdGhpcy5lcXVpcG1lbnRTZXQgPSBzZXQ7XG4gICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gICAgY29uc29sZS5sb2coYG5ldyBDb21iYXRhbnQgJHtudW1iZXJ9YCk7XG4gIH1cblxuICBtb3ZlKGxvY2F0aW9uOiBbbnVtYmVyLCBudW1iZXJdKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coYG1vdmUgdG8gJHtsb2NhdGlvbn1gKTtcbiAgfVxuXG4gIGhpdD8odGFyZ2V0OiBzdHJpbmcsIGxvY2F0aW9uOiBbbnVtYmVyLCBudW1iZXJdKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coYGRhbWFnZSAke3RhcmdldH0gYXQgJHtsb2NhdGlvbn1gKTtcbiAgfVxufVxuXG5jbGFzcyBDb21iYXRhbnRBY2FkZW15IHtcbiAgcHJpdmF0ZSBzdGF0aWMgZ3JvdXBzOiB7IFtzZXQ6IHN0cmluZ106IENvbWJhdGFudCB9ID0ge307XG5cbiAgcHVibGljIHN0YXRpYyBnZXRDb21iYXRhbnQoc2V0OiBzdHJpbmcsIG51bTogbnVtYmVyKSB7XG4gICAgbGV0IGNvbWJhdGFudCA9IENvbWJhdGFudEFjYWRlbXkuZ3JvdXBzW3NldF07XG5cbiAgICBpZiAoIWNvbWJhdGFudCkge1xuICAgICAgY29tYmF0YW50ID0gbmV3IENvbWJhdGFudChzZXQsIG51bSk7XG4gICAgICBDb21iYXRhbnRBY2FkZW15Lmdyb3Vwc1tzZXRdID0gY29tYmF0YW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21iYXRhbnQubnVtYmVyID0gbnVtO1xuICAgICAgY29uc29sZS5sb2coYHNoYXJlZCBDb21iYXRhbnQgJHtjb21iYXRhbnQubnVtYmVyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBjb21iYXRhbnQ7XG4gIH1cbn1cblxuKGZ1bmN0aW9uIG1haW4oKSB7XG4gIGxldCBzdGFydCwgZW5kO1xuXG4gIC8vIHRoZSBsYXJnZXIgeW91IGNoYW5nZSB0aGUgdGhyZXNob2xkLCB0aGUgYmlnZ2VyIHRoZSBkaWZmZXJlbmNlXG4gIGNvbnN0IHRocmVzaG9sZCA9IDUwMDAwO1xuXG4gIC8vIGluZWZmaWNpZW50IGNyZWF0aW5nIHdpdGhvdXQgZmx5d2VpZ2h0XG4gIHN0YXJ0ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aHJlc2hvbGQ7IGkrKykge1xuICAgIG5ldyBDb21iYXRhbnQoJ25vcm1hbC1zZXQnLCBpKTsgLy8gY3JlYXRpbmcgZmlmdHkgdGhvdXNhbmQgcmVhbCBDb21iYXRhbnRzXG4gIH1cbiAgZW5kID0gTWF0aC5mbG9vcihEYXRlLm5vdygpKTtcbiAgY29uc3Qgd2l0aG91dEZseXdlaWdodCA9IGVuZCAtIHN0YXJ0O1xuXG4gIC8vIGVmZmljaWVudCBjcmVhdGUgd2l0aCBmbHl3ZWlnaHRcbiAgc3RhcnQgPSBNYXRoLmZsb29yKERhdGUubm93KCkpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRocmVzaG9sZDsgaSsrKSB7XG4gICAgQ29tYmF0YW50QWNhZGVteS5nZXRDb21iYXRhbnQoJ25vcm1hbC1zZXQnLCBpKTsgLy8gY3JlYXRlIDEgQ29tYmF0YW50XG4gIH1cbiAgZW5kID0gTWF0aC5mbG9vcihEYXRlLm5vdygpKTtcbiAgY29uc3Qgd2l0aEZseXdlaWdodCA9IGVuZCAtIHN0YXJ0O1xuXG4gIGNvbnNvbGUubG9nKCdXaXRob3V0IEZseXdlaWdodCcsIHdpdGhvdXRGbHl3ZWlnaHQpO1xuICBjb25zb2xlLmxvZygnV2l0aCBGbHl3ZWlnaHQnLCB3aXRoRmx5d2VpZ2h0KTtcbn0pKCk7XG4iKSksbWR4KCJoMiIseyJpZCI6InJlc291cmNlcyJ9LCJSZXNvdXJjZXMiKSxtZHgoInVsIixudWxsLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LG1keCgiYSIsT2JqZWN0LmFzc2lnbih7cGFyZW50TmFtZToibGkifSx7ImhyZWYiOiJodHRwczovL2NpcmNsZS52aXN1YWwtcGFyYWRpZ20uY29tL2ZseXdlaWdodC8ifSksIkZseXdlaWdodCBFeGFtcGxlIikpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LG1keCgiYSIsT2JqZWN0LmFzc2lnbih7cGFyZW50TmFtZToibGkifSx7ImhyZWYiOiJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GbHl3ZWlnaHRfcGF0dGVybiJ9KSwiRmx5d2VpZ2h0IFdpa2lwZWRpYSIpKSkpO31pZih0eXBlb2YgTURYQ29udGVudCE9PSd1bmRlZmluZWQnJiZNRFhDb250ZW50JiZNRFhDb250ZW50PT09T2JqZWN0KE1EWENvbnRlbnQpJiZPYmplY3QuaXNFeHRlbnNpYmxlKE1EWENvbnRlbnQpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoTURYQ29udGVudCwnX19maWxlbWV0YScse2VudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZSx2YWx1ZTp7bmFtZToiTURYQ29udGVudCIsZmlsZW5hbWU6Im1hbnVhbC9EZXNpZ24tUGF0dGVybnMvRmx5d2VpZ2h0LVBhdHRlcm4ubWQifX0pO31NRFhDb250ZW50LmlzTURYQ29tcG9uZW50PXRydWU7"},{"version":3,"sources":["/Users/okeeffe_d/Project-Imposter/developer-notes/manual/Design-Patterns/Flyweight-Pattern.md"],"names":["React","mdx","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":"4LAAA,cACE,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,eAApB,CACA,cAGF,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,IAAI,QAAI,SAASC,CAAAA,mBAAT,CAA6BC,KAA7B,CAAoC,CAChEC,OAAO,CAACC,IAAR,CAAa,aAAeJ,IAAf,CAAsB,yEAAnC,EACA,MAAO,WAASE,KAAT,CAAP,CACD,CAHyB,EAA1B,CAKA,GAAMG,CAAAA,WAAW,CAAG,EAApB,CAGA,GAAMC,CAAAA,SAAS,CAAG,SAAlB,CACA,cAAe,SAASC,CAAAA,UAAT,MAGZ,IAFDC,CAAAA,UAEC,MAFDA,UAEC,CADEN,KACF,+CACD,MAAO,KAAC,SAAD,kBAAeG,WAAf,CAAgCH,KAAhC,EAAuC,UAAU,CAAEM,UAAnD,CAA+D,OAAO,CAAC,WAAvE,GACL,SAAQ,CACN,KAAM,mBADA,CAAR,qBADK,CAIL,uGAJK,CAKL,oBAAW,kBAAY,UAAU,CAAC,GAAvB,cAAX,uNALK,CAML,SAAQ,CACN,KAAM,OADA,CAAR,SANK,CASL,yBATK,CAUL,cACE,UAAI,UAAU,CAAC,IAAf,yDADF,CAEE,UAAI,UAAU,CAAC,IAAf,2DAFF,CAGE,UAAI,UAAU,CAAC,IAAf,uDAHF,CAIE,UAAI,UAAU,CAAC,IAAf,wCAJF,CAVK,CAgBL,SAAQ,CACN,KAAM,SADA,CAAR,WAhBK,CAmBL,0DAnBK,CAoBL,eAAK,0BAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,qBADe,CAA3B,q2DAAL,CApBK,CA2FL,SAAQ,CACN,KAAM,WADA,CAAR,aA3FK,CA8FL,cACE,UAAI,UAAU,CAAC,IAAf,EAAoB,uBAAG,UAAU,CAAC,IAAd,EAAuB,CACvC,OAAQ,+CAD+B,CAAvB,sBAApB,CADF,CAIE,UAAI,UAAU,CAAC,IAAf,EAAoB,uBAAG,UAAU,CAAC,IAAd,EAAuB,CACvC,OAAQ,iDAD+B,CAAvB,wBAApB,CAJF,CA9FK,CAAP,CAuGD,C,uRAEDD,UAAU,CAACE,cAAX,CAA4B,IAA5B","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"flyweight-pattern\"\n    }}>{`Flyweight Pattern`}</h1>\n    <p>{`The Flyweight Pattern falls under the structural design patterns from the Gang Of Four.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`flyweight`}</inlineCode>{` is an object that minimizes memory usage by sharing as much data as possible with similar objects - a way to use objects in large numbers when a simple representation would use an unacceptable amount of memory.`}</p>\n    <h2 {...{\n      \"id\": \"usage\"\n    }}>{`Usage`}</h2>\n    <p>{`Use when:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`many same objects are used and storage cost is high.`}</li>\n      <li parentName=\"ul\">{`you can externalise a majority of each object's state.`}</li>\n      <li parentName=\"ul\">{`few shared objects can replace many unshared ones.`}</li>\n      <li parentName=\"ul\">{`identity of an object not relevant.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <p>{`Here we will create a 1000 combatants that`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`interface Action {\n  move(location: [number, number]): void;\n  hit?(target: string, location: [number, number]): void;\n}\n\nclass Combatant implements Action {\n  private equipmentSet: string;\n  number: number;\n\n  constructor(set: string, number: number) {\n    // initialization consumes time\n    this.equipmentSet = set;\n    this.number = number;\n    console.log(\\`new Combatant \\${number}\\`);\n  }\n\n  move(location: [number, number]): void {\n    console.log(\\`move to \\${location}\\`);\n  }\n\n  hit?(target: string, location: [number, number]): void {\n    console.log(\\`damage \\${target} at \\${location}\\`);\n  }\n}\n\nclass CombatantAcademy {\n  private static groups: { [set: string]: Combatant } = {};\n\n  public static getCombatant(set: string, num: number) {\n    let combatant = CombatantAcademy.groups[set];\n\n    if (!combatant) {\n      combatant = new Combatant(set, num);\n      CombatantAcademy.groups[set] = combatant;\n    } else {\n      combatant.number = num;\n      console.log(\\`shared Combatant \\${combatant.number}\\`);\n    }\n\n    return combatant;\n  }\n}\n\n(function main() {\n  let start, end;\n\n  // the larger you change the threshold, the bigger the difference\n  const threshold = 50000;\n\n  // inefficient creating without flyweight\n  start = Math.floor(Date.now());\n  for (let i = 0; i < threshold; i++) {\n    new Combatant('normal-set', i); // creating fifty thousand real Combatants\n  }\n  end = Math.floor(Date.now());\n  const withoutFlyweight = end - start;\n\n  // efficient create with flyweight\n  start = Math.floor(Date.now());\n  for (let i = 0; i < threshold; i++) {\n    CombatantAcademy.getCombatant('normal-set', i); // create 1 Combatant\n  }\n  end = Math.floor(Date.now());\n  const withFlyweight = end - start;\n\n  console.log('Without Flyweight', withoutFlyweight);\n  console.log('With Flyweight', withFlyweight);\n})();\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"resources\"\n    }}>{`Resources`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://circle.visual-paradigm.com/flyweight/\"\n        }}>{`Flyweight Example`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://en.wikipedia.org/wiki/Flyweight_pattern\"\n        }}>{`Flyweight Wikipedia`}</a></li>\n    </ul>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "]}]}
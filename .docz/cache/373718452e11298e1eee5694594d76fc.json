{"remainingRequest":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js??ref--6-2!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js!/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Istio/EKS-Istio.md","dependencies":[{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Istio/EKS-Istio.md","mtime":1562563032040},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/cache-loader/dist/cjs.js","mtime":1581496618588},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1578565694890},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js","mtime":1581496618277},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js","mtime":1580255490569}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0lzdGlvL0VLUy1Jc3Rpby5tZCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmVudGVyTW9kdWxlOwogIGVudGVyTW9kdWxlICYmIGVudGVyTW9kdWxlKG1vZHVsZSk7Cn0pKCk7Cgp2YXIgX19zaWduYXR1cmVfXyA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbFsiZGVmYXVsdCJdLnNpZ25hdHVyZSA6IGZ1bmN0aW9uIChhKSB7CiAgcmV0dXJuIGE7Cn07CgovKiBAanN4IG1keCAqLwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBtZHggfSBmcm9tICdAbWR4LWpzL3JlYWN0JzsKLyogQGpzeCBtZHggKi8KCnZhciBtYWtlU2hvcnRjb2RlID0gZnVuY3Rpb24gbWFrZVNob3J0Y29kZShuYW1lKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIE1EWERlZmF1bHRTaG9ydGNvZGUocHJvcHMpIHsKICAgIGNvbnNvbGUud2FybigiQ29tcG9uZW50ICIgKyBuYW1lICsgIiB3YXMgbm90IGltcG9ydGVkLCBleHBvcnRlZCwgb3IgcHJvdmlkZWQgYnkgTURYUHJvdmlkZXIgYXMgZ2xvYmFsIHNjb3BlIik7CiAgICByZXR1cm4gbWR4KCJkaXYiLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgewogICAgICBfX3NvdXJjZTogewogICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgbGluZU51bWJlcjogOQogICAgICB9LAogICAgICBfX3NlbGY6IHRoaXMKICAgIH0pKTsKICB9Owp9OwoKdmFyIGxheW91dFByb3BzID0ge307CnZhciBNRFhMYXlvdXQgPSAid3JhcHBlciI7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1EWENvbnRlbnQoX3JlZikgewogIHZhciBjb21wb25lbnRzID0gX3JlZi5jb21wb25lbnRzLAogICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbImNvbXBvbmVudHMiXSk7CgogIHJldHVybiBtZHgoTURYTGF5b3V0LCBPYmplY3QuYXNzaWduKHt9LCBsYXlvdXRQcm9wcywgcHJvcHMsIHsKICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsCiAgICBtZHhUeXBlOiAiTURYTGF5b3V0IiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksIG1keCgiaDEiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJnZXR0aW5nLXN0YXJ0LXdpdGgtaXN0aW8tb24tZWtzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJHZXR0aW5nIHN0YXJ0IHdpdGggSXN0aW8gb24gRUtTIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlJlZmVyZW5jZSBsaW5rICIsIG1keCgiYSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInAiCiAgfSwgewogICAgImhyZWYiOiAiaHR0cHM6Ly9hd3MuYW1hem9uLmNvbS9ibG9ncy9vcGVuc291cmNlL2dldHRpbmctc3RhcnRlZC1pc3Rpby1la3MvIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJodHRwczovL2F3cy5hbWF6b24uY29tL2Jsb2dzL29wZW5zb3VyY2UvZ2V0dGluZy1zdGFydGVkLWlzdGlvLWVrcy8iKSksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJhcmNoaXRlY3R1cmUiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIkFyY2hpdGVjdHVyZSIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW1nIiwgewogICAgYWx0OiAiU21hbGwgbmV0d29yayBwcm94eSBzaWRlY2FyIGFsb25nc2lkZSBlYWNoIG1pY3Jvc2VydmljZSIsCiAgICBzcmM6ICJodHRwczovL2ktaDEucGluaW1nLmNvbS81NjR4LzE1L2Q3LzlhLzE1ZDc5YTVmNzBiYjQ1OTAwMTY2ZDFlM2E2YTNlYTA5LmpwZyIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSXN0aW8gd29ya3MgYnkgaGF2aW5nIGEgc21hbGwgbmV0d29yayBwcm94eSBzaXQgYWxvbmdzaWRlIGVhY2ggbWljcm9zZXJ2aWNlLiBUaGlzIHNvLWNhbGxlZCBcdTIwMUNzaWRlY2FyXHUyMDFEIGludGVyY2VwdHMgYWxsIG9mIHRoZSBzZXJ2aWNlXHUyMDE5cyB0cmFmZmljLCBhbmQgaGFuZGxlcyBpdCBtb3JlIGludGVsbGlnZW50bHkgdGhhbiBhIHNpbXBsZSBsYXllciAzIG5ldHdvcmsgY2FuLiBJc3RpbyB1c2VzIHRoZSBFbnZveSBwcm94eSBhcyBpdHMgc2lkZWNhci4gRW52b3kgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBhdCBMeWZ0IGFuZCBpcyBub3cgYSBDTkNGIHByb2plY3QuIFRoZSB3aG9sZSBzZXQgb2Ygc2lkZWNhcnMsIG9uZSBwZXIgbWljcm9zZXJ2aWNlLCBpcyBjYWxsZWQgdGhlIGRhdGEgcGxhbmUuIFRoZSB3b3JrIG9mIHRoZSBzaWRlY2FycyBpcyBjb29yZGluYXRlZCBieSBhIHNtYWxsIG51bWJlciBvZiBjZW50cmFsIGNvbXBvbmVudHMgY2FsbGVkIHRoZSBjb250cm9sIHBsYW5lLiBDb250cm9sIGFuZCBkYXRhIHBsYW5lIGFyY2hpdGVjdHVyZXMgYXJlIHZlcnkgY29tbW9uIGluIGRpc3RyaWJ1dGVkIHN5c3RlbXMsIGZyb20gbmV0d29yayBzd2l0Y2hlcyB0byBjb21wdXRlIGZhcm1zLiIpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAic2V0dGluZy11cC1pc3RpbyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiU2V0dGluZyB1cCBJc3RpbyIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJ0bDtkciBpcyB0byB1c2UgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiZWtzY3RsIiksICIgdG8gY3JlYXRlIGFuIEVLUyBjbHVzdGVyLiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2Utc2hlbGwiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImVrc2N0bCBjcmVhdGUgY2x1c3RlciBcXFxuICAgIC0tcmVnaW9uIHVzLXdlc3QtMiBcXFxuICAgIC0tbmFtZSBpc3Rpby1vbi1la3MgXFxcbiAgICAtLW5vZGVzIDIgXFxcbiAgICAtLXNzaC1wdWJsaWMta2V5IFwifi8uc3NoL2lkX3JzYS5wdWJcIlxuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJFbnN1cmUgeW91IGRvd25sb2FkIGFuZCBhYnN0cmFjdCB0aGUgbGF0ZXN0IElzdGlvIHJlbGVhc2UuIiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1zaGVsbCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiY3VybCAtTCBodHRwczovL2dpdC5pby9nZXRMYXRlc3RJc3RpbyB8IHNoIC1cbmNkIGlzdGlvLTEuKlxuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJBZnRlciBjaGFuZ2luZyBpbiwgZW5zdXJlIHRoYXQgeW91IGFyZSB1c2luZyAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJoZWxtIiksICIgdG8gc2V0IHVwLiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDUxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2Utc2hlbGwiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImt1YmVjdGwgY3JlYXRlIC1mIGluc3RhbGwva3ViZXJuZXRlcy9oZWxtL2hlbG0tc2VydmljZS1hY2NvdW50LnlhbWxcbiMgRXhwb3J0IGlzdG8gdG8gYmluIHRvIGVuYWJsZSBpc3Rpb2N0bFxuaGVsbSBpbml0IC0tc2VydmljZS1hY2NvdW50IHRpbGxlclxuaGVsbSBpbnN0YWxsIFxcXG4tLXdhaXQgXFxcbi0tbmFtZSBpc3RpbyBcXFxuLS1uYW1lc3BhY2UgaXN0aW8tc3lzdGVtIFxcXG5pbnN0YWxsL2t1YmVybmV0ZXMvaGVsbS9pc3Rpb1xuIyBDaGVjayBga3ViZWN0bCAtbiBrdWJlLXN5c3RlbSBnZXQgcG9gIHRvIHNlZSBpZiB0aWxsZXIgcG9kIHJ1bm5pbmdcbmt1YmVjdGwgbGFiZWwgbmFtZXNwYWNlIGRlZmF1bHQgaXN0aW8taW5qZWN0aW9uPWVuYWJsZWRcbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiTm90ZTogVGhpcyBpcyBub3QgdGhlIGJlc3QgZXhhbXBsZSBvZiBzZWN1cml0eSBwcmFjdGljZS4gQ2hlY2sgSGVsbSBkb2NzIGZvciBSQkFDIHRvIHNob3cgeW91IGhvdyB0byBzZXQgdXAgc2VjdXJlbHkuIiksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJydW5uaW5nLWEtdGVzdC1hcHBsaWNhdGlvbiIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiUnVubmluZyBhIHRlc3QgYXBwbGljYXRpb24iKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLXNoZWxsIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIjIEZyb20gdGhlIGlzdGlvIGZvbGRlciwgYXBwbHkgdGhlIGJvb2sgaW5mb1xua3ViZWN0bCBhcHBseSAtZiBcXDwoaXN0aW9jdGwga3ViZS1pbmplY3QgLWYgc2FtcGxlcy9ib29raW5mby9wbGF0Zm9ybS9rdWJlL2Jvb2tpbmZvLnlhbWwpXG4jIEV4cG9zZSB0aGUgQm9va0luZm8gd2l0aCB0aGUgR2F0ZXdheSByZXNvdXJjZVxua3ViZWN0bCBhcHBseSAtZiBzYW1wbGVzL2Jvb2tpbmZvL25ldHdvcmtpbmcvYm9va2luZm8tZ2F0ZXdheS55YW1sXG4iKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDc1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkZvciBib29raW5mby55YW1sOiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDc2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UteWFtbCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiIyBib29raW5mby55YW1sXG4jXG4jIENvcHlyaWdodCAyMDE3IElzdGlvIEF1dGhvcnNcbiNcbiMgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuIyAgIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiMgICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiNcbiMgICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4jXG4jICAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuIyAgIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiMgICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiMgICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4jICAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4jIERldGFpbHMgc2VydmljZVxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbmFwaVZlcnNpb246IHYxXG5raW5kOiBTZXJ2aWNlXG5tZXRhZGF0YTpcbiAgbmFtZTogZGV0YWlsc1xuICBsYWJlbHM6XG4gICAgYXBwOiBkZXRhaWxzXG5zcGVjOlxuICBwb3J0czpcbiAgICAtIHBvcnQ6IDkwODBcbiAgICAgIG5hbWU6IGh0dHBcbiAgc2VsZWN0b3I6XG4gICAgYXBwOiBkZXRhaWxzXG4tLS1cbmFwaVZlcnNpb246IGV4dGVuc2lvbnMvdjFiZXRhMVxua2luZDogRGVwbG95bWVudFxubWV0YWRhdGE6XG4gIG5hbWU6IGRldGFpbHMtdjFcbnNwZWM6XG4gIHJlcGxpY2FzOiAxXG4gIHRlbXBsYXRlOlxuICAgIG1ldGFkYXRhOlxuICAgICAgbGFiZWxzOlxuICAgICAgICBhcHA6IGRldGFpbHNcbiAgICAgICAgdmVyc2lvbjogdjFcbiAgICBzcGVjOlxuICAgICAgY29udGFpbmVyczpcbiAgICAgICAgLSBuYW1lOiBkZXRhaWxzXG4gICAgICAgICAgaW1hZ2U6IGlzdGlvL2V4YW1wbGVzLWJvb2tpbmZvLWRldGFpbHMtdjE6MS4xMC4wXG4gICAgICAgICAgaW1hZ2VQdWxsUG9saWN5OiBJZk5vdFByZXNlbnRcbiAgICAgICAgICBwb3J0czpcbiAgICAgICAgICAgIC0gY29udGFpbmVyUG9ydDogOTA4MFxuLS0tXG4jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuIyBSYXRpbmdzIHNlcnZpY2VcbiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5hcGlWZXJzaW9uOiB2MVxua2luZDogU2VydmljZVxubWV0YWRhdGE6XG4gIG5hbWU6IHJhdGluZ3NcbiAgbGFiZWxzOlxuICAgIGFwcDogcmF0aW5nc1xuc3BlYzpcbiAgcG9ydHM6XG4gICAgLSBwb3J0OiA5MDgwXG4gICAgICBuYW1lOiBodHRwXG4gIHNlbGVjdG9yOlxuICAgIGFwcDogcmF0aW5nc1xuLS0tXG5hcGlWZXJzaW9uOiBleHRlbnNpb25zL3YxYmV0YTFcbmtpbmQ6IERlcGxveW1lbnRcbm1ldGFkYXRhOlxuICBuYW1lOiByYXRpbmdzLXYxXG5zcGVjOlxuICByZXBsaWNhczogMVxuICB0ZW1wbGF0ZTpcbiAgICBtZXRhZGF0YTpcbiAgICAgIGxhYmVsczpcbiAgICAgICAgYXBwOiByYXRpbmdzXG4gICAgICAgIHZlcnNpb246IHYxXG4gICAgc3BlYzpcbiAgICAgIGNvbnRhaW5lcnM6XG4gICAgICAgIC0gbmFtZTogcmF0aW5nc1xuICAgICAgICAgIGltYWdlOiBpc3Rpby9leGFtcGxlcy1ib29raW5mby1yYXRpbmdzLXYxOjEuMTAuMFxuICAgICAgICAgIGltYWdlUHVsbFBvbGljeTogSWZOb3RQcmVzZW50XG4gICAgICAgICAgcG9ydHM6XG4gICAgICAgICAgICAtIGNvbnRhaW5lclBvcnQ6IDkwODBcbi0tLVxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiMgUmV2aWV3cyBzZXJ2aWNlXG4jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuYXBpVmVyc2lvbjogdjFcbmtpbmQ6IFNlcnZpY2Vcbm1ldGFkYXRhOlxuICBuYW1lOiByZXZpZXdzXG4gIGxhYmVsczpcbiAgICBhcHA6IHJldmlld3NcbnNwZWM6XG4gIHBvcnRzOlxuICAgIC0gcG9ydDogOTA4MFxuICAgICAgbmFtZTogaHR0cFxuICBzZWxlY3RvcjpcbiAgICBhcHA6IHJldmlld3Ncbi0tLVxuYXBpVmVyc2lvbjogZXh0ZW5zaW9ucy92MWJldGExXG5raW5kOiBEZXBsb3ltZW50XG5tZXRhZGF0YTpcbiAgbmFtZTogcmV2aWV3cy12MVxuc3BlYzpcbiAgcmVwbGljYXM6IDFcbiAgdGVtcGxhdGU6XG4gICAgbWV0YWRhdGE6XG4gICAgICBsYWJlbHM6XG4gICAgICAgIGFwcDogcmV2aWV3c1xuICAgICAgICB2ZXJzaW9uOiB2MVxuICAgIHNwZWM6XG4gICAgICBjb250YWluZXJzOlxuICAgICAgICAtIG5hbWU6IHJldmlld3NcbiAgICAgICAgICBpbWFnZTogaXN0aW8vZXhhbXBsZXMtYm9va2luZm8tcmV2aWV3cy12MToxLjEwLjBcbiAgICAgICAgICBpbWFnZVB1bGxQb2xpY3k6IElmTm90UHJlc2VudFxuICAgICAgICAgIHBvcnRzOlxuICAgICAgICAgICAgLSBjb250YWluZXJQb3J0OiA5MDgwXG4tLS1cbmFwaVZlcnNpb246IGV4dGVuc2lvbnMvdjFiZXRhMVxua2luZDogRGVwbG95bWVudFxubWV0YWRhdGE6XG4gIG5hbWU6IHJldmlld3MtdjJcbnNwZWM6XG4gIHJlcGxpY2FzOiAxXG4gIHRlbXBsYXRlOlxuICAgIG1ldGFkYXRhOlxuICAgICAgbGFiZWxzOlxuICAgICAgICBhcHA6IHJldmlld3NcbiAgICAgICAgdmVyc2lvbjogdjJcbiAgICBzcGVjOlxuICAgICAgY29udGFpbmVyczpcbiAgICAgICAgLSBuYW1lOiByZXZpZXdzXG4gICAgICAgICAgaW1hZ2U6IGlzdGlvL2V4YW1wbGVzLWJvb2tpbmZvLXJldmlld3MtdjI6MS4xMC4wXG4gICAgICAgICAgaW1hZ2VQdWxsUG9saWN5OiBJZk5vdFByZXNlbnRcbiAgICAgICAgICBwb3J0czpcbiAgICAgICAgICAgIC0gY29udGFpbmVyUG9ydDogOTA4MFxuLS0tXG5hcGlWZXJzaW9uOiBleHRlbnNpb25zL3YxYmV0YTFcbmtpbmQ6IERlcGxveW1lbnRcbm1ldGFkYXRhOlxuICBuYW1lOiByZXZpZXdzLXYzXG5zcGVjOlxuICByZXBsaWNhczogMVxuICB0ZW1wbGF0ZTpcbiAgICBtZXRhZGF0YTpcbiAgICAgIGxhYmVsczpcbiAgICAgICAgYXBwOiByZXZpZXdzXG4gICAgICAgIHZlcnNpb246IHYzXG4gICAgc3BlYzpcbiAgICAgIGNvbnRhaW5lcnM6XG4gICAgICAgIC0gbmFtZTogcmV2aWV3c1xuICAgICAgICAgIGltYWdlOiBpc3Rpby9leGFtcGxlcy1ib29raW5mby1yZXZpZXdzLXYzOjEuMTAuMFxuICAgICAgICAgIGltYWdlUHVsbFBvbGljeTogSWZOb3RQcmVzZW50XG4gICAgICAgICAgcG9ydHM6XG4gICAgICAgICAgICAtIGNvbnRhaW5lclBvcnQ6IDkwODBcbi0tLVxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiMgUHJvZHVjdHBhZ2Ugc2VydmljZXNcbiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5hcGlWZXJzaW9uOiB2MVxua2luZDogU2VydmljZVxubWV0YWRhdGE6XG4gIG5hbWU6IHByb2R1Y3RwYWdlXG4gIGxhYmVsczpcbiAgICBhcHA6IHByb2R1Y3RwYWdlXG5zcGVjOlxuICBwb3J0czpcbiAgICAtIHBvcnQ6IDkwODBcbiAgICAgIG5hbWU6IGh0dHBcbiAgc2VsZWN0b3I6XG4gICAgYXBwOiBwcm9kdWN0cGFnZVxuLS0tXG5hcGlWZXJzaW9uOiBleHRlbnNpb25zL3YxYmV0YTFcbmtpbmQ6IERlcGxveW1lbnRcbm1ldGFkYXRhOlxuICBuYW1lOiBwcm9kdWN0cGFnZS12MVxuc3BlYzpcbiAgcmVwbGljYXM6IDFcbiAgdGVtcGxhdGU6XG4gICAgbWV0YWRhdGE6XG4gICAgICBsYWJlbHM6XG4gICAgICAgIGFwcDogcHJvZHVjdHBhZ2VcbiAgICAgICAgdmVyc2lvbjogdjFcbiAgICBzcGVjOlxuICAgICAgY29udGFpbmVyczpcbiAgICAgICAgLSBuYW1lOiBwcm9kdWN0cGFnZVxuICAgICAgICAgIGltYWdlOiBpc3Rpby9leGFtcGxlcy1ib29raW5mby1wcm9kdWN0cGFnZS12MToxLjEwLjBcbiAgICAgICAgICBpbWFnZVB1bGxQb2xpY3k6IElmTm90UHJlc2VudFxuICAgICAgICAgIHBvcnRzOlxuICAgICAgICAgICAgLSBjb250YWluZXJQb3J0OiA5MDgwXG4tLS1cbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjczCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRoZSBmb2xsb3dpbmcgY29tbWFuZHMgd2lsbCBsb2NhdGUgdGhlIGhvc3QgYW5kIHBvcnQgd2UgdWx0aW1hdGVseSBuZWVkIHRvIGhpdCB0byBhY2Nlc3Mgb3VyIEJvb2tpbmZvIGFwcGxpY2F0aW9uIGZyb20gYWNyb3NzIHRoZSBpbnRlcm5ldDoiKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNzQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1zaGVsbCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNzQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIiQgZXhwb3J0IElOR1JFU1NfSE9TVD0kKGt1YmVjdGwgLW4gaXN0aW8tc3lzdGVtIFxcXG5nZXQgc2VydmljZSBpc3Rpby1pbmdyZXNzZ2F0ZXdheSBcXFxuLW8ganNvbnBhdGg9J3suc3RhdHVzLmxvYWRCYWxhbmNlci5pbmdyZXNzWzBdLmhvc3RuYW1lfScpXG4kIGV4cG9ydCBJTkdSRVNTX1BPUlQ9JChrdWJlY3RsIC1uIGlzdGlvLXN5c3RlbSBcXFxuZ2V0IHNlcnZpY2UgaXN0aW8taW5ncmVzc2dhdGV3YXkgXFxcbi1vIGpzb25wYXRoPSd7LnNwZWMucG9ydHNbPyhALm5hbWU9PVwiaHR0cDJcIildLnBvcnR9JylcbiQgZXhwb3J0IEdBVEVXQVlfVVJMPSRJTkdSRVNTX0hPU1Q6JElOR1JFU1NfUE9SVFxuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAibGF5ZXItNy1yb3V0aW5nIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiTGF5ZXIgNyBSb3V0aW5nIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJTbywgbGV0XHUyMDE5cyBnZXQgdGhpbmdzIHVuZGVyIGNvbnRyb2wgYW5kIHBpbiBhbGwgY2FsbHMgdG8gcmV2aWV3cyB2MSBmb3Igbm93LiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyODgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhlIEJvb2tpbmZvIHNhbXBsZSBoYXMgYSBmZXcgcHJlLW1hZGUgSXN0aW8gY29uZmlncyB3ZSBjYW4gdXNlLCBhbmQgdGhpcyBpcyBvbmUgb2YgdGhlbS4iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjg5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkZpcnN0IHdlIG5lZWQgdG8gdGVsbCBJc3RpbyBhYm91dCB0aGUgZGlmZmVyZW50IHZlcnNpb25zIHRoYXQgZXhpc3QgYW5kIGhvdyB0byB0ZWxsIHRoZW0gYXBhcnQgKGluIHRoaXMgY2FzZSwgbGFiZWxzIG9uIHRoZSBLdWJlcm5ldGVzIERlcGxveW1lbnQpLiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLXNoZWxsIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAia3ViZWN0bCBhcHBseSAtZiBzYW1wbGVzL2Jvb2tpbmZvL25ldHdvcmtpbmcvZGVzdGluYXRpb24tcnVsZS1hbGwueWFtbFxuIikpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLXlhbWwiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjk0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIjIGRlc3RpbmF0aW9uLXJ1bGUtYWxsLnlhbWxcbmFwaVZlcnNpb246IG5ldHdvcmtpbmcuaXN0aW8uaW8vdjFhbHBoYTNcbmtpbmQ6IERlc3RpbmF0aW9uUnVsZVxubWV0YWRhdGE6XG4gIG5hbWU6IHByb2R1Y3RwYWdlXG5zcGVjOlxuICBob3N0OiBwcm9kdWN0cGFnZVxuICBzdWJzZXRzOlxuICAgIC0gbmFtZTogdjFcbiAgICAgIGxhYmVsczpcbiAgICAgICAgdmVyc2lvbjogdjFcbi0tLVxuYXBpVmVyc2lvbjogbmV0d29ya2luZy5pc3Rpby5pby92MWFscGhhM1xua2luZDogRGVzdGluYXRpb25SdWxlXG5tZXRhZGF0YTpcbiAgbmFtZTogcmV2aWV3c1xuc3BlYzpcbiAgaG9zdDogcmV2aWV3c1xuICBzdWJzZXRzOlxuICAgIC0gbmFtZTogdjFcbiAgICAgIGxhYmVsczpcbiAgICAgICAgdmVyc2lvbjogdjFcbiAgICAtIG5hbWU6IHYyXG4gICAgICBsYWJlbHM6XG4gICAgICAgIHZlcnNpb246IHYyXG4gICAgLSBuYW1lOiB2M1xuICAgICAgbGFiZWxzOlxuICAgICAgICB2ZXJzaW9uOiB2M1xuLS0tXG5hcGlWZXJzaW9uOiBuZXR3b3JraW5nLmlzdGlvLmlvL3YxYWxwaGEzXG5raW5kOiBEZXN0aW5hdGlvblJ1bGVcbm1ldGFkYXRhOlxuICBuYW1lOiByYXRpbmdzXG5zcGVjOlxuICBob3N0OiByYXRpbmdzXG4gIHN1YnNldHM6XG4gICAgLSBuYW1lOiB2MVxuICAgICAgbGFiZWxzOlxuICAgICAgICB2ZXJzaW9uOiB2MVxuICAgIC0gbmFtZTogdjJcbiAgICAgIGxhYmVsczpcbiAgICAgICAgdmVyc2lvbjogdjJcbiAgICAtIG5hbWU6IHYyLW15c3FsXG4gICAgICBsYWJlbHM6XG4gICAgICAgIHZlcnNpb246IHYyLW15c3FsXG4gICAgLSBuYW1lOiB2Mi1teXNxbC12bVxuICAgICAgbGFiZWxzOlxuICAgICAgICB2ZXJzaW9uOiB2Mi1teXNxbC12bVxuLS0tXG5hcGlWZXJzaW9uOiBuZXR3b3JraW5nLmlzdGlvLmlvL3YxYWxwaGEzXG5raW5kOiBEZXN0aW5hdGlvblJ1bGVcbm1ldGFkYXRhOlxuICBuYW1lOiBkZXRhaWxzXG5zcGVjOlxuICBob3N0OiBkZXRhaWxzXG4gIHN1YnNldHM6XG4gICAgLSBuYW1lOiB2MVxuICAgICAgbGFiZWxzOlxuICAgICAgICB2ZXJzaW9uOiB2MVxuICAgIC0gbmFtZTogdjJcbiAgICAgIGxhYmVsczpcbiAgICAgICAgdmVyc2lvbjogdjJcbi0tLVxuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNjAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImltZyIsIHsKICAgIGFsdDogIkRlc3QgcnVsZXMiLAogICAgc3JjOiAiaHR0cHM6Ly9pLWgxLnBpbmltZy5jb20vNTY0eC9lOS9hNy84MS9lOWE3ODE5YjZlZDM0OWYyN2Q0ZWEwOTE1YzA2NjVmNS5qcGciLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzYwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSkpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNjEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiV2l0aCB0aG9zZSBzdWJzZXRzIG9mIHRoZSByZXZpZXdzIFNlcnZpY2UgZGVmaW5lZCwgd2UgY2FuIHRlbGwgSXN0aW8gdGhhdCBhbnlvbmUgbG9va2luZyB0byBjYWxsIHJldmlld3Mgc2hvdWxkIGFsd2F5cyBiZSBkaXJlY3RlZCB0byB2MS4iKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNjIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1zaGVsbCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNjIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImt1YmVjdGwgYXBwbHkgLWYgc2FtcGxlcy9ib29raW5mby9uZXR3b3JraW5nL3ZpcnR1YWwtc2VydmljZS1hbGwtdjEueWFtbFxuIikpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM2NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLXlhbWwiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzY2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIjIHZpcnR1YWwtc2VydmljZS1ydWxlYWxsdjEueWFtbFxuYXBpVmVyc2lvbjogbmV0d29ya2luZy5pc3Rpby5pby92MWFscGhhM1xua2luZDogVmlydHVhbFNlcnZpY2Vcbm1ldGFkYXRhOlxuICBuYW1lOiBwcm9kdWN0cGFnZVxuc3BlYzpcbiAgaG9zdHM6XG4gICAgLSBwcm9kdWN0cGFnZVxuICBodHRwOlxuICAgIC0gcm91dGU6XG4gICAgICAgIC0gZGVzdGluYXRpb246XG4gICAgICAgICAgICBob3N0OiBwcm9kdWN0cGFnZVxuICAgICAgICAgICAgc3Vic2V0OiB2MVxuLS0tXG5hcGlWZXJzaW9uOiBuZXR3b3JraW5nLmlzdGlvLmlvL3YxYWxwaGEzXG5raW5kOiBWaXJ0dWFsU2VydmljZVxubWV0YWRhdGE6XG4gIG5hbWU6IHJldmlld3NcbnNwZWM6XG4gIGhvc3RzOlxuICAgIC0gcmV2aWV3c1xuICBodHRwOlxuICAgIC0gcm91dGU6XG4gICAgICAgIC0gZGVzdGluYXRpb246XG4gICAgICAgICAgICBob3N0OiByZXZpZXdzXG4gICAgICAgICAgICBzdWJzZXQ6IHYxXG4tLS1cbmFwaVZlcnNpb246IG5ldHdvcmtpbmcuaXN0aW8uaW8vdjFhbHBoYTNcbmtpbmQ6IFZpcnR1YWxTZXJ2aWNlXG5tZXRhZGF0YTpcbiAgbmFtZTogcmF0aW5nc1xuc3BlYzpcbiAgaG9zdHM6XG4gICAgLSByYXRpbmdzXG4gIGh0dHA6XG4gICAgLSByb3V0ZTpcbiAgICAgICAgLSBkZXN0aW5hdGlvbjpcbiAgICAgICAgICAgIGhvc3Q6IHJhdGluZ3NcbiAgICAgICAgICAgIHN1YnNldDogdjFcbi0tLVxuYXBpVmVyc2lvbjogbmV0d29ya2luZy5pc3Rpby5pby92MWFscGhhM1xua2luZDogVmlydHVhbFNlcnZpY2Vcbm1ldGFkYXRhOlxuICBuYW1lOiBkZXRhaWxzXG5zcGVjOlxuICBob3N0czpcbiAgICAtIGRldGFpbHNcbiAgaHR0cDpcbiAgICAtIHJvdXRlOlxuICAgICAgICAtIGRlc3RpbmF0aW9uOlxuICAgICAgICAgICAgaG9zdDogZGV0YWlsc1xuICAgICAgICAgICAgc3Vic2V0OiB2MVxuLS0tXG4iKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQyMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW1nIiwgewogICAgYWx0OiAiUm91dGUgY2hhbmdlcyIsCiAgICBzcmM6ICJodHRwczovL2QyOTA4cTAxdm9tcWIyLmNsb3VkZnJvbnQubmV0L2NhMzUxMmY0ZGZhOTVhMDMxNjljNWE2NzBhNGM5MWExOWIzMDc3YjQvMjAxOC8wOC8yMi9pc3Rpby1ob3N0LXJldmlld3MuanBnIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQyMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogInRlYXJkb3duIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQyMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiVGVhcmRvd24iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDI2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkRlbGV0aW5nIHRoZSByZXNvdXJjZXM6IiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDI3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2Utc2hlbGwiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDI3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJrdWJlY3RsIGRlbGV0ZSAtZiBzYW1wbGVzL2Jvb2tpbmZvL25ldHdvcmtpbmcvYm9va2luZm8tZ2F0ZXdheS55YW1sXG5rdWJlY3RsIGRlbGV0ZSAtZiBcXDwoaXN0aW9jdGwga3ViZS1pbmplY3QgLWYgc2FtcGxlcy9ib29raW5mby9wbGF0Zm9ybS9rdWJlL2Jvb2tpbmZvLnlhbWwpXG5oZWxtIGRlbGV0ZSBcXFxuLS13YWl0IFxcXG4tLW5hbWUgaXN0aW8gXFxcbi0tbmFtZXNwYWNlIGlzdGlvLXN5c3RlbSBcXFxuaW5zdGFsbC9rdWJlcm5ldGVzL2hlbG0vaXN0aW9cbiIpKSk7Cn0KCmlmICh0eXBlb2YgTURYQ29udGVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgTURYQ29udGVudCAmJiBNRFhDb250ZW50ID09PSBPYmplY3QoTURYQ29udGVudCkgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShNRFhDb250ZW50KSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRFhDb250ZW50LCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiTURYQ29udGVudCIsCiAgICAgIGZpbGVuYW1lOiAibWFudWFsL0lzdGlvL0VLUy1Jc3Rpby5tZCIKICAgIH0KICB9KTsKfQoKTURYQ29udGVudC5pc01EWENvbXBvbmVudCA9IHRydWU7CjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZGVmYXVsdDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIobWFrZVNob3J0Y29kZSwgIm1ha2VTaG9ydGNvZGUiLCAiL1VzZXJzL2Rlbm5pcy5va2VlZmZlL1Byb2plY3QtSW1wb3N0ZXIvZGV2ZWxvcGVyLW5vdGVzL21hbnVhbC9Jc3Rpby9FS1MtSXN0aW8ubWQiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihsYXlvdXRQcm9wcywgImxheW91dFByb3BzIiwgIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9tYW51YWwvSXN0aW8vRUtTLUlzdGlvLm1kIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoTURYTGF5b3V0LCAiTURYTGF5b3V0IiwgIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9tYW51YWwvSXN0aW8vRUtTLUlzdGlvLm1kIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoTURYQ29udGVudCwgIk1EWENvbnRlbnQiLCAiL1VzZXJzL2Rlbm5pcy5va2VlZmZlL1Byb2plY3QtSW1wb3N0ZXIvZGV2ZWxvcGVyLW5vdGVzL21hbnVhbC9Jc3Rpby9FS1MtSXN0aW8ubWQiKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkubGVhdmVNb2R1bGU7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Istio/EKS-Istio.md"],"names":["React","mdx","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":";;;;;;;;;;;;AAAA;AACE,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,eAApB;AACA;;AAGF,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,IAAI;AAAA,SAAI,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAChEC,IAAAA,OAAO,CAACC,IAAR,CAAa,eAAeJ,IAAf,GAAsB,yEAAnC;AACA,WAAO,6BAASE,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD,GAHyB;AAAA,CAA1B;;AAKA,IAAMG,WAAW,GAAG,EAApB;AAGA,IAAMC,SAAS,GAAG,SAAlB;AACA,eAAe,SAASC,UAAT,OAGZ;AAAA,MAFDC,UAEC,QAFDA,UAEC;AAAA,MADEN,KACF;;AACD,SAAO,IAAC,SAAD,oBAAeG,WAAf,EAAgCH,KAAhC;AAAuC,IAAA,UAAU,EAAEM,UAAnD;AAA+D,IAAA,OAAO,EAAC,WAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADK,EAIL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAsB;AAAG,IAAA,UAAU,EAAC;AAAd,KAAsB;AACxC,YAAQ;AADgC,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAAtB,CAJK,EAOL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPK,EAUL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAK,IAAA,GAAG,EAAC,yDAAT;AAAmE,IAAA,GAAG,EAAC,4EAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CAVK,EAWL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+nBAXK,EAYL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAZK,EAeL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAuB;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAvB,+BAfK,EAgBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wJAAL,CAhBK,EAwBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAxBK,EAyBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qEAAL,CAzBK,EA8BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAAoD;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAApD,gBA9BK,EA+BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mYAAL,CA/BK,EA4CL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6HA5CK,EA6CL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCA7CK,EAgDL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wQAAL,CAhDK,EAuDL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAvDK,EAwDL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,skJAAL,CAxDK,EA6PL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mJA7PK,EA8PL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iWAAL,CA9PK,EAwQL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAxQK,EA2QL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFA3QK,EA4QL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iGA5QK,EA6QL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2JA7QK,EA8QL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iFAAL,CA9QK,EAkRL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4mCAAL,CAlRK,EAoVL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAK,IAAA,GAAG,EAAC,YAAT;AAAsB,IAAA,GAAG,EAAC,4EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CApVK,EAqVL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iJArVK,EAsVL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mFAAL,CAtVK,EA0VL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,m8BAAL,CA1VK,EAkZL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAK,IAAA,GAAG,EAAC,eAAT;AAAyB,IAAA,GAAG,EAAC,kHAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CAlZK,EAmZL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAnZK,EAsZL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAtZK,EAuZL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mRAAL,CAvZK,CAAP;AAkaD;;;;;;;;;;;;;AAEDD,UAAU,CAACE,cAAX,GAA4B,IAA5B;;;;;;;;;;0BAjbMV,a;0BAKAM,W;0BAGAC,S;0BACkBC,U","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"getting-start-with-istio-on-eks\"\n    }}>{`Getting start with Istio on EKS`}</h1>\n    <p>{`Reference link `}<a parentName=\"p\" {...{\n        \"href\": \"https://aws.amazon.com/blogs/opensource/getting-started-istio-eks/\"\n      }}>{`https://aws.amazon.com/blogs/opensource/getting-started-istio-eks/`}</a></p>\n    <h2 {...{\n      \"id\": \"architecture\"\n    }}>{`Architecture`}</h2>\n    <p><img alt=\"Small network proxy sidecar alongside each microservice\" src=\"https://i-h1.pinimg.com/564x/15/d7/9a/15d79a5f70bb45900166d1e3a6a3ea09.jpg\" /></p>\n    <p>{`Istio works by having a small network proxy sit alongside each microservice. This so-called “sidecar” intercepts all of the service’s traffic, and handles it more intelligently than a simple layer 3 network can. Istio uses the Envoy proxy as its sidecar. Envoy was originally written at Lyft and is now a CNCF project. The whole set of sidecars, one per microservice, is called the data plane. The work of the sidecars is coordinated by a small number of central components called the control plane. Control and data plane architectures are very common in distributed systems, from network switches to compute farms.`}</p>\n    <h2 {...{\n      \"id\": \"setting-up-istio\"\n    }}>{`Setting up Istio`}</h2>\n    <p>{`tl;dr is to use `}<inlineCode parentName=\"p\">{`eksctl`}</inlineCode>{` to create an EKS cluster.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`eksctl create cluster \\\\\n    --region us-west-2 \\\\\n    --name istio-on-eks \\\\\n    --nodes 2 \\\\\n    --ssh-public-key \"~/.ssh/id_rsa.pub\"\n`}</code></pre>\n    <p>{`Ensure you download and abstract the latest Istio release.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl -L https://git.io/getLatestIstio | sh -\ncd istio-1.*\n`}</code></pre>\n    <p>{`After changing in, ensure that you are using `}<inlineCode parentName=\"p\">{`helm`}</inlineCode>{` to set up.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create -f install/kubernetes/helm/helm-service-account.yaml\n# Export isto to bin to enable istioctl\nhelm init --service-account tiller\nhelm install \\\\\n--wait \\\\\n--name istio \\\\\n--namespace istio-system \\\\\ninstall/kubernetes/helm/istio\n# Check \\`kubectl -n kube-system get po\\` to see if tiller pod running\nkubectl label namespace default istio-injection=enabled\n`}</code></pre>\n    <p>{`Note: This is not the best example of security practice. Check Helm docs for RBAC to show you how to set up securely.`}</p>\n    <h2 {...{\n      \"id\": \"running-a-test-application\"\n    }}>{`Running a test application`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# From the istio folder, apply the book info\nkubectl apply -f \\\\<(istioctl kube-inject -f samples/bookinfo/platform/kube/bookinfo.yaml)\n# Expose the BookInfo with the Gateway resource\nkubectl apply -f samples/bookinfo/networking/bookinfo-gateway.yaml\n`}</code></pre>\n    <p>{`For bookinfo.yaml:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`# bookinfo.yaml\n#\n# Copyright 2017 Istio Authors\n#\n#   Licensed under the Apache License, Version 2.0 (the \"License\");\n#   you may not use this file except in compliance with the License.\n#   You may obtain a copy of the License at\n#\n#       http://www.apache.org/licenses/LICENSE-2.0\n#\n#   Unless required by applicable law or agreed to in writing, software\n#   distributed under the License is distributed on an \"AS IS\" BASIS,\n#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#   See the License for the specific language governing permissions and\n#   limitations under the License.\n\n##################################################################################################\n# Details service\n##################################################################################################\napiVersion: v1\nkind: Service\nmetadata:\n  name: details\n  labels:\n    app: details\nspec:\n  ports:\n    - port: 9080\n      name: http\n  selector:\n    app: details\n---\napiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: details-v1\nspec:\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: details\n        version: v1\n    spec:\n      containers:\n        - name: details\n          image: istio/examples-bookinfo-details-v1:1.10.0\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9080\n---\n##################################################################################################\n# Ratings service\n##################################################################################################\napiVersion: v1\nkind: Service\nmetadata:\n  name: ratings\n  labels:\n    app: ratings\nspec:\n  ports:\n    - port: 9080\n      name: http\n  selector:\n    app: ratings\n---\napiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: ratings-v1\nspec:\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: ratings\n        version: v1\n    spec:\n      containers:\n        - name: ratings\n          image: istio/examples-bookinfo-ratings-v1:1.10.0\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9080\n---\n##################################################################################################\n# Reviews service\n##################################################################################################\napiVersion: v1\nkind: Service\nmetadata:\n  name: reviews\n  labels:\n    app: reviews\nspec:\n  ports:\n    - port: 9080\n      name: http\n  selector:\n    app: reviews\n---\napiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: reviews-v1\nspec:\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: reviews\n        version: v1\n    spec:\n      containers:\n        - name: reviews\n          image: istio/examples-bookinfo-reviews-v1:1.10.0\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9080\n---\napiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: reviews-v2\nspec:\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: reviews\n        version: v2\n    spec:\n      containers:\n        - name: reviews\n          image: istio/examples-bookinfo-reviews-v2:1.10.0\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9080\n---\napiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: reviews-v3\nspec:\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: reviews\n        version: v3\n    spec:\n      containers:\n        - name: reviews\n          image: istio/examples-bookinfo-reviews-v3:1.10.0\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9080\n---\n##################################################################################################\n# Productpage services\n##################################################################################################\napiVersion: v1\nkind: Service\nmetadata:\n  name: productpage\n  labels:\n    app: productpage\nspec:\n  ports:\n    - port: 9080\n      name: http\n  selector:\n    app: productpage\n---\napiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: productpage-v1\nspec:\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: productpage\n        version: v1\n    spec:\n      containers:\n        - name: productpage\n          image: istio/examples-bookinfo-productpage-v1:1.10.0\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9080\n---\n`}</code></pre>\n    <p>{`The following commands will locate the host and port we ultimately need to hit to access our Bookinfo application from across the internet:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`$ export INGRESS_HOST=$(kubectl -n istio-system \\\\\nget service istio-ingressgateway \\\\\n-o jsonpath='{.status.loadBalancer.ingress[0].hostname}')\n$ export INGRESS_PORT=$(kubectl -n istio-system \\\\\nget service istio-ingressgateway \\\\\n-o jsonpath='{.spec.ports[?(@.name==\"http2\")].port}')\n$ export GATEWAY_URL=$INGRESS_HOST:$INGRESS_PORT\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"layer-7-routing\"\n    }}>{`Layer 7 Routing`}</h2>\n    <p>{`So, let’s get things under control and pin all calls to reviews v1 for now.`}</p>\n    <p>{`The Bookinfo sample has a few pre-made Istio configs we can use, and this is one of them.`}</p>\n    <p>{`First we need to tell Istio about the different versions that exist and how to tell them apart (in this case, labels on the Kubernetes Deployment).`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl apply -f samples/bookinfo/networking/destination-rule-all.yaml\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`# destination-rule-all.yaml\napiVersion: networking.istio.io/v1alpha3\nkind: DestinationRule\nmetadata:\n  name: productpage\nspec:\n  host: productpage\n  subsets:\n    - name: v1\n      labels:\n        version: v1\n---\napiVersion: networking.istio.io/v1alpha3\nkind: DestinationRule\nmetadata:\n  name: reviews\nspec:\n  host: reviews\n  subsets:\n    - name: v1\n      labels:\n        version: v1\n    - name: v2\n      labels:\n        version: v2\n    - name: v3\n      labels:\n        version: v3\n---\napiVersion: networking.istio.io/v1alpha3\nkind: DestinationRule\nmetadata:\n  name: ratings\nspec:\n  host: ratings\n  subsets:\n    - name: v1\n      labels:\n        version: v1\n    - name: v2\n      labels:\n        version: v2\n    - name: v2-mysql\n      labels:\n        version: v2-mysql\n    - name: v2-mysql-vm\n      labels:\n        version: v2-mysql-vm\n---\napiVersion: networking.istio.io/v1alpha3\nkind: DestinationRule\nmetadata:\n  name: details\nspec:\n  host: details\n  subsets:\n    - name: v1\n      labels:\n        version: v1\n    - name: v2\n      labels:\n        version: v2\n---\n`}</code></pre>\n    <p><img alt=\"Dest rules\" src=\"https://i-h1.pinimg.com/564x/e9/a7/81/e9a7819b6ed349f27d4ea0915c0665f5.jpg\" /></p>\n    <p>{`With those subsets of the reviews Service defined, we can tell Istio that anyone looking to call reviews should always be directed to v1.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl apply -f samples/bookinfo/networking/virtual-service-all-v1.yaml\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`# virtual-service-ruleallv1.yaml\napiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: productpage\nspec:\n  hosts:\n    - productpage\n  http:\n    - route:\n        - destination:\n            host: productpage\n            subset: v1\n---\napiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: reviews\nspec:\n  hosts:\n    - reviews\n  http:\n    - route:\n        - destination:\n            host: reviews\n            subset: v1\n---\napiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: ratings\nspec:\n  hosts:\n    - ratings\n  http:\n    - route:\n        - destination:\n            host: ratings\n            subset: v1\n---\napiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: details\nspec:\n  hosts:\n    - details\n  http:\n    - route:\n        - destination:\n            host: details\n            subset: v1\n---\n`}</code></pre>\n    <p><img alt=\"Route changes\" src=\"https://d2908q01vomqb2.cloudfront.net/ca3512f4dfa95a03169c5a670a4c91a19b3077b4/2018/08/22/istio-host-reviews.jpg\" /></p>\n    <h2 {...{\n      \"id\": \"teardown\"\n    }}>{`Teardown`}</h2>\n    <p>{`Deleting the resources:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl delete -f samples/bookinfo/networking/bookinfo-gateway.yaml\nkubectl delete -f \\\\<(istioctl kube-inject -f samples/bookinfo/platform/kube/bookinfo.yaml)\nhelm delete \\\\\n--wait \\\\\n--name istio \\\\\n--namespace istio-system \\\\\ninstall/kubernetes/helm/istio\n`}</code></pre>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "]}]}
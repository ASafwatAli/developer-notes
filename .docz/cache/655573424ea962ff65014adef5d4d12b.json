{"remainingRequest":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js??ref--6-2!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js!/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/COMP3520-OS/Pthread.md","dependencies":[{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/COMP3520-OS/Pthread.md","mtime":1562563032017},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/cache-loader/dist/cjs.js","mtime":1581496618588},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1578565694890},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js","mtime":1581496618277},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js","mtime":1580255490569}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0NPTVAzNTIwLU9TL1B0aHJlYWQubWQiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5lbnRlck1vZHVsZTsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWxbImRlZmF1bHQiXS5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKLyogQGpzeCBtZHggKi8KaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgbWR4IH0gZnJvbSAnQG1keC1qcy9yZWFjdCc7Ci8qIEBqc3ggbWR4ICovCgp2YXIgbWFrZVNob3J0Y29kZSA9IGZ1bmN0aW9uIG1ha2VTaG9ydGNvZGUobmFtZSkgewogIHJldHVybiBmdW5jdGlvbiBNRFhEZWZhdWx0U2hvcnRjb2RlKHByb3BzKSB7CiAgICBjb25zb2xlLndhcm4oIkNvbXBvbmVudCAiICsgbmFtZSArICIgd2FzIG5vdCBpbXBvcnRlZCwgZXhwb3J0ZWQsIG9yIHByb3ZpZGVkIGJ5IE1EWFByb3ZpZGVyIGFzIGdsb2JhbCBzY29wZSIpOwogICAgcmV0dXJuIG1keCgiZGl2IiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHsKICAgICAgX19zb3VyY2U6IHsKICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgIGxpbmVOdW1iZXI6IDkKICAgICAgfSwKICAgICAgX19zZWxmOiB0aGlzCiAgICB9KSk7CiAgfTsKfTsKCnZhciBsYXlvdXRQcm9wcyA9IHt9Owp2YXIgTURYTGF5b3V0ID0gIndyYXBwZXIiOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNRFhDb250ZW50KF9yZWYpIHsKICB2YXIgY29tcG9uZW50cyA9IF9yZWYuY29tcG9uZW50cywKICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgWyJjb21wb25lbnRzIl0pOwoKICByZXR1cm4gbWR4KE1EWExheW91dCwgT2JqZWN0LmFzc2lnbih7fSwgbGF5b3V0UHJvcHMsIHByb3BzLCB7CiAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLAogICAgbWR4VHlwZTogIk1EWExheW91dCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCBtZHgoImgxIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAicHRocmVhZHMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlB0aHJlYWRzIiksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJwdGhyZWFkcy1hcGkiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlB0aHJlYWRzIEFQSSIpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkRlZmluZWQgaW4gdGhlIEFOU0kvSUVFRSBQb3NpeCAxMDAzLjEgLSAxOTk1IHN0YW5kYXJkIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiU3Vicm91dGluZXMgY29tcHJpc2UgdGhlIFB0aHJlYWRzIEFQSSBjYW4gYmUgaW5mb3JtYWxseSBncm91cGVkIGludG8gdGhyZWUgbWFqb3IgY2xhc3NlczoiKSksIG1keCgib2wiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAib2wiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhyZWFkIG1hbmFnZW1lbnQiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJNdXRleGVzICIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogIm9sIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkNvbmRpdGlvbiB2YXJpYWJsZXMiKSksIG1keCgiaDEiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICIxLXRocmVhZC1tYW5hZ2VtZW50IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIxOiBUaHJlYWQgTWFuYWdlbWVudCIpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImZpcnN0IGNsYXNzIG9mIGZ1bmN0aW9ucyB3b3JrIGRpcmVjdGx5IG9uIHRocmVhZHMgLSBjcmVhdGluZywgZGV0YXRjaGluZywgam9pbmluZyBldGMgIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiYWxzbyBpbmNsdWRlIGZ1bmNzIHRvIHNldC9xdWVyeSB0aHJlYWQgYXR0cmlidXRlcyAoam9pbmFibGUsIHNjaGVkdWxpbmcgZXRjKSIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkNyZWF0ZSBUaHJlYWRzIikpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQ1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImluaXRpYWxseSwgc2luZ2xlIGRlZmF1bHQgdGhyZWFkIC0gb3RoZXJzIG11c3QgYmUgZXhwbGljaXRseSBjcmVhdGVkIikpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQ3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHt9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAicHRocmVhZF9jcmVhdGUodGhyZWFkLCBhdHRyLCBzdGFydFJvdXRpbmUsIGFyZylcbi8vIHRocmVhZCAtIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgbmV3IHRocmVhZCAocHRocmVhZF90KVxuLy8gYXR0ciAtIGF0dHIgb2JqZWN0IHVzZWQgdG8gc2V0IHRocmVhZCBhdHRyaWJ1dGVzIChwdGhyZWFkX2F0dHIpIC0geW91IGNhbiBzcGVjaWZ5IGEgdGhyZWFkIGF0dHJpYnV0ZXMgb2JqZWN0LCBvciBOVUxMIGZvciB0aGUgZGVmYXVsdCB2YWx1ZXNcbi8vIHN0YXJ0Um91dGluZSAtIEMgcm91dGluZSB0aGF0IHRoZSB0aHJlYWQgd2lsbCBleGVjdXRlIFxuLy8gYXJnIC0gc2luZ2xlIGFyZyB0aGF0IG1heSBiZSBwYXNzZWQgdG8gc3RhcnRSb3V0aW5lIC0gaXQgbXVzdCBiZSBwYXNzZWQgYnkgcmVmZXJlbmNlIChwb2ludGVyIHRvIHN0cnVjdCkgYW5kIE5VTEwgbWF5IGJlIHVzZWQgaWYgbm8gYXJnIGlzIHRvIGJlIHBhc3NlZFxuXG4vKlxuICAgIElmIHN1Y2Nlc3NmdWwsIHRoZSBwdGhyZWFkX2NyZWF0ZSgpIGZ1bmN0aW9uIHNoYWxsIHJldHVybiB6ZXJvOyBvdGhlcndpc2UsIGFuIGVycm9yIG51bWJlciBzaGFsbCBiZSByZXR1cm5lZCB0byBpbmRpY2F0ZSB0aGUgZXJyb3JcbiAqL1xuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgic3Ryb25nIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhyZWFkIEF0dHJpYnV0ZXMiKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkJ5IGRlZmF1bHQsIGEgdGhyZWFkIGlzIGNyZWF0ZWQgd2l0aCBjZXJ0YWluIGF0dHJpYnV0ZXMuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfYXR0cl9pbml0KGF0dHIpIGFuZCBwdGhyZWFkX2F0dHJfZGVzdHJveShhdHRyKSBhcmUgdXNlZCB0byBpbml0aWFsaXplL2Rlc3Ryb3kgdGhlIHRocmVhZCBhdHRyaWJ1dGUgb2JqZWN0LiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJPdGhlciByb3V0aW5lcyBhcmUgdGhlbiB1c2VkIHRvIHF1ZXJ5L3NldCBzcGVjaWZpYyBhdHRyaWJ1dGVzIGluIHRoZSB0aHJlYWQgYXR0cmlidXRlIG9iamVjdC4iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDYxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRlcm1pbmF0aW5nIFRocmVhZCIpKSwgbWR4KCJvbCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDYyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUaHJlYWQgbWFrZXMgY2FsbCB0byB0aGUgcHRocmVhZF9leGl0KCkgc3Vicm91dGluZSAiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUaHJlYWQgaXMgY2FuY2VsbGVkIGJ5IGFub3RoZXIgdGhyZWFkIHZpYSBwdGhyZWFkX2NhbmNlbCgpIHJvdXRpbmUgIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAib2wiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRW50aXJlIHByb2Nlc3MgaXMgdGVybWluYXRlZCBkdWUgdG8gY2FsbCB0byBleGl0IHN1YnJvdXRpbmUgIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJSb3V0aW5lOiAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJwdGhyZWFkX2V4aXQoc3RhdHVzKSIpKSwgbWR4KCJ1bCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2OQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJ1c2VkIHRvIGV4cGxpY2l0bHkgZXhpdCB0aGUgdGhyZWFkIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHJvZ3JhbW1lciBtYXkgb3B0aW9uYWx5bCBzcGVjaWZ5IGEgdGVybWluYXRpb24gc3RhdHVzLCB3aGljaCBpcyBzdG9yZWQgYXMgYSB2b2lkIHBvaW50ZXIgZm9yIGFueSB0aHJlYWQgdGhhdCBtYXkgam9pbiB0aGUgY2FsbGluZyB0aHJlYWQiKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDcyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkNsZWFudXA6ICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDcyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfZXhpdCgpIiksICIgZG9lcyBub3QgY2xvc2UgZmlsZXM7IGFueSBmaWxlcyBvcGVuZWQgaW5zaWRlIHRoZSB0aHJlYWQgd2lsbCByZW1haW4gb3BlbiBhZnRlciB0aGUgdGhyZWFkIGlzIHRlcm1pbmF0ZWQuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDczCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJzdHJvbmciLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJFeGFtcGxlIikpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDc0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtYyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiI2luY2x1ZGUgPHB0aHJlYWQuaD5cbiNpbmNsdWRlIDxzdGRpby5oPlxuI2luY2x1ZGUgPHN0ZGxpYi5oPlxuI2RlZmluZSBOVU1fVEhSRUFEUyA1XG5cbnZvaWQgKlByaW50SGVsbG8odm9pZCAqdGhyZWFkaWQpIHtcbiAgICBpbnQgKnRpZDtcbiAgICB0aWQgPSAoaW50ICopdGhyZWFkaWQ7XG4gICAgcHJpbnRmKFwiSGVsbG8gV29ybGQhIEl0J3MgbWUsIHRocmVhZCAjJWQhXFxuXCIsICp0aWQpO1xuICAgIHB0aHJlYWRfZXhpdChOVUxMKTtcbn1cblxuaW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkge1xuICAgIHB0aHJlYWRfdCB0aHJlYWRzW05VTV9USFJFQURTXTtcbiAgICBpbnQgcmMsIHQsIHRpZHNbTlVNX1RIUkVBRFNdO1xuICAgIGZvciAodD0wOyB0PCBOVU1fVEhSRUFEUzsgdCsrKSB7XG4gICAgICAgIHByaW50ZihcIkluIG1haW46IGNyZWF0aW5nIHRocmVhZCAlZFxcblwiLCB0KTtcbiAgICAgICAgdGlkc1t0XSA9IHQ7XG4gICAgICAgIHJjID0gcHRocmVhZF9jcmVhdGUoJnRocmVhZHNbdF0sIE5VTEwsIFByaW50SGVsbG8sICh2b2lkICopJnRpZHNbdF0pO1xuXG4gICAgICAgIGlmIChyYykge1xuICAgICAgICAgICAgcHJpbnRmKFwiRVJST1I7IHJldHVybiBjb2RlIGZyb20gcHRocmVhZF9jcmVhdGUoKSBpcyAlZFxcblwiLCByYyk7XG4gICAgICAgICAgICBleGl0KC0xKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdGhyZWFkX2V4aXQoTlVMTCk7IFxufVxuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAicGFzc2luZy1hcmd1bWVudHMtdG8tdGhyZWFkcyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlBhc3NpbmcgQXJndW1lbnRzIHRvIFRocmVhZHMiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTA3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTA3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfY3JlYXRlKCkiKSwgIiByb3V0aW5lIHBlcm1pdHMgdGhlIHByb2dyYW1tZXIgdG8gcGFzcyBvbmUgYXJndW1lbnQgdG8gdGhlIHRocmVhZCBzdGFydCByb3V0aW5lLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRm9yIGNhc2VzIHdoZXJlIG11bHRpcGxlIGFyZ3MgbXVzdCBiZSBwYXNzZWQsIHdlIGNhbiBjcmVhdGUgYSBzdHJ1Y3QgYW5kIHVzZSB0aGUgcmVmZXJlbmNlIHBvaW50ZXIgYXMgYW4gYXJnLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQWxsIGFyZ3MgcGFzc2VkIGJ5IHJlZmVyZW5jZSBtdXN0IGJlIGNhc3QgdG8gKHZvaWQgKikiKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMTAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1jIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDExMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAic3RydWN0IHR3b19hcmdzIHtcbiAgICBpbnQgYXJnMTtcbiAgICBpbnQgYXJnMjsgICBcbn07XG5cbnZvaWQgKm5lZWRzXzJfYXJncyh2b2lkICphcCkge1xuICAgIHN0cnVjdCB0d29fYXJncyAqYXJncDtcbiAgICBpbnQgYTEsIGEyO1xuXG4gICAgYXJncCA9IChzdHJ1Y3QgdHdvX2FyZ3MgKikgYXA7XG5cbiAgICAvLyBkbyBzdHVmZiBoZXJlXG4gICAgXG4gICAgYTEgPSBhcmdwLT5hcmcxO1xuICAgIGEyID0gYXJncC0+YXJnMjtcbiAgICBcbiAgICAvLyBkbyBzdHVmZiBoZXJlIFxuXG4gICAgZnJlZShhcmdwKTtcbiAgICBwdGhyZWFkX2V4aXQoTlVMTCk7XG59XG5cbmludCBtYWluKGludCBhcmdjLCBjaGFyICphcmd2W10pIHtcbiAgICBwdGhyZWFkX3QgdDtcbiAgICBzdHJ1Y3QgdHdvX2FyZ3MgKmFwO1xuICAgIGludCByYztcblxuICAgIC8vIGRvIHN0dWZmIGhlcmUgXG5cbiAgICBhcCA9IChzdHJ1Y3QgdHdvX2FyZ3MgKiltYWxsb2Moc2l6ZW9mKHN0cnVjdCB0d29fYXJncykpO1xuICAgIGFwLT5hcmcxID0gMTtcbiAgICBhcC0+YXJnMiA9IDI7XG4gICAgcmMgPSBwdGhyZWFkX2NyZWF0ZSgmdCwgTlVMTCwgbmVlZHNfMl9hcmdzLCAodm9pZCAqKSBhcCk7XG5cbiAgICAvLyBkbyBzdHVmZiBoZXJlIFxuXG4gICAgcHRocmVhZF9leGl0KE5VTEwpO1xufVxuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiam9pbmluZy1hbmQtZGV0YXRjaGluZy10aHJlYWRzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE1MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiSm9pbmluZyBhbmQgRGV0YXRjaGluZyBUaHJlYWRzIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE1NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgic3Ryb25nIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTU0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlJvdXRpbmVzIikpLCBtZHgoIm9sIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTU1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNTYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9qb2luKHRocmVhZGlkLCBzdGF0dXMpIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAib2wiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTU3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfZGV0YWNoKHRocmVhZGl0LCBzdGF0dXMpIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAib2wiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTU4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfYXR0cl9zZXRkYXRhY2hzdGF0ZShhdHRyLCBkZXRhY2hzdGF0ZSkiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNTkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9hdHRyX2dldGRldGFjaHN0YXRlKGF0dHIsIGRldGFjaHN0YXRlKSIpKSwgbWR4KCJ1bCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE2MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTYyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlwiam9pbmluZ1wiIGlzIG9uZSB3YXkgdG8gYWNjb21wbGlzaCBzeW5jaHJvbml6YXRpb24gYmV0d2VlbiB0aHJlYWRzIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTYzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInRoZSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAibGkiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTYzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfam9pbigpIiksICIgc3Vicm91dGluZSBibG9ja3MgdGhlIGNhbGxpbmcgdGhyZWFkIHVudGlsIHRoZSBzcGVjaWZpZWQgdGhyZWFkaWQgdGhyZWFkIHRlcm1pbmF0ZXMiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNjQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhlIHByb2dyYW1tZXIgaXMgYWJsZSB0byBvYnRhaW4gdGhlIHRhcmdldCB0aHJlYWQncyB0ZXJtaW5hdGlvbiByZXR1cm4gc3RhdHVzIGlmIGl0IHdhcyBzcGVjaWZpZWQgaW4gdGhlIHRhcmdldCB0aHJlYWQncyBjYWxsIHRvICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJsaSIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNjQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9leGl0KCkiKSksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTY1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIldoZW4gYSB0aHJlYWQgaWYgY3JlYXRlZCwgb25lIG9mIGl0cyBhdHRyaWJ1dGVzIGRlZmluZXMgd2hldGhlciBpdCBpcyBqb2luYWJsZSBvciBkZXRhY2hlZC4iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNjYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiT25seSB0aHJlYWRzIHRoYXQgYXJlIGNyZWF0ZSBhcyBqb2luYWJsZSBjYW4gYmUgam9pbmVkLiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTY4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRvIGV4cGxpY2l0bHkgY3JlYXRlIGEgdGhyZWFkIGFzIGpvaW5hYmxlIG9yIGRldGFjaGVkLCB0aGUgYXR0ciBhcmd1bWVudCBpbiB0aGUgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTY4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfY3JlYXRlKCkiKSwgIiByb3V0aW5lIGlzIHVzZWQ6IiksIG1keCgib2wiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNjkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogIm9sIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE3MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJEZWNsYXJlIGEgcHRocmVhZCBhdHRyaWJ1dGUgYXJpYWJsZSBvZiB0aGUgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogImxpIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE3MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJwdGhyZWFkX2F0dHJfdCBkYXRhIiksICIgdHlwZSAiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSW5pdGlhbGl6ZSB0aGUgYXR0cmlidXRlIGFyaWFibGUgd2l0aCAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAibGkiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTcxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfYXR0cl9pbml0KCkiKSksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAib2wiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTcyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlNldCB0aGUgYXR0cmlidXRlIGRldGFjaGVkIHN0YXR1cyB3aXRoICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJsaSIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9hdHRyX3NldGRldGFjaGVkc3RhdGUoKSIpKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiV2hlbiBkb25lLCByZWUgbGlicmFyeSByZXNvdXJjZXMgdXNlZCBieSB0aGUgYXR0cmlidXRlIHdpdGggIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogImxpIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE3MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJwdGhyZWFkX2F0dHJfZGVzdHJveSgpIikpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTc1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJzdHJvbmciLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRXhhbXBsZSIpKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1jIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE3NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAidm9pZCAqQnVzeVdvcmsodm9pZCAqbnVsbCkge1xuICAgIC8vIGRvIHN0dWZmIFxuICAgIHB0aHJlYWRfZXhpdCgodm9pZCAqKSAwKTtcbn1cblxuaW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkge1xuICAgIHB0aHJlYWRfYXR0cl90IGF0dHI7XG4gICAgaW50IHJjLCB0O1xuICAgIHZvaWQgKnN0YXR1cztcblxuICAgIC8qIGluaXQgYW5kIHNldCB0aHJlYWQgZGV0YWNoZWQgYXR0cmlidXRlICovXG4gICAgcHRocmVhZF9hdHRyX2luaXQoJmF0dHIpO1xuICAgIHB0aHJlYWRfYXR0cl9zZXRkZXRhY2hzdGF0ZSgmYXR0ciwgUFRIUkVBRF9DUkVBVEVfSk9JTkFCTEUpO1xuXG4gICAgLyogZnJlZSBhdHRyaWJ1dGUgYW5kIHdhaXQgZm9yIHRoZSBvdGhlciB0aHJlYWRzICovXG4gICAgcHRocmVhZF9hdHRyX2Rlc3RvcnkoJmF0dHIpO1xuICAgIGZvciAodD0wOyB0PCBOVU1fVEhSRUFEUzsgdCsrKSB7XG4gICAgICAgIHJjID0gcHRocmVhZF9qb2luKHRocmVhZFt0XSwgJnN0YXR1cyk7XG4gICAgICAgIC8vIGRvIHN0dWZmIFxuICAgICAgICBwcmludGYoXCJDb21wbGV0ZWQgam9pbiB3aXRoIHRocmVkICVkIHN0YXR1cyA9ICVsZFxcblwiLCB0LCAobG9uZylzdGF0dXMpO1xuICAgIH1cbiAgICBwdGhyZWFkX2V4aXQoTlVMTCk7XG59XG4iKSksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJzeW5jcm9uaXNhdGlvbi1pc3N1ZXMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjAyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJTeW5jcm9uaXNhdGlvbiBJc3N1ZXMiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjA1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIldoZW4gbXVsdGlwbGUgdGhyZWFkcyBhdHRlbXB0IHRvIG1hbmlwdWxhdGUgdGhlIHNhbWUgZGF0YSBpdGVtLCB0aGUgcmVzdWx0cyBjYW4gb2Z0ZW4gYmUgaW5jb2hlcmVudCBpZiBwcm9wZXIgY2FyZSBpcyBub3QgdGFrZSBpZS4gcmFjZSBjb25kaXRpb25zLiIpLCBtZHgoImgxIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiMi1tdXRleGVzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIwNgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiMjogTXV0ZXhlcyIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMDkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhlIHNlY29uZCBjbGFzcyBvZiBmdW5jdGlvbnMgZGVhbCB3aXRoIHN5bmNocm9uaXphdGlvbiAtIGNhbGxlZCBhIFwibXV0ZXhcIiwgd2hpY2ggaXMgYW4gYWJicmV2aWF0aW9uIGZvciBtdXR1YWwgZXhjbHVzaW9uLiIpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiY3JlYXRpbmctYW5kLWRlc3Ryb3lpbmctbXV0ZXhlcyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMTAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIkNyZWF0aW5nIGFuZCBEZXN0cm95aW5nIE11dGV4ZXMiKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogInJvdXRpbmVzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIxMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiUm91dGluZXMiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjE2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjE2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfbXV0ZXhfaW5pdChtdXRleCwgYXR0cikiKSwgIlxuIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjE3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfbXV0ZXhfZGVzdHJveShtdXRleCkiKSwgIlxuIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjE4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfbXV0ZXhhdHRyX2luaXQoYXR0cikiKSwgIlxuIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjE5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfbXV0ZXhhdHRyX2Rlc3Ryb3koYXR0cikiKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIyMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJBIG11dGV4IG11c3QgYmUgZGVjbGFyZWQgd2l0aCB0eXBlICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIyMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJwdGhyZWFkX211dGV4X3QiKSwgIiwgYW5kIG11c3QgYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIHRoZXkgY2FuIGJlIHVzZWQuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIyMQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUaGVyZSBhcmUgdHdvIHdheXMgdG8gaW5pdCBhIG11dGV4IHZhcmlhYmxlOlxuMS4gU3RhdGljYWxseSwgd2hlbiBkZWNsYXJlZCBlZyAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMjIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9tdXRleF90IG15bXV0ZXggPSBQVEhSRUFEX01VVEVYX0lOSVRJQUxJWkVSIiksICJcbjIuIER5bmFtaWNhbGx5LCB3aXRoIHRoZSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMjMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9tdXRleF9pbml0KCkiKSwgIiByb3V0aW5lLiBUaGlzIG1ldGhvZCBwZXJtaXRzIHNldHRpbmcgbXV0ZXggb2JqZWN0IGF0dHJpYnV0ZXMsICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIyMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJhdHRyIiksICIgKHdoaWNoIG15IGJlIHNwZWNpZmllZCBhcyBOVUxMIHRvIGFjY2VwdCBkZWZhdWx0cykuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIyNAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUaGUgbXV0ZXggaXMgaW5pdGlhbGx5IHVubG9ja2VkLiIpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAibG9ja2luZy0tdW5sb2NraW5nLW11dGV4ZXMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjI1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJMb2NraW5nICYgVW5sb2NraW5nIE11dGV4ZXMiKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogInJvdXRpbmVzLTEiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjI4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJSb3V0aW5lcyIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMzEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMzEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9tdXRleF9sb2NrKG11dGV4KSIpLCAiXG4iLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMzIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9tdXRleF91bmxvY2sobXV0ZXgpIiksICJcbiIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIzMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJwdGhyZWFkX211dGV4X3RyeWxvY2sobXV0ZXgpIikpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjM0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMzUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAibGkiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjM1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfbXV0ZXhfbG9jayhtdXRleCkiKSwgIiB3aWxsIGxvY2sgdGhlIHNwZWNpZmllZCBtdXRleCIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIzNgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJsaSIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMzYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9tdXRleF91bmxvY2sobXV0ZXgpIiksICIgd2lsbCB1bmxvY2sgYSBtdXRleCBpZiBjYWxsZWQgYnkgdGhlIG93bmluZyB0aHJlYWRcbi0gdGhyb3dzIGFuIGVycm9yIGlmIGFscmVhZHkgdW5sb2NrZWQgb3Igb3duZWQgYnkgYW5vdGhlciB0aHJlYWQiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMzgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAibGkiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjM4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfbXV0ZXhfdHJ5bG9jayhtdXRleCkiKSwgIiB3aWxsIGF0dGVtcHQgdG8gbG9jayBhIG11dGV4LCBob3dldmVyIGlmIHRoZSBtdXRleCBpcyBhbHJlYWR5IGxvY2tlZCBpdCB3aWxsIHJldHVybiBhIFwiRUJVU1lcIiBlcnJvciBjb2RlLlxuLSBNYXkgYmUgdXNlZnVsIHRvIHByZXZlbnQgZGVhZGxvY2tzISIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjQxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJzdHJvbmciLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNDEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRXhhbXBsZSAxIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNDIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiV2UgY2FuIG5vdyB3cml0ZSBvdXIgcHJldmlvdXNseSBpbmNvcnJlY3QgY29kZSBzZWdtZW50IGFzLi4uIiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjQzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtYyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNDMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgInB0aHJlYWRfbXV0ZXhfdCBtaW5fdmFsdWVfbG9jaztcblxubWFpbigpIHtcbiAgICAuLi5cbiAgICBwdGhyZWFkX211dGV4X2luaXQoJm1pbl92YWx1ZV9sb2NrLCBOVUxMKTtcbiAgICAuLi5cbn1cblxudm9pZCAqZmluZF9taW4odm9pZCAqbGlzdF9wdHIpIHtcbiAgICAuLi5cbiAgICBwdGhyZWFkX211dGV4X2xvY2soJm1pbl92YWx1ZV9sb2NrKTtcbiAgICBpZiAobXlfY29zdCA8IGJlc3RfY29zdCkge1xuICAgICAgICBiZXN0X2Nvc3QgPSBteV9jb3N0O1xuICAgIH0gICBcbiAgICBwdGhyZWFkX211dGV4X3VubG9jaygmbWluX3ZhbHVlX2xvY2spO1xufVxuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNjIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJFeGFtcGxlIDIiKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUaGUgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjYzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInByb2R1Y2VyLWNvbnN1bWVyIiksICIgc2NlbmFyaW8gaW1wb3NlcyB0aGUgZm9sbG93aW5nIGNvbnN0cmFpbnRzOiIpLCBtZHgoIm9sIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjY0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNjUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhlIHByb2R1Y2VyIHRocmVhZCBtdXN0IG5vdCBvdmVyd3JpdGUgdGhlIHNoYXJlZCBidWZmZXIgd2hlbiB0aGUgcHJldmlvdXMgdGFzayBoYXMgbm8gYmVlbiBwaWNrZWQgdXAgYnkgYSBjb25zdW1lciB0aHJlYWQuIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAib2wiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjY2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRoZSBjb25zdW1lciB0aHJlYWRzIG11c3Qgbm90IHBpY2sgdXAgdGFza3MgdW50aWwgdGhlcmUgaXMgc29tZXRoaW5nIHByZXNlbnQgaW4gdGhlIHNoYXJlZCBkYXRhIHN0cnVjdHVyZS4iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSW5kaXZpZHVhbCBjb25zdW1lciB0aHJlYWRzIHNob3VsZCBwaWNrIHVwIHRhc2tzIG9uZSBhdCBhIHRpbWUuIikpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2OQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjY5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJwdGhyZWFkX211dGV4X3QgdGFza19xdWV1ZV9sb2NrO1xuaW50IHRhc2tfYXZhaWxhYmxlO1xuXG5tYWluKCkge1xuICAgIHRhc2tfYXZhaWxhYmxlID0gMDtcbiAgICBwdGhyZWFkX211dGV4X2luaXQoJnRhc2tfcXVldWVfbG9jaywgTlVMTCk7XG59XG5cbnZvaWQgKnByb2R1Y2VyKHZvaWQgKnByb2R1Y2VyX3RocmVhZF9kYXRhKSB7XG4gICAgLi4uXG4gICAgd2hpbGUgKCFkb25lKCkpIHtcbiAgICAgICAgaW5zZXJ0ZWQgPSAwO1xuICAgICAgICBjcmVhdGVfdGFzaygmbXlfdGFzayk7XG4gICAgICAgIHdoaWxlIChpbnNlcnRlZCA9PSAwKSB7XG4gICAgICAgICAgICBwdGhyZWFkX211dGV4X2xvY2soJnRhc2tfcXVldWVfbG9jayk7XG4gICAgICAgICAgICBpZiAodGFza19hdmFpbGFibGUgPT0gMCkge1xuICAgICAgICAgICAgICAgIGluc2VydF9pbnRvX3F1ZXVlKG15X3Rhc2spO1xuICAgICAgICAgICAgICAgIHRhc2tfYXZhaWxhYmxlID0gMTtcbiAgICAgICAgICAgICAgICBpbnNlcnRlZCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwdGhyZWFkX211dGV4X3VubG9jaygmdGFza19xdWV1ZV9sb2NrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxudm9pZCAqY29uc3VtZXIodm9pZCAqY29uc3VtZXJfdGhyZWFkX2RhdGEpIHtcbiAgICAuLi5cbiAgICB3aGlsZSAoIWRvbmUoKSkge1xuICAgICAgICBleHRyYWN0ZWQgPSAwO1xuICAgICAgICB3aGlsZSAoZXh0cmFjdGVkID09IDApIHtcbiAgICAgICAgICAgIHB0aHJlYWRfbXV0ZXhfbG9jaygmdGFza19xdWV1ZV9sb2NrKTtcbiAgICAgICAgICAgIGlmICh0YXNrX2F2YWlsYWJsZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdF9mcm9tX3F1ZXVlKCZteV90YXNrKTtcbiAgICAgICAgICAgICAgICB0YXNrX2F2YWlsYWJsZSA9IDA7XG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZ0YXNrX3F1ZXVlX2xvY2spO1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3NfdGFzayhteV90YXNrKTtcbiAgICB9XG59XG4iKSksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJvdmVyaGVhZHMtb2YtbG9ja2luZyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMTMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIk92ZXJoZWFkcyBvZiBMb2NraW5nIiksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMTYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMxNwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJMb2NrcyByZXByZXNlbnQgc2VyaWFsaXphdGlvbiBwb2ludHMgc2luY2UgY3JpdGljYWwgc2VjdGlvbnMgbXVzdCBiZSBleGVjdXRlZCBieSB0aHJlYWRzIG9uZSBhZnRlciBhbm90aGVyLiIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMxOAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJFbmNhcHN1bGF0aW5nIGxhcmdlIHNlZ21lbnRzIG9mIHRoZSBwcm9ncmFtIHdpdGhpbiBsb2NrcyBjYW4gbGVhZCB0byBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbi4iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMTkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSXQgaXMgb2Z0ZW4gcG9zc2libGUgdG8gcmVkdWNlIHRoZSBpZGxpbmcgb3ZlcmhlYWQgYXNzb2NpYXRlZCB3aXRoIGxvY2tzIHVzaW5nICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJsaSIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMTkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9tdXRleF90cnlsb2NrIiksICIuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMjEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMyMQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJBbGxldmlhdGluZyBMb2NraW5nIE92ZXJoZWFkIikpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMyMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzIyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJwdGhyZWFkX211dGV4X3QgdHJ5TG9ja19sb2NrID0gUFRIUkVBRF9NVVRFWF9JTklUSUFMSVpFUjtcblxubG9ja19zdGF0dXMgPSBwdGhyZWFkX211dGV4X3RyeWxvY2soJnRyeUxvY2tfbG9jaylcbmlmIChsb2NrX3N0YXR1cyA9PSBFQlVTWSkge1xuICAgIC8qIGRvIHNvbWV0aGluZyBlbHNlICovXG4gICAgLi4uXG59IGVsc2Uge1xuICAgIC8qIGRvIG9uZSB0aGluZyAqL1xuICAgIC4uLlxuICAgIHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZ0cnlMb2NrX2xvY2spO1xufVxuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAibW9uaXRvcnMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzM2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJNb25pdG9ycyIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMzkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiTXV0ZXhlcyBwcm92aWRlIHBvd2VyZnVsIHN5bmMgdG9vbHMsIGJ1dC4uLiIpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzQwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNDEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAibG9jaygpIGFuZCB1bmxvY2soKSBhcmUgc2NhdHRlZWQgYW1vbmcgc2V2ZXJhbCB0aHJlYWRzLCB0aGVyZWZvcmUgaXQgaXMgZGlmZmljdWx0IHRvIHVuZGVyc3RhbmQgdGhlaXIgZWZmZWN0cyIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM0MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJ1c2FnZSBtdXN0IGJlIGNvcnJlY3QgaW4gYWxsIHRoZSB0aHJlYWRzICIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM0MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJvbmUgYmFkIHRocmVhZCAob3Igb25lIHByb2dyYW1taW5nIGVycm9yKSBjYW4ga2lsbCB0aGUgd2hvbGUgc3lzdGVtIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNDUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNDUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAibW9uaXRvciIpLCAiIGlzIGEgaGlnaC1sZXZlbCBhYnN0cmFjdGlvbiB0aGF0IG1heSBwcm92aWRlIGEgY29udmVuaWVudCBhbmQgZWZmZWN0aXZlIG1lY2hhbmlzbSBmb3IgdGhyZWFkIHN5bmNocm9uaXphdGlvbi4iKSwgbWR4KCJ1bCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM0NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzQ3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImxvY2FsIGRhdGEgdmFyaWFibGVzIGFyZSBhY2Nlc3NpYmxlIG9ubHkgYnkgdGhlIG1vbml0b3IgIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzQ4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInRocmVhZCBlbnRlcnMgbW9uaXRvciBieSBpbnZva2luZyBvbmUgb2YgaXRzIHByb2NlZHVyZXMgIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzQ5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIm9ubHkgb25lIHRocmVhZCBtYXkgYmUgZXhlY3V0aW5nIGluIGEgdGhlIG1vbml0b3IgYXQgYSB0aW1lIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNTEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM1MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJNb25pdG9yIGFuZCBDb25kaXRpb24gVmFyaWFibGVzIikpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzUyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNTMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiTW9uaXRvciBkb2VzIG5vdCBuZWVkIHRvIGNvZGUgY2VydGFpbiBzeW5jIGNvbnN0cmFpbnRzIGV4cGxpY2l0bHkuIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzU0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkhvd2V2ZXIsIGl0IGlzIG5vdCBzdWZmaWNpZW50bHkgcG93ZXJmdWwgZm9yIG1vZGVsaW5nIHNvbWUgb3RoZXIgc3luY2hyb25pemF0aW9uIHNjaGVtZXMuIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzU1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkFuIGFkZGl0aW9uYWwgc3luYyBtZWNoYW5pc20gaWUgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogImxpIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM1NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJjb25kaXRpb24gdmFyaWFibGUiKSwgIiBpcyByZXF1aXJlZC4iKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM1NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgic3Ryb25nIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzU3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkNvbmRpdGlvbiBWYXJpYWJsZXMiKSksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNTgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM1OQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUaGUgdGhpcmQgY2xhc3Mgb2YgZnVuY3Rpb25zIGFkZHJlc3MgY29tbXVuaWNhdGlvbnMgYmV0d2VlbiB0aHJlYWRzIHRoYXQgc2hhcmUgYSBtdXRleCIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM2MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJBIGNvbmRpdGlvbiB2YXJpYWJsZSBhbGxvd3MgYSB0aHJlYWQgdG8gYmxvY2sgaXRzZWxmIHVudGlsIHNwZWNpZmllZCBkYXRhIHJlYWNoZXMgYSBwcmVkZWZpbmVkIHN0YXRlLiIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM2MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJBIGNvbmRpdGlvbiB2YXJpYWJsZSBpbmRpY2F0ZXMgYW4gZXZlbnQgYW5kIGhhcyBubyB2YWx1ZVxuLSBPbmUgY2Fubm90IHN0b3JlIGEgdmFsdWUgaW50byBub3IgcmV0cmlldmUgYSB2YWx1ZSBmcm9tIGEgY29uZGl0aW9uIHZhcmlhYmxlLlxuLSBJZiBhIHRocmVhZCBtdXN0IHdhaXQgZm9yIGFuIGV2ZW50IHRvIG9jY3VyLCB0aGF0IHRyZWFkIHdhaXRzIG9uIHRoZSBjb3JyZXNwb25kaW5nIGNvbmRpdGlvbiB2YXJpYWJsZS5cbi0gQSBjb25kaXRpb24gdmFyaWFibGUgaGFzIGEgcXVldWUgZm9yIHRob3NlIHRocmVhZHMgdGhhdCBhcmUgd2FpdGluZyB0aGUgY29ycmVzcG9uZGluZyBldmVudCB0byBvY2N1ciB0byB3YWl0IG9uLlxuLSBJZiBhbm90aGVyIHRocmVhZCBjYXVzZXMgdGhlIGV2ZW50IHRvIG9jY3VyLCB0aGF0IHRocmVhZCBzaW1wbHkgc2lnbmFsIHRoZSBjb3JyZXNwb25kaW5nIGNvbmRpdGlvbiB2YXJpYWJsZS4iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNjYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhpcyBjbGFzcyBpbmNsdWRlcyBmdW5jcyB0byAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAibGkiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzY2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImNyZWF0ZSIpLCAiLCAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAibGkiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzY2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImRlc3Ryb3kiKSwgIiwgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogImxpIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM2NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJ3YWl0IiksICIgYW5kICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJsaSIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNjYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAic2lnbmFsIiksICIgYmFzZWQgb24gc3BlY2lmaWVkIHZhcmlhYmxlIHZhbHVlcy4iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRnVuY3MgdG8gc2V0L3F1ZXkgY29uZCB2YXJpYWJsZSBhdHRycyBhcmUgYWxzbyBpbmNsdWRlZC4iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNjgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQ29uZCB2YXJpYWJsZSBpcyBhbHdheXMgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogImxpIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM2OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJtdXRleCBsb2NrIikpKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogImNyZWF0ZS0tZGVzdHJveWluZy1jb25kLXZhcmlhYmxlcyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNzAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIkNyZWF0ZSAmIERlc3Ryb3lpbmcgQ29uZCBWYXJpYWJsZXMiKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogInJvdXRpbmVzLTIiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzczCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJSb3V0aW5lcyIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNzYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9jb25kX2luaXQoY29uZGl0aW9uLCBhdHRyKVxucHRocmVhZF9jb25kX2Rlc3Ryb3koY29uZGl0aW9uKVxucHRocmVhZF9jb25kYXR0cl9pbml0KGF0dHIpXG5wdGhyZWFkX2NvbmRhdHRyX2Rlc3Ryb3koYXR0cikiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzgwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkNvbmRpdGlvbiB2YXJpYWJsZXMgbXVzdCBiZSBkZWNsYXJlZCB3aXRoIHR5cGUgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzgwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfY29udF90IiksICIsIGFuZCBtdXN0IGJlIGluaXRpYWxpemVkIGJlZm9yZSB0aGV5IGNhbiBiZSB1c2VkLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzODEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiMiBXYXlzIHRvIGRlY2xhcmU6XG4xLiBTdGF0aWNhbGx5XG4yLiBEeW5hbWljYWxseSAiKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIndhaXRpbmctYW5kLXNpZ25hbGluZy1vbi1jb25kaXRpb24tdmFyaWFibGUiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzg0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJXYWl0aW5nIGFuZCBTaWduYWxpbmcgb24gQ29uZGl0aW9uIFZhcmlhYmxlIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM4NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM4NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJwdGhyZWFkX2NvbmRfc2lnbmFsKCkiKSwgIiBpcyB1c2VkIHRvIHNpZ25hbCAob3Igd2FrZSB1cCkgYW5vdGhlciB0aHJlYWQgd2hpY2ggaXMgd2FpdGluZyBvbiB0aGUgY29uZGl0aW9uIHZhcmlhYmxlIGFuZCBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIHRoZSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzODcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAibXV0ZXgiKSwgIiBpcyBsb2NrZWQuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM4OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJJdCBtdXN0IHVubG9jayAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzODgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAibXV0ZXgiKSwgIiBpbiBvcmRlciBmb3IgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzg4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInB0aHJlYWRfY29uZF93YWl0KCkiKSwgIiByb3V0aW5lIHRvIGNvbXBsZXRlLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzODkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzODkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9jb25kX2Jyb2FkY2FzdCgpIiksICIgcm91dGluZSB1bmxvY2tzIGFsbCBvZiB0aGUgdGhyZWFkcyBibG9ja2VkIG9uIHRoZSBjb25kaXRpb24gdmFyaWFibGUuIiksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOTAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM5MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJQcm9wZXIgbG9ja2luZyBhbmQgdW5sb2NrZWQgb2YgbXV0ZXggaXMgZXNzZW50aWFsIGZvciB0aGVzZSByb3V0aW5lc1xuLSBGYWlsaW5nIHRvIGxvY2sgbWF5IGNhdXNlIGl0IE5PVCB0byBibG9ja1xuLSBGYWlsaW5nIHRvIHVubG9jayB0aGUgbXV0ZXggbWF5IG5vdCBhbGxvdyBhIG1hdGNoaW5nICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJsaSIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOTMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHRocmVhZF9jb25kX3dhaXQoKSIpLCAiIHJvdXRpbmUgdG8gY29tcGxldGUgKGl0IHdpbGwgcmVtYWluIGJsb2NrZWQpIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAicHJvZHVjZXItY29uc3VtZXItdXNpbmctY29uZGl0aW9uLXZhcmlhYmxlcyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOTUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlByb2R1Y2VyLUNvbnN1bWVyIFVzaW5nIENvbmRpdGlvbiBWYXJpYWJsZXMiKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOTgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1jIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM5OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAicHRocmVhZF9jb25kX3QgY29uZF9xdWV1ZV9lbXB0eSwgY29uZF9xdWV1ZV9mdWxsO1xucHRocmVhZF9tdXRleF90IHRhc2tfcXVldWVfY29uZF9sb2NrO1xuaW50IHRhc2tfYXZhaWxhYmxlO1xuLy8gb3RoZXIgZGF0YSBzdHJ1Y3R1cmVzIGhlcmUgXG5cbm1haW4oKSB7XG4gICAgLy8gZGVjbGFyYXRpb25zIGFuZCBpbml0aWFsaXphdGlvbnMgXG4gICAgdGFza19hdmFpbGFibGUgPSAwO1xuICAgIHB0aHJlYWRfY29uZF9pbml0KCZjb25kX3F1ZXVlX2VtcHR5LCBOVUxMKTtcbiAgICBwdGhyZWFkX2NvbmRfaW5pdCgmY29uZF9xdWV1ZV9mdWxsLCBOVUxMKTtcbiAgICBwdGhyZWFkX211dGV4X2luaXQoJnRhc2tfcXVldWVfY29uZF9sb2NrLCBOVUxMKTtcbiAgICAvLyBjcmVhdGUgYW5kIGpvaW4gcHJvZHVjZXIgYW5kIGNvbnN1bWVyIHRocmVhZHNcbn1cblxudm9pZCAqcHJvZHVjZXIodm9pZCAqcHJvZHVjZXJfdGhyZWFkX2RhdGEpIHtcbiAgICB3aGlsZSghZG9uZSgpKSB7XG4gICAgICAgIGNyZWF0ZV90YXNrKCk7XG4gICAgICAgIHB0aHJlYWRfbXV0ZXhfbG9jaygmdGFza19xdWV1ZV9jb25kX2xvY2spO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKHRhc2tfYXZhaWxhYmxlID09IDEpIHtcbiAgICAgICAgICAgIHB0aHJlYWRfY29uZF93YWl0KCZjb25kX3F1ZXVlX2VtcHR5LFxuICAgICAgICAgICAgICAgICZ0YXNrX3F1ZXVlX2NvbmRfbG9jayk7XG4gICAgICAgIH1cblxuICAgICAgICBpbnNlcnRfaW50b19xdWV1ZSgpO1xuICAgICAgICB0YXNrX2F2YWlsYWJsZSA9IDE7XG4gICAgICAgIHB0aHJlYWRfY29uZF9zaWduYWwoJmNvbmRfcXVldWVfZnVsbCk7XG4gICAgICAgIHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZ0YXNrX3F1ZXVlX2NvbmRfbG9jayk7XG4gICAgfVxufVxuXG52b2lkICpjb25zdW1lcih2b2lkICpjb25zdW1lcl90aHJlYWRfZGF0YSkge1xuICAgIHdoaWxlKCFkb25lKCkpIHtcbiAgICAgICAgcHRocmVhZF9tdXRleF9sb2NrKCZ0YXNrX3F1ZXVlX2NvbmRfbG9jayk7XG4gICAgICAgIHdoaWxlICh0YXNrX2F2YWlsYWJsZSA9PSAwKSB7XG4gICAgICAgICAgICBwdGhyZWFkX2NvbmRfd2FpdCgmY29uZF9xdWV1ZV9mdWxsLFxuICAgICAgICAgICAgICAgICZ0YXNrX3F1ZXVlX2NvbmRfbG9jayk7XG4gICAgICAgIH1cblxuICAgICAgICBteV90YXNrID0gZXh0cmFjdF9mcm9tX3F1ZXVlKCk7XG4gICAgICAgIHRhc2tfYXZhaWxhYmxlID0gMDtcbiAgICAgICAgcHRocmVhZF9jb25kX3NpZ25hbCgmY29uZF9xdWV1ZV9lbXB0eSk7XG4gICAgICAgIHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZ0YXNrX3F1ZXVlX2NvbmRfbG9jayk7XG4gICAgICAgIHByb2Nlc3NfdGFzayhteV90YXNrKTtcbiAgICB9XG59XG4iKSkpOwp9CgppZiAodHlwZW9mIE1EWENvbnRlbnQgIT09ICd1bmRlZmluZWQnICYmIE1EWENvbnRlbnQgJiYgTURYQ29udGVudCA9PT0gT2JqZWN0KE1EWENvbnRlbnQpICYmIE9iamVjdC5pc0V4dGVuc2libGUoTURYQ29udGVudCkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURYQ29udGVudCwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIk1EWENvbnRlbnQiLAogICAgICBmaWxlbmFtZTogIm1hbnVhbC9DT01QMzUyMC1PUy9QdGhyZWFkLm1kIgogICAgfQogIH0pOwp9CgpNRFhDb250ZW50LmlzTURYQ29tcG9uZW50ID0gdHJ1ZTsKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihtYWtlU2hvcnRjb2RlLCAibWFrZVNob3J0Y29kZSIsICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0NPTVAzNTIwLU9TL1B0aHJlYWQubWQiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihsYXlvdXRQcm9wcywgImxheW91dFByb3BzIiwgIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9tYW51YWwvQ09NUDM1MjAtT1MvUHRocmVhZC5tZCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKE1EWExheW91dCwgIk1EWExheW91dCIsICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0NPTVAzNTIwLU9TL1B0aHJlYWQubWQiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihNRFhDb250ZW50LCAiTURYQ29udGVudCIsICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0NPTVAzNTIwLU9TL1B0aHJlYWQubWQiKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkubGVhdmVNb2R1bGU7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/COMP3520-OS/Pthread.md"],"names":["React","mdx","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":"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","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"pthreads\"\n    }}>{`Pthreads`}</h1>\n    <h2 {...{\n      \"id\": \"pthreads-api\"\n    }}>{`Pthreads API`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Defined in the ANSI/IEEE Posix 1003.1 - 1995 standard`}</li>\n      <li parentName=\"ul\">{`Subroutines comprise the Pthreads API can be informally grouped into three major classes:`}</li>\n    </ul>\n    <ol>\n      <li parentName=\"ol\">{`Thread management`}</li>\n      <li parentName=\"ol\">{`Mutexes `}</li>\n      <li parentName=\"ol\">{`Condition variables`}</li>\n    </ol>\n    <h1 {...{\n      \"id\": \"1-thread-management\"\n    }}>{`1: Thread Management`}</h1>\n    <ul>\n      <li parentName=\"ul\">{`first class of functions work directly on threads - creating, detatching, joining etc `}</li>\n      <li parentName=\"ul\">{`also include funcs to set/query thread attributes (joinable, scheduling etc)`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Create Threads`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`initially, single default thread - others must be explicitly created`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`pthread_create(thread, attr, startRoutine, arg)\n// thread - unique identifier for the new thread (pthread_t)\n// attr - attr object used to set thread attributes (pthread_attr) - you can specify a thread attributes object, or NULL for the default values\n// startRoutine - C routine that the thread will execute \n// arg - single arg that may be passed to startRoutine - it must be passed by reference (pointer to struct) and NULL may be used if no arg is to be passed\n\n/*\n    If successful, the pthread_create() function shall return zero; otherwise, an error number shall be returned to indicate the error\n */\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Thread Attributes`}</strong></p>\n    <p>{`By default, a thread is created with certain attributes.`}</p>\n    <p>{`pthread_attr_init(attr) and pthread_attr_destroy(attr) are used to initialize/destroy the thread attribute object.`}</p>\n    <p>{`Other routines are then used to query/set specific attributes in the thread attribute object.`}</p>\n    <p><strong parentName=\"p\">{`Terminating Thread`}</strong></p>\n    <ol>\n      <li parentName=\"ol\">{`Thread makes call to the pthread_exit() subroutine `}</li>\n      <li parentName=\"ol\">{`Thread is cancelled by another thread via pthread_cancel() routine `}</li>\n      <li parentName=\"ol\">{`Entire process is terminated due to call to exit subroutine `}</li>\n    </ol>\n    <p>{`Routine: `}<inlineCode parentName=\"p\">{`pthread_exit(status)`}</inlineCode></p>\n    <ul>\n      <li parentName=\"ul\">{`used to explicitly exit the thread`}</li>\n      <li parentName=\"ul\">{`programmer may optionalyl specify a termination status, which is stored as a void pointer for any thread that may join the calling thread`}</li>\n    </ul>\n    <p>{`Cleanup: `}<inlineCode parentName=\"p\">{`pthread_exit()`}</inlineCode>{` does not close files; any files opened inside the thread will remain open after the thread is terminated.`}</p>\n    <p><strong parentName=\"p\">{`Example`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-c\"\n      }}>{`#include <pthread.h>\n#include <stdio.h>\n#include <stdlib.h>\n#define NUM_THREADS 5\n\nvoid *PrintHello(void *threadid) {\n    int *tid;\n    tid = (int *)threadid;\n    printf(\"Hello World! It's me, thread #%d!\\\\n\", *tid);\n    pthread_exit(NULL);\n}\n\nint main(int argc, char *argv[]) {\n    pthread_t threads[NUM_THREADS];\n    int rc, t, tids[NUM_THREADS];\n    for (t=0; t< NUM_THREADS; t++) {\n        printf(\"In main: creating thread %d\\\\n\", t);\n        tids[t] = t;\n        rc = pthread_create(&threads[t], NULL, PrintHello, (void *)&tids[t]);\n\n        if (rc) {\n            printf(\"ERROR; return code from pthread_create() is %d\\\\n\", rc);\n            exit(-1);\n        }\n    }\n    pthread_exit(NULL); \n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"passing-arguments-to-threads\"\n    }}>{`Passing Arguments to Threads`}</h2>\n    <p><inlineCode parentName=\"p\">{`pthread_create()`}</inlineCode>{` routine permits the programmer to pass one argument to the thread start routine.`}</p>\n    <p>{`For cases where multiple args must be passed, we can create a struct and use the reference pointer as an arg.`}</p>\n    <p>{`All args passed by reference must be cast to (void *)`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-c\"\n      }}>{`struct two_args {\n    int arg1;\n    int arg2;   \n};\n\nvoid *needs_2_args(void *ap) {\n    struct two_args *argp;\n    int a1, a2;\n\n    argp = (struct two_args *) ap;\n\n    // do stuff here\n    \n    a1 = argp->arg1;\n    a2 = argp->arg2;\n    \n    // do stuff here \n\n    free(argp);\n    pthread_exit(NULL);\n}\n\nint main(int argc, char *argv[]) {\n    pthread_t t;\n    struct two_args *ap;\n    int rc;\n\n    // do stuff here \n\n    ap = (struct two_args *)malloc(sizeof(struct two_args));\n    ap->arg1 = 1;\n    ap->arg2 = 2;\n    rc = pthread_create(&t, NULL, needs_2_args, (void *) ap);\n\n    // do stuff here \n\n    pthread_exit(NULL);\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"joining-and-detatching-threads\"\n    }}>{`Joining and Detatching Threads`}</h2>\n    <p><strong parentName=\"p\">{`Routines`}</strong></p>\n    <ol>\n      <li parentName=\"ol\">{`pthread_join(threadid, status)`}</li>\n      <li parentName=\"ol\">{`pthread_detach(threadit, status)`}</li>\n      <li parentName=\"ol\">{`pthread_attr_setdatachstate(attr, detachstate)`}</li>\n      <li parentName=\"ol\">{`pthread_attr_getdetachstate(attr, detachstate)`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\">{`\"joining\" is one way to accomplish synchronization between threads`}</li>\n      <li parentName=\"ul\">{`the `}<inlineCode parentName=\"li\">{`pthread_join()`}</inlineCode>{` subroutine blocks the calling thread until the specified threadid thread terminates`}</li>\n      <li parentName=\"ul\">{`The programmer is able to obtain the target thread's termination return status if it was specified in the target thread's call to `}<inlineCode parentName=\"li\">{`pthread_exit()`}</inlineCode></li>\n      <li parentName=\"ul\">{`When a thread if created, one of its attributes defines whether it is joinable or detached.`}</li>\n      <li parentName=\"ul\">{`Only threads that are create as joinable can be joined.`}</li>\n    </ul>\n    <p>{`To explicitly create a thread as joinable or detached, the attr argument in the `}<inlineCode parentName=\"p\">{`pthread_create()`}</inlineCode>{` routine is used:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Declare a pthread attribute ariable of the `}<inlineCode parentName=\"li\">{`pthread_attr_t data`}</inlineCode>{` type `}</li>\n      <li parentName=\"ol\">{`Initialize the attribute ariable with `}<inlineCode parentName=\"li\">{`pthread_attr_init()`}</inlineCode></li>\n      <li parentName=\"ol\">{`Set the attribute detached status with `}<inlineCode parentName=\"li\">{`pthread_attr_setdetachedstate()`}</inlineCode></li>\n      <li parentName=\"ol\">{`When done, ree library resources used by the attribute with `}<inlineCode parentName=\"li\">{`pthread_attr_destroy()`}</inlineCode></li>\n    </ol>\n    <p><strong parentName=\"p\">{`Example`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-c\"\n      }}>{`void *BusyWork(void *null) {\n    // do stuff \n    pthread_exit((void *) 0);\n}\n\nint main(int argc, char *argv[]) {\n    pthread_attr_t attr;\n    int rc, t;\n    void *status;\n\n    /* init and set thread detached attribute */\n    pthread_attr_init(&attr);\n    pthread_attr_setdetachstate(&attr, PTHREAD_CREATE_JOINABLE);\n\n    /* free attribute and wait for the other threads */\n    pthread_attr_destory(&attr);\n    for (t=0; t< NUM_THREADS; t++) {\n        rc = pthread_join(thread[t], &status);\n        // do stuff \n        printf(\"Completed join with thred %d status = %ld\\\\n\", t, (long)status);\n    }\n    pthread_exit(NULL);\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"syncronisation-issues\"\n    }}>{`Syncronisation Issues`}</h2>\n    <p>{`When multiple threads attempt to manipulate the same data item, the results can often be incoherent if proper care is not take ie. race conditions.`}</p>\n    <h1 {...{\n      \"id\": \"2-mutexes\"\n    }}>{`2: Mutexes`}</h1>\n    <p>{`The second class of functions deal with synchronization - called a \"mutex\", which is an abbreviation for mutual exclusion.`}</p>\n    <h2 {...{\n      \"id\": \"creating-and-destroying-mutexes\"\n    }}>{`Creating and Destroying Mutexes`}</h2>\n    <h2 {...{\n      \"id\": \"routines\"\n    }}>{`Routines`}</h2>\n    <p><inlineCode parentName=\"p\">{`pthread_mutex_init(mutex, attr)`}</inlineCode>{`\n`}<inlineCode parentName=\"p\">{`pthread_mutex_destroy(mutex)`}</inlineCode>{`\n`}<inlineCode parentName=\"p\">{`pthread_mutexattr_init(attr)`}</inlineCode>{`\n`}<inlineCode parentName=\"p\">{`pthread_mutexattr_destroy(attr)`}</inlineCode></p>\n    <p>{`A mutex must be declared with type `}<inlineCode parentName=\"p\">{`pthread_mutex_t`}</inlineCode>{`, and must be initialized before they can be used.`}</p>\n    <p>{`There are two ways to init a mutex variable:\n1. Statically, when declared eg `}<inlineCode parentName=\"p\">{`pthread_mutex_t mymutex = PTHREAD_MUTEX_INITIALIZER`}</inlineCode>{`\n2. Dynamically, with the `}<inlineCode parentName=\"p\">{`pthread_mutex_init()`}</inlineCode>{` routine. This method permits setting mutex object attributes, `}<inlineCode parentName=\"p\">{`attr`}</inlineCode>{` (which my be specified as NULL to accept defaults).`}</p>\n    <p>{`The mutex is initially unlocked.`}</p>\n    <h2 {...{\n      \"id\": \"locking--unlocking-mutexes\"\n    }}>{`Locking & Unlocking Mutexes`}</h2>\n    <h2 {...{\n      \"id\": \"routines-1\"\n    }}>{`Routines`}</h2>\n    <p><inlineCode parentName=\"p\">{`pthread_mutex_lock(mutex)`}</inlineCode>{`\n`}<inlineCode parentName=\"p\">{`pthread_mutex_unlock(mutex)`}</inlineCode>{`\n`}<inlineCode parentName=\"p\">{`pthread_mutex_trylock(mutex)`}</inlineCode></p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`pthread_mutex_lock(mutex)`}</inlineCode>{` will lock the specified mutex`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`pthread_mutex_unlock(mutex)`}</inlineCode>{` will unlock a mutex if called by the owning thread\n- throws an error if already unlocked or owned by another thread`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`pthread_mutex_trylock(mutex)`}</inlineCode>{` will attempt to lock a mutex, however if the mutex is already locked it will return a \"EBUSY\" error code.\n- May be useful to prevent deadlocks!`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Example 1`}</strong></p>\n    <p>{`We can now write our previously incorrect code segment as...`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-c\"\n      }}>{`pthread_mutex_t min_value_lock;\n\nmain() {\n    ...\n    pthread_mutex_init(&min_value_lock, NULL);\n    ...\n}\n\nvoid *find_min(void *list_ptr) {\n    ...\n    pthread_mutex_lock(&min_value_lock);\n    if (my_cost < best_cost) {\n        best_cost = my_cost;\n    }   \n    pthread_mutex_unlock(&min_value_lock);\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Example 2`}</strong></p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`producer-consumer`}</inlineCode>{` scenario imposes the following constraints:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`The producer thread must not overwrite the shared buffer when the previous task has no been picked up by a consumer thread.`}</li>\n      <li parentName=\"ol\">{`The consumer threads must not pick up tasks until there is something present in the shared data structure.`}</li>\n      <li parentName=\"ol\">{`Individual consumer threads should pick up tasks one at a time.`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-c\"\n      }}>{`pthread_mutex_t task_queue_lock;\nint task_available;\n\nmain() {\n    task_available = 0;\n    pthread_mutex_init(&task_queue_lock, NULL);\n}\n\nvoid *producer(void *producer_thread_data) {\n    ...\n    while (!done()) {\n        inserted = 0;\n        create_task(&my_task);\n        while (inserted == 0) {\n            pthread_mutex_lock(&task_queue_lock);\n            if (task_available == 0) {\n                insert_into_queue(my_task);\n                task_available = 1;\n                inserted = 1;\n            }\n            pthread_mutex_unlock(&task_queue_lock);\n        }\n    }\n}\n\nvoid *consumer(void *consumer_thread_data) {\n    ...\n    while (!done()) {\n        extracted = 0;\n        while (extracted == 0) {\n            pthread_mutex_lock(&task_queue_lock);\n            if (task_available == 1) {\n                extract_from_queue(&my_task);\n                task_available = 0;\n                extracted = 1;\n            }\n            pthread_mutex_unlock(&task_queue_lock);\n        }\n        process_task(my_task);\n    }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"overheads-of-locking\"\n    }}>{`Overheads of Locking`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Locks represent serialization points since critical sections must be executed by threads one after another.`}</li>\n      <li parentName=\"ul\">{`Encapsulating large segments of the program within locks can lead to significant performance degradation.`}</li>\n      <li parentName=\"ul\">{`It is often possible to reduce the idling overhead associated with locks using `}<inlineCode parentName=\"li\">{`pthread_mutex_trylock`}</inlineCode>{`.`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Alleviating Locking Overhead`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-c\"\n      }}>{`pthread_mutex_t tryLock_lock = PTHREAD_MUTEX_INITIALIZER;\n\nlock_status = pthread_mutex_trylock(&tryLock_lock)\nif (lock_status == EBUSY) {\n    /* do something else */\n    ...\n} else {\n    /* do one thing */\n    ...\n    pthread_mutex_unlock(&tryLock_lock);\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"monitors\"\n    }}>{`Monitors`}</h2>\n    <p>{`Mutexes provide powerful sync tools, but...`}</p>\n    <ul>\n      <li parentName=\"ul\">{`lock() and unlock() are scatteed among several threads, therefore it is difficult to understand their effects`}</li>\n      <li parentName=\"ul\">{`usage must be correct in all the threads `}</li>\n      <li parentName=\"ul\">{`one bad thread (or one programming error) can kill the whole system`}</li>\n    </ul>\n    <p>{`A `}<inlineCode parentName=\"p\">{`monitor`}</inlineCode>{` is a high-level abstraction that may provide a convenient and effective mechanism for thread synchronization.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`local data variables are accessible only by the monitor `}</li>\n      <li parentName=\"ul\">{`thread enters monitor by invoking one of its procedures `}</li>\n      <li parentName=\"ul\">{`only one thread may be executing in a the monitor at a time`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Monitor and Condition Variables`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`Monitor does not need to code certain sync constraints explicitly.`}</li>\n      <li parentName=\"ul\">{`However, it is not sufficiently powerful for modeling some other synchronization schemes.`}</li>\n      <li parentName=\"ul\">{`An additional sync mechanism ie `}<inlineCode parentName=\"li\">{`condition variable`}</inlineCode>{` is required.`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Condition Variables`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`The third class of functions address communications between threads that share a mutex`}</li>\n      <li parentName=\"ul\">{`A condition variable allows a thread to block itself until specified data reaches a predefined state.`}</li>\n      <li parentName=\"ul\">{`A condition variable indicates an event and has no value\n- One cannot store a value into nor retrieve a value from a condition variable.\n- If a thread must wait for an event to occur, that tread waits on the corresponding condition variable.\n- A condition variable has a queue for those threads that are waiting the corresponding event to occur to wait on.\n- If another thread causes the event to occur, that thread simply signal the corresponding condition variable.`}</li>\n      <li parentName=\"ul\">{`This class includes funcs to `}<inlineCode parentName=\"li\">{`create`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`destroy`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`wait`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`signal`}</inlineCode>{` based on specified variable values.`}</li>\n      <li parentName=\"ul\">{`Funcs to set/quey cond variable attrs are also included.`}</li>\n      <li parentName=\"ul\">{`Cond variable is always used in conjunction with a `}<inlineCode parentName=\"li\">{`mutex lock`}</inlineCode></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"create--destroying-cond-variables\"\n    }}>{`Create & Destroying Cond Variables`}</h2>\n    <h2 {...{\n      \"id\": \"routines-2\"\n    }}>{`Routines`}</h2>\n    <p>{`pthread_cond_init(condition, attr)\npthread_cond_destroy(condition)\npthread_condattr_init(attr)\npthread_condattr_destroy(attr)`}</p>\n    <p>{`Condition variables must be declared with type `}<inlineCode parentName=\"p\">{`pthread_cont_t`}</inlineCode>{`, and must be initialized before they can be used.`}</p>\n    <p>{`2 Ways to declare:\n1. Statically\n2. Dynamically `}</p>\n    <h2 {...{\n      \"id\": \"waiting-and-signaling-on-condition-variable\"\n    }}>{`Waiting and Signaling on Condition Variable`}</h2>\n    <p><inlineCode parentName=\"p\">{`pthread_cond_signal()`}</inlineCode>{` is used to signal (or wake up) another thread which is waiting on the condition variable and should be called after the `}<inlineCode parentName=\"p\">{`mutex`}</inlineCode>{` is locked.`}</p>\n    <p>{`It must unlock `}<inlineCode parentName=\"p\">{`mutex`}</inlineCode>{` in order for `}<inlineCode parentName=\"p\">{`pthread_cond_wait()`}</inlineCode>{` routine to complete.`}</p>\n    <p><inlineCode parentName=\"p\">{`pthread_cond_broadcast()`}</inlineCode>{` routine unlocks all of the threads blocked on the condition variable.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Proper locking and unlocked of mutex is essential for these routines\n- Failing to lock may cause it NOT to block\n- Failing to unlock the mutex may not allow a matching `}<inlineCode parentName=\"li\">{`pthread_cond_wait()`}</inlineCode>{` routine to complete (it will remain blocked)`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"producer-consumer-using-condition-variables\"\n    }}>{`Producer-Consumer Using Condition Variables`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-c\"\n      }}>{`pthread_cond_t cond_queue_empty, cond_queue_full;\npthread_mutex_t task_queue_cond_lock;\nint task_available;\n// other data structures here \n\nmain() {\n    // declarations and initializations \n    task_available = 0;\n    pthread_cond_init(&cond_queue_empty, NULL);\n    pthread_cond_init(&cond_queue_full, NULL);\n    pthread_mutex_init(&task_queue_cond_lock, NULL);\n    // create and join producer and consumer threads\n}\n\nvoid *producer(void *producer_thread_data) {\n    while(!done()) {\n        create_task();\n        pthread_mutex_lock(&task_queue_cond_lock);\n        \n        while (task_available == 1) {\n            pthread_cond_wait(&cond_queue_empty,\n                &task_queue_cond_lock);\n        }\n\n        insert_into_queue();\n        task_available = 1;\n        pthread_cond_signal(&cond_queue_full);\n        pthread_mutex_unlock(&task_queue_cond_lock);\n    }\n}\n\nvoid *consumer(void *consumer_thread_data) {\n    while(!done()) {\n        pthread_mutex_lock(&task_queue_cond_lock);\n        while (task_available == 0) {\n            pthread_cond_wait(&cond_queue_full,\n                &task_queue_cond_lock);\n        }\n\n        my_task = extract_from_queue();\n        task_available = 0;\n        pthread_cond_signal(&cond_queue_empty);\n        pthread_mutex_unlock(&task_queue_cond_lock);\n        process_task(my_task);\n    }\n}\n`}</code></pre>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "]}]}
{"remainingRequest":"/Users/okeeffe_d/Business/Documentation/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"/Users/okeeffe_d/Business/Documentation/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[[\"/Users/okeeffe_d/Business/Documentation/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}]],\"babelrc\":false,\"cacheCompression\":true,\"compact\":true}!/Users/okeeffe_d/Business/Documentation/manual/Braintree/Sandbox.md","dependencies":[{"path":"/Users/okeeffe_d/Business/Documentation/manual/Braintree/Sandbox.md","mtime":1548209344273},{"path":"/Users/okeeffe_d/Business/Documentation/node_modules/cache-loader/dist/cjs.js","mtime":1548134640245},{"path":"/Users/okeeffe_d/Business/Documentation/node_modules/babel-loader/lib/index.js","mtime":1548134640227}],"contextDependencies":[],"result":["function _typeof(obj){if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof(obj);}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)===\"object\"||typeof call===\"function\")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}import React from'react';import{MDXTag}from'@mdx-js/tag';var MDXContent=/*#__PURE__*/function(_React$Component){_inherits(MDXContent,_React$Component);function MDXContent(props){var _this;_classCallCheck(this,MDXContent);_this=_possibleConstructorReturn(this,_getPrototypeOf(MDXContent).call(this,props));_this.layout=null;return _this;}_createClass(MDXContent,[{key:\"render\",value:function render(){var _this$props=this.props,components=_this$props.components,props=_objectWithoutProperties(_this$props,[\"components\"]);return React.createElement(MDXTag,{name:\"wrapper\",components:components},React.createElement(MDXTag,{name:\"h1\",components:components,props:{\"id\":\"getting-started-with-the-braintree-sandbox\"}},\"Getting started with the Braintree Sandbox\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Published: October 5th 2018\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Braintree is one of those methods to get started with payments.\"),React.createElement(MDXTag,{name:\"p\",components:components},\"I've been looking for alternatives to Stripe more for comparisons sake to see what would be easiest to implement and more relevant to what I am trying to achieve en masse down the road.\"),React.createElement(MDXTag,{name:\"p\",components:components},\"This is a small hello world into getting up and running with Braintree using Express on the serverside and React on the frontend.\"),React.createElement(MDXTag,{name:\"h2\",components:components,props:{\"id\":\"prerequisites\"}},\"Prerequisites\"),React.createElement(MDXTag,{name:\"p\",components:components},\"If you are following along, you should sign up for a Sandbox account.\"),React.createElement(MDXTag,{name:\"p\",components:components},\"This tutorial will use create-react-app and a user contributed npm module to abstract some of the time required for setup.\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Another useful link comes from \",React.createElement(MDXTag,{name:\"a\",components:components,parentName:\"p\",props:{\"href\":\"https://developers.braintreepayments.com/start/tutorial\"}},\"their website for Node.js and JS\"),\". Although I will be deterring away from it, it is still a useful reference.\"),React.createElement(MDXTag,{name:\"p\",components:components},\"We are going to treat this project as a monorepo for now, so in the root directory we need to create a subdirectory for the frontend and a directory for the server.\"),React.createElement(MDXTag,{name:\"h2\",components:components,props:{\"id\":\"building-the-express-server\"}},\"Building the Express server\"),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"installation\"}},\"Installation\"),React.createElement(MDXTag,{name:\"pre\",components:components},React.createElement(MDXTag,{name:\"code\",components:components,parentName:\"pre\",props:{\"className\":\"language-bash\"}},\"mkdir server\\ncd server\\nyarn init -y\\nyarn add express body-parser morgan cors dotenv braintree\\nmkdir routes\\ntouch server.js .env .gitignore routes/index.js\\n\")),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"gitignore\"}},\".gitignore\"),React.createElement(MDXTag,{name:\"p\",components:components},\"For the sake of doing things right, let's just quickly update our file to ignore \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"node_modules\"),\" and the \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\".env\"),\" file.\"),React.createElement(MDXTag,{name:\"pre\",components:components},React.createElement(MDXTag,{name:\"code\",components:components,parentName:\"pre\",props:{\"className\":\"language-bash\"}},\".env\\nnode_modules/\\n\")),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"env\"}},\".env\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Here we need to update our file with the sandbox tokens given to us from the Braintree sandbox environment. The keys and configuration can be found on your Braintree dashboard:\"),React.createElement(MDXTag,{name:\"pre\",components:components},React.createElement(MDXTag,{name:\"code\",components:components,parentName:\"pre\",props:{\"className\":\"language-bash\"}},\"BRAINTREE_MERCHANT_ID=<use_your_merchant_id>\\nBRAINTREE_PUBLIC_KEY=<use_your_public_key>\\nBRAINTREE_PRIVATE_KEY=<use_your_private_key>\\n\")),React.createElement(MDXTag,{name:\"p\",components:components},\"Now we can use \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"dotenv\"),\" in our app to access the variables and keep them out of our git history.\"),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"serverjs\"}},\"server.js\"),React.createElement(MDXTag,{name:\"p\",components:components},\"To set up the main server, update the server.js file to look like so:\"),React.createElement(MDXTag,{name:\"pre\",components:components},React.createElement(MDXTag,{name:\"code\",components:components,parentName:\"pre\",props:{\"className\":\"language-javascript\"}},\"// Add variables from dotenv into process.env vars\\nrequire('dotenv').config();\\n\\n// Main starting point of the application\\nconst express = require('express');\\nconst http = require('http');\\nconst bodyParser = require('body-parser');\\nconst morgan = require('morgan');\\nconst app = express();\\nconst cors = require('cors');\\n\\n// Routes Setup\\nconst routes = require('./routes');\\n\\n// App Setup\\nconst morganFormat = process.env.NODE_ENV === 'production' ? 'combined' : 'dev';\\napp.use(morgan(morganFormat));\\napp.use(cors());\\napp.use(bodyParser.json());\\napp.use(bodyParser.urlencoded({ extended: true }));\\n\\n// Add routes after setting up middleware\\nroutes(app);\\n\\n// Server Setup\\nconst port = process.env.NODE_ENV == 'production' ? 80 : 5000;\\nconst server = http.createServer(app);\\nserver.listen(port);\\nconsole.log('Server listening on:', port);\\n\")),React.createElement(MDXTag,{name:\"p\",components:components},\"This \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"server.js\"),\" file will load the \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"routes/index.js\"),\" file, which we will now update.\"),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"routesindexjs\"}},\"routes/index.js\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Let's now update our \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"routes/index.js\"),\" to take setup the gateway and setup three routes - one for a simple ping test, another for fetching a client token and a third for making a payment:\"),React.createElement(MDXTag,{name:\"pre\",components:components},React.createElement(MDXTag,{name:\"code\",components:components,parentName:\"pre\",props:{\"className\":\"language-javascript\"}},\"const braintree = require('braintree');\\n\\nvar gateway = braintree.connect({\\n  environment: braintree.Environment.Sandbox,\\n  // Use your own credentials from the sandbox Control Panel here\\n  merchantId: process.env.BRAINTREE_MERCHANT_ID,\\n  publicKey: process.env.BRAINTREE_PUBLIC_KEY,\\n  privateKey: process.env.BRAINTREE_PRIVATE_KEY\\n});\\n\\nmodule.exports = function(app) {\\n  app.get('/braintree', function(req, res) {\\n    res.send('Braintree route is healthy');\\n  });\\n\\n  app.get('/api/braintree/v1/getToken', async function(req, res) {\\n    try {\\n      gateway.clientToken.generate({}, function(err, response) {\\n        if (err) {\\n          res.status(500).send(err);\\n        } else {\\n          res.send(response);\\n        }\\n      });\\n    } catch (err) {\\n      res.status(500).send(err);\\n    }\\n  });\\n\\n  app.post('/api/braintree/v1/sandbox', async function(req, res) {\\n    try {\\n      // Use the payment method nonce here\\n      var nonceFromTheClient = req.body.paymentMethodNonce;\\n      // Create a new transaction for $10\\n      var newTransaction = gateway.transaction.sale(\\n        {\\n          amount: '10.00',\\n          paymentMethodNonce: nonceFromTheClient,\\n          options: {\\n            // This option requests the funds from the transaction once it has been\\n            // authorized successfully\\n            submitForSettlement: true\\n          }\\n        },\\n        function(error, result) {\\n          if (result) {\\n            res.send(result);\\n          } else {\\n            res.status(500).send(error);\\n          }\\n        }\\n      );\\n    } catch (err) {\\n      // Deal with an error\\n      console.log(err);\\n      res.send(err);\\n    }\\n  });\\n};\\n\")),React.createElement(MDXTag,{name:\"p\",components:components},\"Now if we run \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"node server.js\"),\", we should have our app up and running on port 5000!\"),React.createElement(MDXTag,{name:\"p\",components:components},\"We can run \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"curl http://localhost:5000/braintree\"),\" from another terminal to see our \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"Braintree route is healthy\"),\" response.\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Now we need to set up the clientside.\"),React.createElement(MDXTag,{name:\"h2\",components:components,props:{\"id\":\"building-the-react-frontend\"}},\"Building the React frontend\"),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"react-installation\"}},\"React Installation\"),React.createElement(MDXTag,{name:\"pre\",components:components},React.createElement(MDXTag,{name:\"code\",components:components,parentName:\"pre\",props:{\"className\":\"language-bash\"}},\"create-react-app clientside\\ncd clientside\\nyarn add braintree-web braintree-web-drop-in-react axios\\n\")),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"updating-the-app\"}},\"Updating the app\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Go to our App.js file and clean it out. Replace the file with the following:\"),React.createElement(MDXTag,{name:\"pre\",components:components},React.createElement(MDXTag,{name:\"code\",components:components,parentName:\"pre\",props:{\"className\":\"language-javascript\"}},\"import React, { Component } from 'react';\\nimport './App.css';\\nimport 'braintree-web';\\nimport axios from 'axios';\\nimport DropIn from 'braintree-web-drop-in-react';\\n\\nclass App extends Component {\\n  instance;\\n\\n  state = {\\n    clientToken: null\\n  };\\n\\n  async componentDidMount() {\\n    try {\\n      // Get a client token for authorization from your server\\n      const response = await axios.get(\\n        'http://localhost:5000/api/braintree/v1/getToken'\\n      );\\n      const clientToken = response.data.clientToken;\\n\\n      this.setState({ clientToken });\\n    } catch (err) {\\n      console.error(err);\\n    }\\n  }\\n\\n  async buy() {\\n    try {\\n      // Send the nonce to your server\\n      const { nonce } = await this.instance.requestPaymentMethod();\\n      const response = await axios.post(\\n        'http://localhost:5000/api/braintree/v1/sandbox',\\n        nonce\\n      );\\n      console.log(response);\\n    } catch (err) {\\n      console.error(err);\\n    }\\n  }\\n\\n  render() {\\n    if (!this.state.clientToken) {\\n      return (\\n        <div>\\n          <h1>Loading...</h1>\\n        </div>\\n      );\\n    } else {\\n      return (\\n        <div>\\n          <DropIn\\n            options={{\\n              authorization: this.state.clientToken\\n            }}\\n            onInstance={(instance) => (this.instance = instance)}\\n          />\\n          <button onClick={this.buy.bind(this)}>Buy</button>\\n        </div>\\n      );\\n    }\\n  }\\n}\\n\\nexport default App;\\n\")),React.createElement(MDXTag,{name:\"p\",components:components},\"This code is a variation of the intro code found on the \",React.createElement(MDXTag,{name:\"a\",components:components,parentName:\"p\",props:{\"href\":\"https://github.com/cretezy/braintree-web-drop-in-react\"}},\"Braintree Web Drop-in React Github intro\"),\".\"),React.createElement(MDXTag,{name:\"p\",components:components},\"If we run \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"yarn start\"),\" we should load up the React app on locahost and you should be able to see the following:\"),React.createElement(MDXTag,{name:\"p\",components:components},React.createElement(MDXTag,{name:\"img\",components:components,parentName:\"p\",props:{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698065/samples/braintree-one.png\",\"alt\":\"React Frontend\",\"title\":\"React Frontend\"}})),React.createElement(MDXTag,{name:\"p\",components:components},\"If that is the case, perfect! We are ready to roll.\"),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"making-the-payment\"}},\"Making the payment\"),React.createElement(MDXTag,{name:\"p\",components:components},\"The following comes directly from the \",React.createElement(MDXTag,{name:\"a\",components:components,parentName:\"p\",props:{\"href\":\"https://developers.braintreepayments.com/start/tutorial\"}},\"Node.js quickstart for Braintree\"),\".\"),React.createElement(MDXTag,{name:\"pre\",components:components},React.createElement(MDXTag,{name:\"code\",components:components,parentName:\"pre\",props:{\"className\":\"language-bash\"}},\"Card number: 4111 1111 1111 1111\\nExpiry: 09/20\\nCVV: 400\\nPostal Code: 40000\\n\")),React.createElement(MDXTag,{name:\"p\",components:components},\"If we insert both the card number and expiry, that should be enough for us to get to the end of the road! After inserting and making the payment, our front end should look like the following:\"),React.createElement(MDXTag,{name:\"p\",components:components},React.createElement(MDXTag,{name:\"img\",components:components,parentName:\"p\",props:{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698064/samples/braintree-two.png\",\"alt\":\"Payment made\",\"title\":\"Payment made\"}})),React.createElement(MDXTag,{name:\"p\",components:components},\"Opening up \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"devtools\"),\", we can even inspect the response object we are logging to see our great success!\"),React.createElement(MDXTag,{name:\"p\",components:components},React.createElement(MDXTag,{name:\"img\",components:components,parentName:\"p\",props:{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698065/samples/braintree-three.png\",\"alt\":\"Devtools\",\"title\":\"Devtools\"}})),React.createElement(MDXTag,{name:\"p\",components:components},\"Bingo!\"),React.createElement(MDXTag,{name:\"h3\",components:components,props:{\"id\":\"the-server-terminal\"}},\"The server terminal\"),React.createElement(MDXTag,{name:\"p\",components:components},\"If we checkout the server terminal, we should be able to see how events went down thanks to Morgan doing our logging:\"),React.createElement(MDXTag,{name:\"p\",components:components},React.createElement(MDXTag,{name:\"img\",components:components,parentName:\"p\",props:{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698063/samples/braintree-four.png\",\"alt\":\"Express App\",\"title\":\"Express App\"}})),React.createElement(MDXTag,{name:\"p\",components:components},\"The image above can help us fully understand the process. When our frontend app loads, we make a \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"GET\"),\" request to fetch the token from \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"/api/braintree/v1/getToken\"),\". This token is required for when that final payment request was made. The \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"OPTIONS\"),\" 204 request we see there secondly is a CORS preflight request made to ensure we are allowed to make the call and finally and \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"POST\"),\" 200 to \",React.createElement(MDXTag,{name:\"inlineCode\",components:components,parentName:\"p\"},\"/api/braintree/v1/sandbox\"),\" is our success response after making the payment.\"),React.createElement(MDXTag,{name:\"h2\",components:components,props:{\"id\":\"confirmation\"}},\"Confirmation\"),React.createElement(MDXTag,{name:\"p\",components:components},\"If we now go back to our Sandbox dashboard, we can now see the successful transaction has been recorded!\"),React.createElement(MDXTag,{name:\"p\",components:components},React.createElement(MDXTag,{name:\"img\",components:components,parentName:\"p\",props:{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698732/braintreedashboard.png\",\"alt\":\"Success\",\"title\":\"Success\"}})),React.createElement(MDXTag,{name:\"p\",components:components},\"Very cool. We just went from 0 to payment in a short amount of time.\"),React.createElement(MDXTag,{name:\"h2\",components:components,props:{\"id\":\"next-steps\"}},\"Next steps\"),React.createElement(MDXTag,{name:\"p\",components:components},\"What's next? Something I like about Braintree is UI extensibility. Although we used a frontend package on this occassion, try building out your own UI for taking payments!\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Whether or not you are a fan of Braintree or Stripe really is up to you and your business needs at the end of the day. It is worth looking up both the pros and cons of the developer docs and the rates to decide what is best for your specific usecase (or any other payment platform for that case).\"),React.createElement(MDXTag,{name:\"p\",components:components},\"Original post: \",React.createElement(MDXTag,{name:\"a\",components:components,parentName:\"p\",props:{\"href\":\"https://www.dennisokeeffe.com/blog/braintree-node-react\"}},\"https://www.dennisokeeffe.com/blog/braintree-node-react\")),React.createElement(MDXTag,{name:\"p\",components:components},\"Git repo: \",React.createElement(MDXTag,{name:\"a\",components:components,parentName:\"p\",props:{\"href\":\"https://github.com/okeeffed/hello-braintree\"}},\"https://github.com/okeeffed/hello-braintree\")),React.createElement(MDXTag,{name:\"p\",components:components},React.createElement(MDXTag,{name:\"em\",components:components,parentName:\"p\"},React.createElement(MDXTag,{name:\"strong\",components:components,parentName:\"em\"},\"Depth\"),\" is a series that goes into more detail for projects than it's friendly counterpart series \\\"Hello\\\".\")));}}]);return MDXContent;}(React.Component);export{MDXContent as default};MDXContent.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"MDXContent\"};",{"version":3,"sources":["/Users/okeeffe_d/Business/Documentation/manual/Braintree/Sandbox.md"],"names":["React","MDXTag","MDXContent","props","layout","components","Component"],"mappings":"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","sourcesContent":["\n  import React from 'react'\n  import { MDXTag } from '@mdx-js/tag'\n  \n\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}><MDXTag name=\"h1\" components={components} props={{\"id\":\"getting-started-with-the-braintree-sandbox\"}}>{`Getting started with the Braintree Sandbox`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Published: October 5th 2018`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Braintree is one of those methods to get started with payments.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`I've been looking for alternatives to Stripe more for comparisons sake to see what would be easiest to implement and more relevant to what I am trying to achieve en masse down the road.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`This is a small hello world into getting up and running with Braintree using Express on the serverside and React on the frontend.`}</MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"prerequisites\"}}>{`Prerequisites`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`If you are following along, you should sign up for a Sandbox account.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`This tutorial will use create-react-app and a user contributed npm module to abstract some of the time required for setup.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Another useful link comes from `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://developers.braintreepayments.com/start/tutorial\"}}>{`their website for Node.js and JS`}</MDXTag>{`. Although I will be deterring away from it, it is still a useful reference.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`We are going to treat this project as a monorepo for now, so in the root directory we need to create a subdirectory for the frontend and a directory for the server.`}</MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"building-the-express-server\"}}>{`Building the Express server`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"installation\"}}>{`Installation`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-bash\"}}>{`mkdir server\ncd server\nyarn init -y\nyarn add express body-parser morgan cors dotenv braintree\nmkdir routes\ntouch server.js .env .gitignore routes/index.js\n`}</MDXTag></MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"gitignore\"}}>{`.gitignore`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`For the sake of doing things right, let's just quickly update our file to ignore `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`node_modules`}</MDXTag>{` and the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`.env`}</MDXTag>{` file.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-bash\"}}>{`.env\nnode_modules/\n`}</MDXTag></MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"env\"}}>{`.env`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Here we need to update our file with the sandbox tokens given to us from the Braintree sandbox environment. The keys and configuration can be found on your Braintree dashboard:`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-bash\"}}>{`BRAINTREE_MERCHANT_ID=<use_your_merchant_id>\nBRAINTREE_PUBLIC_KEY=<use_your_public_key>\nBRAINTREE_PRIVATE_KEY=<use_your_private_key>\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Now we can use `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`dotenv`}</MDXTag>{` in our app to access the variables and keep them out of our git history.`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"serverjs\"}}>{`server.js`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`To set up the main server, update the server.js file to look like so:`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\"}}>{`// Add variables from dotenv into process.env vars\nrequire('dotenv').config();\n\n// Main starting point of the application\nconst express = require('express');\nconst http = require('http');\nconst bodyParser = require('body-parser');\nconst morgan = require('morgan');\nconst app = express();\nconst cors = require('cors');\n\n// Routes Setup\nconst routes = require('./routes');\n\n// App Setup\nconst morganFormat = process.env.NODE_ENV === 'production' ? 'combined' : 'dev';\napp.use(morgan(morganFormat));\napp.use(cors());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n// Add routes after setting up middleware\nroutes(app);\n\n// Server Setup\nconst port = process.env.NODE_ENV == 'production' ? 80 : 5000;\nconst server = http.createServer(app);\nserver.listen(port);\nconsole.log('Server listening on:', port);\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`This `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`server.js`}</MDXTag>{` file will load the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`routes/index.js`}</MDXTag>{` file, which we will now update.`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"routesindexjs\"}}>{`routes/index.js`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Let's now update our `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`routes/index.js`}</MDXTag>{` to take setup the gateway and setup three routes - one for a simple ping test, another for fetching a client token and a third for making a payment:`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\"}}>{`const braintree = require('braintree');\n\nvar gateway = braintree.connect({\n  environment: braintree.Environment.Sandbox,\n  // Use your own credentials from the sandbox Control Panel here\n  merchantId: process.env.BRAINTREE_MERCHANT_ID,\n  publicKey: process.env.BRAINTREE_PUBLIC_KEY,\n  privateKey: process.env.BRAINTREE_PRIVATE_KEY\n});\n\nmodule.exports = function(app) {\n  app.get('/braintree', function(req, res) {\n    res.send('Braintree route is healthy');\n  });\n\n  app.get('/api/braintree/v1/getToken', async function(req, res) {\n    try {\n      gateway.clientToken.generate({}, function(err, response) {\n        if (err) {\n          res.status(500).send(err);\n        } else {\n          res.send(response);\n        }\n      });\n    } catch (err) {\n      res.status(500).send(err);\n    }\n  });\n\n  app.post('/api/braintree/v1/sandbox', async function(req, res) {\n    try {\n      // Use the payment method nonce here\n      var nonceFromTheClient = req.body.paymentMethodNonce;\n      // Create a new transaction for \\$10\n      var newTransaction = gateway.transaction.sale(\n        {\n          amount: '10.00',\n          paymentMethodNonce: nonceFromTheClient,\n          options: {\n            // This option requests the funds from the transaction once it has been\n            // authorized successfully\n            submitForSettlement: true\n          }\n        },\n        function(error, result) {\n          if (result) {\n            res.send(result);\n          } else {\n            res.status(500).send(error);\n          }\n        }\n      );\n    } catch (err) {\n      // Deal with an error\n      console.log(err);\n      res.send(err);\n    }\n  });\n};\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Now if we run `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`node server.js`}</MDXTag>{`, we should have our app up and running on port 5000!`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`We can run `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`curl http://localhost:5000/braintree`}</MDXTag>{` from another terminal to see our `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Braintree route is healthy`}</MDXTag>{` response.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Now we need to set up the clientside.`}</MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"building-the-react-frontend\"}}>{`Building the React frontend`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"react-installation\"}}>{`React Installation`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-bash\"}}>{`create-react-app clientside\ncd clientside\nyarn add braintree-web braintree-web-drop-in-react axios\n`}</MDXTag></MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"updating-the-app\"}}>{`Updating the app`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Go to our App.js file and clean it out. Replace the file with the following:`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-javascript\"}}>{`import React, { Component } from 'react';\nimport './App.css';\nimport 'braintree-web';\nimport axios from 'axios';\nimport DropIn from 'braintree-web-drop-in-react';\n\nclass App extends Component {\n  instance;\n\n  state = {\n    clientToken: null\n  };\n\n  async componentDidMount() {\n    try {\n      // Get a client token for authorization from your server\n      const response = await axios.get(\n        'http://localhost:5000/api/braintree/v1/getToken'\n      );\n      const clientToken = response.data.clientToken;\n\n      this.setState({ clientToken });\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  async buy() {\n    try {\n      // Send the nonce to your server\n      const { nonce } = await this.instance.requestPaymentMethod();\n      const response = await axios.post(\n        'http://localhost:5000/api/braintree/v1/sandbox',\n        nonce\n      );\n      console.log(response);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  render() {\n    if (!this.state.clientToken) {\n      return (\n        <div>\n          <h1>Loading...</h1>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <DropIn\n            options={{\n              authorization: this.state.clientToken\n            }}\n            onInstance={(instance) => (this.instance = instance)}\n          />\n          <button onClick={this.buy.bind(this)}>Buy</button>\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`This code is a variation of the intro code found on the `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://github.com/cretezy/braintree-web-drop-in-react\"}}>{`Braintree Web Drop-in React Github intro`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`If we run `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`yarn start`}</MDXTag>{` we should load up the React app on locahost and you should be able to see the following:`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698065/samples/braintree-one.png\",\"alt\":\"React Frontend\",\"title\":\"React Frontend\"}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`If that is the case, perfect! We are ready to roll.`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"making-the-payment\"}}>{`Making the payment`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`The following comes directly from the `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://developers.braintreepayments.com/start/tutorial\"}}>{`Node.js quickstart for Braintree`}</MDXTag>{`.`}</MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-bash\"}}>{`Card number: 4111 1111 1111 1111\nExpiry: 09/20\nCVV: 400\nPostal Code: 40000\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`If we insert both the card number and expiry, that should be enough for us to get to the end of the road! After inserting and making the payment, our front end should look like the following:`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698064/samples/braintree-two.png\",\"alt\":\"Payment made\",\"title\":\"Payment made\"}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Opening up `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`devtools`}</MDXTag>{`, we can even inspect the response object we are logging to see our great success!`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698065/samples/braintree-three.png\",\"alt\":\"Devtools\",\"title\":\"Devtools\"}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Bingo!`}</MDXTag>\n<MDXTag name=\"h3\" components={components} props={{\"id\":\"the-server-terminal\"}}>{`The server terminal`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`If we checkout the server terminal, we should be able to see how events went down thanks to Morgan doing our logging:`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698063/samples/braintree-four.png\",\"alt\":\"Express App\",\"title\":\"Express App\"}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`The image above can help us fully understand the process. When our frontend app loads, we make a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`GET`}</MDXTag>{` request to fetch the token from `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`/api/braintree/v1/getToken`}</MDXTag>{`. This token is required for when that final payment request was made. The `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`OPTIONS`}</MDXTag>{` 204 request we see there secondly is a CORS preflight request made to ensure we are allowed to make the call and finally and `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`POST`}</MDXTag>{` 200 to `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`/api/braintree/v1/sandbox`}</MDXTag>{` is our success response after making the payment.`}</MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"confirmation\"}}>{`Confirmation`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`If we now go back to our Sandbox dashboard, we can now see the successful transaction has been recorded!`}</MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698732/braintreedashboard.png\",\"alt\":\"Success\",\"title\":\"Success\"}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Very cool. We just went from 0 to payment in a short amount of time.`}</MDXTag>\n<MDXTag name=\"h2\" components={components} props={{\"id\":\"next-steps\"}}>{`Next steps`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`What's next? Something I like about Braintree is UI extensibility. Although we used a frontend package on this occassion, try building out your own UI for taking payments!`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Whether or not you are a fan of Braintree or Stripe really is up to you and your business needs at the end of the day. It is worth looking up both the pros and cons of the developer docs and the rates to decide what is best for your specific usecase (or any other payment platform for that case).`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Original post: `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://www.dennisokeeffe.com/blog/braintree-node-react\"}}>{`https://www.dennisokeeffe.com/blog/braintree-node-react`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Git repo: `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://github.com/okeeffed/hello-braintree\"}}>{`https://github.com/okeeffed/hello-braintree`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}><MDXTag name=\"em\" components={components} parentName=\"p\"><MDXTag name=\"strong\" components={components} parentName=\"em\">{`Depth`}</MDXTag>{` is a series that goes into more detail for projects than it's friendly counterpart series \"Hello\".`}</MDXTag></MDXTag>\n           </MDXTag>\n  }\n}\n  "]}]}
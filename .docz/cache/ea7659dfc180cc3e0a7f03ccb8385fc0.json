{"remainingRequest":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js??ref--6-2!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js!/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/JavaScript/JS-RxJS.md","dependencies":[{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/JavaScript/JS-RxJS.md","mtime":1562563032045},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/cache-loader/dist/cjs.js","mtime":1581496618588},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1578565694890},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js","mtime":1581496618277},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js","mtime":1580255490569}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0phdmFTY3JpcHQvSlMtUnhKUy5tZCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmVudGVyTW9kdWxlOwogIGVudGVyTW9kdWxlICYmIGVudGVyTW9kdWxlKG1vZHVsZSk7Cn0pKCk7Cgp2YXIgX19zaWduYXR1cmVfXyA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbFsiZGVmYXVsdCJdLnNpZ25hdHVyZSA6IGZ1bmN0aW9uIChhKSB7CiAgcmV0dXJuIGE7Cn07CgovKiBAanN4IG1keCAqLwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBtZHggfSBmcm9tICdAbWR4LWpzL3JlYWN0JzsKLyogQGpzeCBtZHggKi8KCnZhciBtYWtlU2hvcnRjb2RlID0gZnVuY3Rpb24gbWFrZVNob3J0Y29kZShuYW1lKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIE1EWERlZmF1bHRTaG9ydGNvZGUocHJvcHMpIHsKICAgIGNvbnNvbGUud2FybigiQ29tcG9uZW50ICIgKyBuYW1lICsgIiB3YXMgbm90IGltcG9ydGVkLCBleHBvcnRlZCwgb3IgcHJvdmlkZWQgYnkgTURYUHJvdmlkZXIgYXMgZ2xvYmFsIHNjb3BlIik7CiAgICByZXR1cm4gbWR4KCJkaXYiLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgewogICAgICBfX3NvdXJjZTogewogICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgbGluZU51bWJlcjogOQogICAgICB9LAogICAgICBfX3NlbGY6IHRoaXMKICAgIH0pKTsKICB9Owp9OwoKdmFyIGxheW91dFByb3BzID0ge307CnZhciBNRFhMYXlvdXQgPSAid3JhcHBlciI7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1EWENvbnRlbnQoX3JlZikgewogIHZhciBjb21wb25lbnRzID0gX3JlZi5jb21wb25lbnRzLAogICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbImNvbXBvbmVudHMiXSk7CgogIHJldHVybiBtZHgoTURYTGF5b3V0LCBPYmplY3QuYXNzaWduKHt9LCBsYXlvdXRQcm9wcywgcHJvcHMsIHsKICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsCiAgICBtZHhUeXBlOiAiTURYTGF5b3V0IiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksIG1keCgiaDEiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJyeGpzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJSeEpTIiksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICIxMC1hLWJyaWVmLXJlY2FwLW9mLXByb2dyYW1taW5nLXBhcmFkaWdtcyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiMS4wIEEgQnJpZWYgUmVjYXAgb2YgUHJvZ3JhbW1pbmcgUGFyYWRpZ21zIiksIG1keCgiaDMiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJwcm9jZWR1cmFsLXByb2dyYW0iCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlByb2NlZHVyYWwgUHJvZ3JhbSIpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRoZSBpZGVhcyB0aGF0IHByb2dyYW1zIGFyZSBhIHNlbnNlIG9mIGZ1bmN0aW9ucyIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkdvZXMgZnJvbSB0b3AgdG8gYm90dG9tIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiUmVsaWVzIGhlYXZpbHkgb24gZ2xvYmFsIHN0YXRlLCBidXQgYW55IGxpbmUgY2FuIGNoYW5nZSB0aGUgZ2xvYmFsIHN0YXRlIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQyBiZWluZyBhIHByb2NlZHVyYWwgbGFuZ3VhZ2UiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJcIkltcGVyYXRpdmVcIiBleGVjdXRpb24iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJFYXN5IHRvIHdyaXRlLCBkaWZmaWN1bHQgdG8gbWFpbnRhaW4iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJQcm9uZSB0byBkaWZmaWN1bHQgYnVncyIpKSwgbWR4KCJoMyIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIm9iamVjdC1vcmllbnRlZCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiT2JqZWN0IE9yaWVudGVkIiksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQmFzZWQgYXJvdW5kIGEgUHJpbWl0aXZlOiBvYmplY3QiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJPYmplY3RzIGhhdmUgd2VsbCBkZWZpbmVkIGludGVyZmFjZXMiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJMb2NhbGlzZWQgYmVoYXZpb3VyIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiT2JqZWN0cyBjb250cm9sIHN0YXRlIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQ29tcG9zaXRpb24iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJDb2RlIGlzIHN0aWxsIGltcGVyYXRpdmUgLSBwcm8gQU5EIGNvbiEgLSBTdGlsbCB0ZWxsaW5nIHRoZSBjb21wdXRlciBFWEFDVExZIHdoYXQgdG8gZG8uIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQ2FuIGJlIG1vcmUgdmVyYm9zZSIpKSwgbWR4KCJoMyIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogImRlY2xhcmF0aXZlIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJEZWNsYXJhdGl2ZSIpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkRlc2NyaWJpbmcgd2hhdCB5b3Ugd2FudCB0byBoYXBwZW4sIGJ1dCBub3QgdGVsbGluZyB0aGUgY29tcHV0ZXIgaG93IHRvIGRvIGl0IiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRWcuIFNRTCwgUmVnZXgsIEhUTUwiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJEYXRhIGlzIHNlbGYtZGVzY3JpYmluZyIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDYxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkFzIHBvd2VyZnVsIGFzIHRoZSBpbnRlcnByZXRlciBhbGxvd3MiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJBcyBsaW1pdGluZyBhcyB0aGUgaW50ZXJwcmV0ZXIgYWxsb3dzIC0gWW91IHdhbnQgYnVpbGQgYSBnYW1lIGluIFNRTCBldGMuIikpLCBtZHgoImgzIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiZnVuY3Rpb25hbCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiRnVuY3Rpb25hbCIpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIldoYXQgd2Ugd2FudCB0byBoYXBwZW4gYnV0IG5vdCBob3ciKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2OQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJMaXR0bGUgc3RhdGUiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJGZXcgc2lkZSBlZmZlY3RzIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRWFzeSB0byByZWFzb24gYWJvdXQiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJDb21wb3NpdGlvbiIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDczCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkV4cHJlc3NpdmUiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJXb3JrcyBncmVhdCB3aXRoIE9PIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQmFzaXMgaW4gaGlnaGVyIG1hdGgiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJDb25zIHRvIHRoaW5rIGRpZmZlcmVudGx5IiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiTm90IGFsd2F5cyB0aGUgYmVzdCBjaG9pY2UiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJObyBsb29wcywgbm8gY29udHJvbCBsb2dpYyAtIEp1c3QgdGVsbGluZyBpdCB3aGF0IHdlIHdhbnQgdG8gaGFwcGVuIikpLCBtZHgoImgzIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAicmVhY3RpdmUiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlJlYWN0aXZlIiksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA4MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiUHJpbWl0aXZlOiBPYnNlcnZhYmxlIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSW5zdGVhZCBvZiBkZXNjcmliaW5nIGRhdGEgaW4gdGVybXMgb2Ygb3RoZXIgZGF0YSwgd2UgZGVzY3JpYmUgaXQgaW4gdGVybXMgb2Ygc3RyZWFtcyBvZiBldmVudHMgLSBGcm9tIHRoaXMsIHdlIGNyZWF0ZSBhIHBpcGVsaW5lIHN1Y2ggdGhhdCB3ZSBjZXJ0YWluIGRhdGEgY2hhbmdlcywgYSBsb3QgaXMgcHJvY2Vzc2VkIGFuZCBjaGFuZ2VkIC0gRXhhbXBsZTogc3ByZWFkc2hlZXRzISIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDg2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkNvbXBvc2l0aW9uIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRXhwcmVzc2l2ZSIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDg4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkRhdGEgZmxvd3MgdW5pZGlyZWN0aW9uYWxseSIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDg5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRvdWdoIHRvIHRoaW5rIGRpZmZlcmVudGx5IiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogOTAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiU3Vic2NyaXB0aW9ucyBoZWxwIGNoYW5nZSB0aGUgZGF0YSIpKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA5MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogOTIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImNvbnN0IGNlbGxDMiQgPSBjZWxsQTIkXG4gIC5jb21iaW5lTGF0ZXN0KGNlbGxCMiQpXG4gIC5tYXAoKGNlbGxzKSA9PiBjZWxsc1swXSArIGNlbGxzWzFdKTtcblxuY2VsbEMyJC5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gIGNvbnNvbGUubG9nKHZhbHVlKTtcbn0pO1xuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiMTEtY29yZS1yZWFjdGl2ZS1jb25jZXB0cyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIjEuMTogQ29yZSBSZWFjdGl2ZSBDb25jZXB0cyIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEwNQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJDb3JlIENvbmNlcHQgMTogUHVsbCBtb2RlbCB2cyBQdXNoIG1vZGVsIikpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTA2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiYW55IGRhdGEgc2l0dGluZyB0aGVyZSB0aGF0IHlvdSBcImFza1wiIGZvciBhdCBzb21lIHBvaW50IC0gZXhhbXBsZSByZWZyZXNoIGJ1dHRvbiAtIG1hbnVhbCBidXR0b24gdHJpZ2dlciAtIHRpbWUgaW50ZXJ2YWwiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAib2JzZXJ2YWJsZSAoc3RyZWFtKSB3aGljaCBpcyBhIHJlYWN0aXZlIGRhdGEgc291cmNlIC0gcHJvZHVjZXMgaXRlbXMgb3ZlciBhIHBlcmlvZCBvZiB0aW1lIHRoYXQgd2lsbCBlaXRoZXIgZXJyb3IsIGNvbXBsZXRlLCBvciBuZXZlciBjb21wbGV0ZSB1bnRpbCBhIHBhZ2UgY2xvc2VzIC0gbm90IHRlbGxpbmcgdGhlIHN0cmVhbSB3aGVuIHRvIGdldCBkYXRhLCBpdCBoYXMgaW5idWlsdCBsb2dpYyBvbiBob3cgdG8gZ2V0IGRhdGEgLSB3ZSBtYXkgdHJhbnNmb3JtIHRoaXMgZGF0YSAtIHRoZSBkaXNwbGF5IG9mIHRoZSBkYXRhIGlzIGFjdHVhbGx5IHBhcnQgb2YgdGhlIGRlc2NyaXB0aW9uIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMTAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQW4gYW4gZXhhbXBsZSBmb3IgYSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMTAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicHVsbCIpLCAiIGJhc2VkIGNvZGUsIHdlIGNhbiB0aGluayBvZiBhIHdpbmRvdy5zZXRJbnRlcnZhbCgpIHRoYXQgZmlyZXMgZXZlcnkgNTAwMCBzZWNvbmRzLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMTEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQW4gZXhhbXBsZSBvZiBhIHB1c2ggd291bGQgYmUgdG8gaGF2ZSBhIGZ1bmN0aW9uIGZpcmUgYW5kIHRoZW4gdGhlIHJldHVybiBjb250aW51dGVzIHRvIGZpbHRlciwgZmxhdE1hcCwgbWFwIGFuZCBzdWJzY3JpYmUuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDExMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgic3Ryb25nIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTEyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkNvcmUgQ29uY2VwdCAyOiBFdmVyeXRoaW5nIGlzIGEgZGF0YWJhc2UiKSksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMTMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDExNAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJtb3VzZSBtb3ZlbWVudHMiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMTUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiY3VycmVudCB1c2VyIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTE2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIndlYiByZXF1ZXN0cyIpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDExNwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJpbnB1dCBib3hlcyIpKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIjEyLWNvbXBhcmluZy10aGUtYXV0b2NvbXBsZXRlLWZ1bmN0aW9uLXVzaW5nLWpzLXZzLXJ4anMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTE5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIxLjI6IENvbXBhcmluZyB0aGUgQXV0b2NvbXBsZXRlIGZ1bmN0aW9uIHVzaW5nIEpTIHZzIFJ4SlMiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTIyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkluIHRoZSBjb21wYXJpc29uIHdoZXJlIHRoZSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMjIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiJHRpdGxlLm9uKCdrZXl1cCcsICgpID0+IHt9KSIpLCAiIHJ1bnMgd2l0aCBhIHByb21pc2UgcmV0dXJuZWQuIFRoZSBxdWVyeSBjYW4gcnVuIGludG8gcmFjZSBjb25kaXRpb25zLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMjMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQWxzbyBub3RlIHRoYXQgZXZlcnkgc2luZ2xlIHJlc3VsdCBhbHNvIGZpcmVzLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMjQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhlIGlzc3VlczoiKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMjUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwge30sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEyNQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiLy8gRml4IHVwIGFuZCBkb3duIGFycm93XG4vLyBTdG9wIGFsd2F5cyBxdWVyeWluZ1xuLy8gR2V0dGluZyByYWNlIGNvbmRpdGlvblxuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMjkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEyOQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJCYWQgd2F5cyIpKSwgbWR4KCJ1bCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEzMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTMxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImdlbmVyYWxseSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAibGkiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTMxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImlmIGxhc3QgcXVlcnkgPT0gY3VycmVudFRpdGxlIHJldHVybiIpKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMzIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAidXNpbmcgc2V0VGltZW91dCB0byByZWR1Y2UgbnVtYmVyIG9mIHF1ZXJpZXMiKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMzMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiUmFjZSBjb25kaXRpb24gc3RpbGwgaGFwcGVuaW5nLCBidXQgYmFkIGF0dGVtcHRzIG1heSBiZSBpbmNyZWFzaW5nIHRoZSB0aW1lb3V0IC0gQ291bGQgYWxzbyB1c2UgYSBjdXJyZW50IGlkIGNvbXBhcmVkIHRvIG5leHQgcXVlcnkgaWQgYW5kIHRoZW4gcmV0dXJuaW5nIGJlZm9yZSB0aGUgY2FsbGJhY2sgb2NjdXJzIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTM0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkEgbG90IG9mIHN0YXRlIGFjcm9zcyB0aGUgbW9kdWxlIGJlaW5nIGNoYW5nZWQiKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEzNgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgic3Ryb25nIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTM2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRoZSBSeCB3YXkiKSksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTM3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtamF2YXNjcmlwdCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMzcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIi8vIG5wbSBpbnN0YWxsIHJ4anMtZXMgZm9yIGVzNlxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBSeCBmcm9tICdyeGpzL1J4JztcblxuY29uc3QgJHRpdGxlID0gJCgnI3RpdGxlJyk7XG5jb25zdCAkcmVzdWx0cyA9ICQoJyNyZXN1bHRzJyk7XG5cbmNvbnN0IGtleVVwcyQgPSBSeC5PYnNlcnZhYmxlLmZyb21FdmVudCgkdGl0bGUsIFwia2V5dXBcIik7XG5jb25zdCBxdWVyaWVzJCA9IGtleVVwcyRcbiAgICAubWFwKGUgPT4gZS50YXJnZXQudmFsdWUpXG4gICAgLmRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgICAuZGVib3VuY2VUaW1lKDI1MClcbiAgICAuc3dpdGNoTWFwKGdldEl0ZW1zKTsgICAvLyBzaW1pbGFyIHRvIG1lcmdlLCBidXQgaWYgbmV3IHF1ZXJ5IGNvbWVzIGluLCBkaXNjYXJkIHRoZSBvbGQgZGF0YVxuICAgIC8vLm1lcmdlTWFwKGdldEl0ZW1zKTsgIC8vIGFsaWFzIGZvciBmbGF0TWFwXG5cbnF1ZXJpZXMkLnN1YnNjcmliZShxdWVyeSA9PiB7XG4gICAgLy8gZ2V0IHJpZCBvZiB0aGUgcHJvbWlzZSB3aWxsIHN0b3AgcmFjZSBjb25kaXRpb25cbiAgICAkcmVzdWx0cy5lbXB0eSgpO1xuICAgICRyZXN1bHRzLmFwcGVuZChpdGVtcy5tYXAoIHIgPT4gJChgPGxpIC8+YCkudGV4dChyKSkpO1xufSlcblxuPCEtLSBxdWVyaWVzJC5zdWJzY3JpYmUocXVlcnkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGUpOyAvLyBwcmludHMgb3V0IGV2ZW50XG4gICAgZ2V0SXRlbXMocXVlcnkpXG4gICAgICAgIC50aGVuKGl0ZW1zID0+IHtcbiAgICAgICAgICAgICRyZXN1bHRzLmVtcHR5KCk7XG4gICAgICAgICAgICAkcmVzdWx0cy5hcHBlbmQoaXRlbXMubWFwKCByID0+ICQoYDxsaSAvPmApLnRleHQocikpKTtcbiAgICAgICAgfSk7XG59KSAtLT5cbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTY5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkFuIGV2ZW4gYmV0dGVyIHdheS4iKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1qYXZhc2NyaXB0IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE3MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBSeCBmcm9tICdyeGpzL1J4JztcblxuY29uc3QgJHRpdGxlID0gJCgnI3RpdGxlJyk7XG5jb25zdCAkcmVzdWx0cyA9ICQoJyNyZXN1bHRzJyk7XG5cblJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KCR0aXRsZSwgJ2tleXVwJylcbiAgLm1hcCgoZSkgPT4gZS50YXJnZXQudmFsdWUpXG4gIC5kaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gIC5kZWJvdW5jZVRpbWUoNTAwKVxuICAuc3dpdGNoTWFwKGdldEl0ZW1zKVxuICAuc3Vic2NyaWJlKChpdGVtcykgPT4ge1xuICAgICRyZXN1bHRzLmVtcHR5KCk7XG4gICAgJHJlc3VsdHMuYXBwZW5kKGl0ZW1zLm1hcCgocikgPT4gJChgPGxpIC8+YCkudGV4dChyKSkpO1xuICB9KTtcbiIpKSwgbWR4KCJ1bCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE4OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTg5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkFsbCB0aGUgUnggaGFzIG5vIGV4dGVybmFsIHN0YXRlLCB3aGVyZWFzIHRoZSBvdGhlciBjb2RlIGRvZXMuIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTkwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlJ4IGRvZXNuJ3QgaGF2ZSB0byB3YWl0IGZvciB1cyB0byB0ZWxsIGl0IHdoZW4gdG8gZG8gaXQuIikpLCBtZHgoImhyIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTkyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICIzLXRoZS1jb3JlLW9mLXJlYWN0aXZlLWV4dGVuc2lvbnMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTkzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIzOiBUaGUgQ29yZSBvZiBSZWFjdGl2ZSBFeHRlbnNpb25zIiksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICIzMS1vYmVydmFibGVzLW9wZXJhdG9ycy1hbmQtc3Vic2NyaXB0aW9ucyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxOTYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIjMuMTogT2JlcnZhYmxlcywgT3BlcmF0b3JzIGFuZCBTdWJzY3JpcHRpb25zIiksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxOTkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIwMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJPYnNlcnZhYmxlOiBTb21ldGhpbmcgdGhhdCBjYW4gYmUgb2JzZXJ2ZWQgd2hpY2ggcHJvZHVjZXMgdmFsdWVzIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjAxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIk9wZXJhdG9yOiBJdCdzIGFuIG9wZXJhdGlvbiB0aGF0IG1vZGlmaWVzIHRoZSBkYXRhIGJlaW5nIHB1c2hlZCBpbiBmcm9tIHRoZSBvYnNlcnZhYmxlIC0gVGhleSBkb24ndCBwcm9kdWNlIHZhbHVlcyBpbiBhbmQgb2YgdGhlbXNlbHZlcywgYnV0IG1vdmUgdGhlbSB0aHJvdWdoIHRoZSBwaXBlbGluZS4iKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMDIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiU3Vic2NyaXB0aW9uczogUGllY2Ugb2YgY29kZSB0aGF0IHdpbGwgZG8gc29tZXRoaW5nIHdpdGggdGhlIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgb3BlcmF0b3JzIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMDQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiTm90ZSwgeW91IGNhbiBtb2RlbCBhbnl0aGluZyBpbiBhIHJlYWN0aXZlIGNvbnRleHQgYnkgdGhpbmtpbmcgYSBsaXR0bGUgYml0IGRpZmZlcmVudGx5LiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMDUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIwNQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJXZWIgQVBJIFJlcXVlc3QgRXhhbXBsZSIpKSwgbWR4KCJ1bCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIwNgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjA3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlJlYWN0aXZlIGNhbiBzdGlsbCBjb21wbGV0ZSwgb3IgaXQgY2FuIGVycm9yIG91dCBhbmQgcmV0cnkuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiMzItY3JlYXRpbmctb2JzZXJ2YWJsZXMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjA5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIzLjIgQ3JlYXRpbmcgT2JzZXJ2YWJsZXMiKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMTIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1qYXZhc2NyaXB0IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDIxMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiaW1wb3J0IFJ4IGZyb20gJ3J4anMvUngnO1xuXG4jIHByb21pc2Ugd2lsbCBhbHdheXMgZXhlY3V0ZSAtIG5vdCBsYXp5XG5jb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiSW4gcHJvbWlzZVwiKTtcbiAgICByZXNvbHZlKFwiaGV5XCIpO1xufSk7XG5cbnByb21pc2UudGhlbihpdGVtID0+IGNvbnNvbGUubG9nKGl0ZW0pKTtcblxuIyB0aGlzIGRvZXNuJ3QgZ2l2ZSBhbnkgb3V0cHV0IVxuIyBvYnNlcnZhYmxlcyBhcmUgbGF6eSFcbiMgd29uJ3QgcnVuIHdpdGhvdXQgYSBzdWJzY3JpcHRpb25cbmNvbnN0IHNpbXBsZSQgPSBuZXcgUnguT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgY29uc29sZS5sb2coXCJHZW5lcmF0aW5nIG9ic2VydmFibGVcIik7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLm5leHQoXCJBbiBpdGVtcyFcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChcIkFub3RoZXIgaXRlbSFcIik7XG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICB9LCAxMDAwKTtcbn0pO1xuXG4jIGNyZWF0aW5nIGEgc3Vic2NyaXB0aW9uXG4jIGZpcnN0IGFyZyBpcyB0aGUgbmV4dCBmdW5jdGlvblxuIyBzZWNvbmQgYXJnIGlzIGVycm9yXG4jIHRoaXJkIGFyZyBpcyBjb21wbGV0ZVxuc2ltcGxlJC5zdWJzY3JpYmUoXG4gICAgaXRlbSA9PiBjb25zb2xlLmxvZyhgb25lLm5leHQgJHtpdGVtfWApLFxuICAgIGVycm9yID0+IGNvbnNvbGUubG9nKGBvbmUuZXJyb3IgJHtpdGVtfWApLFxuICAgICgpID0+IGNvbnNvbGUubG9nKFwib25lLmNvbXBsZXRlXCIpXG4pO1xuXG4jIEdlbmVyYXRpbmcgb2JzZXJ2YWJsZVxuIyBvbmUubmV4dCBBbiBpdGVtIVxuIyBvbmUubmV4dCBBbm90aGVyIGl0ZW0hXG4jIG9uZS5jb21wbGV0ZVxuXG5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzaW1wbGUkLnN1YnNjcmliZSh7XG4gICAgICAgIG5leHQ6IGl0ZW0gPT4gY29uc29sZS5sb2coYHR3by5uZXh0ICR7aXRlbX1gKSxcbiAgICAgICAgZXJyb3I6IGVycm9yID0+IGNvbnNvbGUubG9nKGB0d28uZXJyb3IgJHtpdGVtfWApLFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coXCJ0d28uY29tcGxldGVcIilcbiAgICB9KTtcbn0sIDMwMDApXG4iKSksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNjEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJSZS1zdWJzY3JpYmluZyB0byBhbiBvYnNlcnZhYmxlIGFsbG93cyB5b3UgdG8gcnVuIHRoYXQgZ2VuZXJhdG9yIGFnYWluIikpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7fSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjY0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJmdW5jdGlvbiBjcmVhdGVJbnRlcnZhbCh0aW1lKSB7XG4gICAgcmV0dXJuIG5ldyBSeC5PYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChpbmRleCsrKTtcbiAgICAgICAgfSwgdGltZSk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIC8vIHdpbGwgcnVuIHdoZW4gd2UgdW5zdWJzY3JpYmVcbiAgICAgICAgICAgIGNsZWFybkludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlcih0YWcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0KGl0ZW0pIHsgY29uc29sZS5sb2coYCR7dGFnfS5uZXh0ICR7aXRlbX1gKTsgfSxcbiAgICAgICAgZXJyb3IoZXJyb3IpIHsgY29uc29sZS5sb2coYCR7dGFnfS5lcnJvciAke2Vycm9yLnN0YWNrIHx8IGVycm9yIH1gKTsgfSxcbiAgICAgICAgY29tcGxldGUoKSB7IGNvbnNvbGUubG9nKGAke3RhZ30uY29tcGxldGVgKTsgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRha2Uob2JzZXJ2YWJsZSwgYW1vdW50KSB7XG4gICAgcmV0dXJuIG5ldyBSeC5PYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcblxuICAgIH0pO1xufVxuXG4vLyB0aGlzIGlzIHRoZSBjb3JlIG9mIHN1YnNjcmlwdGlvbnNcbmZ1bmN0aW9uIHRha2Uoc291cmNlT2JzZXJ2YWJsZSwgYW1vdW50KSB7XG4gICAgcmV0dXJuIG5ldyBSeC5PYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gc291cmNlT2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dChpdGVtKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoKytjb3VudCA+PSBhbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IoZXJyb3IpIHsgb2JzZXJ2ZXIuZXJyb3IoZXJyb3IpOyB9LFxuICAgICAgICAgICAgY29tcGxldGUoKSB7IG9ic2VydmVyLmNvbXBsZXRlKCk7IH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH0pO1xufVxuXG5jb25zdCBldmVyeVNlY29uZF8gPSBjcmVhdGVJbnRlcnZhbCgxMDAwKTtcbmNvbnN0IGZpcnN0Rml2ZVNlY29uZHMgPSB0YWtlKGV2ZXJ5U2Vjb25kXywgNSk7XG5jb25zdCBzdWJzY3JpcHRpb24gPSBldmVyeVNlY29uZF8uc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJvbmVcIikpO1xuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG59LCAzNTAwKTtcbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzE4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRoaXMgc3Vic2NyaXB0aW9uIHdpbGwgY29uc29sZS5sb2cgb3V0IGZvcmV2ZXIgYW5kIGV2ZXIgYW5kIGV2ZXIuLi4gLSB1bmxlc3MsIHdlIGRpc3Bvc2Ugb2YgYSBkZXNjcmlwdGlvbiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMTkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSG93IGRvIG9wZXJhdG9ycyBjb21lIGludG8gcGxheT8iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzIwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIldlIGNvdWxkIHJ1biBzb21ldGhpbmcgbGlrZSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMjAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiY29uc3Qgc3Vic2NyaXB0aW9uID0gZXZlcnlTZWNvbmRfLnRha2UoMylzdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcIm9uZVwiKSk7IikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMjEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhlIHN0ZXBzIGZvciBpdCBhcmUgdGhhdCBpdCBsaXN0ZW5zIGZvciBhIHNvdXJjZSBhbmQgZW1pdHMgYSB0cmFuc2Zvcm1hdGlvbiEiKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIjMzLWJ1aWx0LWluLW9ic2VydmFibGVzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMyMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiMy4zOiBCdWlsdCBpbiBPYnNlcnZhYmxlcyIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMyNQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzI1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJpbXBvcnQgUnggZnJvbSAncnhqcy9SeCc7XG5cblxuUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCg1MDApXG4gICAgLnRha2UoNSlcbiAgICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJpbnRlcnZhbFwiKSk7XG5cblJ4Lk9ic2VydmFibGUudGltZXIoMTAwMCwgNTAwKVxuICAgIC50YWtlKDMpXG4gICAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKFwidGltZXJcIik7XG5cbi8vIG5vdGUsIGFycmF5IGRvZXNuJ3Qgd29yayAtIHVzZSBmcm9tXG5SeC5PYnNlcnZhYmxlLm9mKFwiSGVsbG8gd29ybGQhXCIsIDQyLCBcIndob2FcIilcbiAgICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJvZlwiKSk7XG5cblJ4Lk9ic2VydmFibGUuZnJvbShbXCJIZWxsbyB3b3JsZCFcIiwgNDIsIFwid2hvYVwiXSlcbiAgICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJvZlwiKSk7XG5cblJ4Lk9ic2VydmFibGUuZnJvbShnZW5lcmF0ZSgpKVxuICAgIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcIm9mXCIpKTtcblxuXG5SeC5PYnNlcnZhYmxlLmZyb20oXCJoZWxsbyB3b3JsZCFcIilcbiAgICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJvZlwiKSk7XG5cbi8vIGl0IGNhbiBhbHNvIHRha2UgaW4gYSBnZW5lcmF0b3IgZnVuY3Rpb24hXG5cbmZ1bmN0aW9uKiBnZW5lcmF0ZSgpIHtcbiAgICB5aWVsZCAxO1xuICAgIHlpZWxkIDU7XG4gICAgeWllbGQgXCJIRVlcIjtcbn1cblxuUnguT2JzZXJ2YWJsZS50aHJvdyhuZXcgRXJyb3IoXCJIZXlcIikpXG4gICAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKFwiZXJyb3JcIikpO1xuXG4vLyBlbXB0eVxuUnguT2JzZXJ2YWJsZS5lbXB0eSgpXG4gICAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKFwiZW1wdHlcIikpO1xuXG4vLyBkZWZlclxubGV0IHNpZGVFZmZlY3QgPSAwO1xuY29uc3QgZGVmZXIgPSBSeC5PYnNlcnZhYmxlLmRlZmVyKCgpID0+IHtcbiAgICBzaWRlRWZmZWN0Kys7XG4gICAgcmV0dXJuIFJ4Lk9ic2VyYWJsZS5vZihzaWRlRWZmZWN0KTtcbn0pO1xuXG5kZWZlci5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcImRlZmVyLm9uZVwiKSk7XG5kZWZlci5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcImRlZmVyLnR3b1wiKSk7XG5kZWZlci5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcImRlZmVyLnRocmVlXCIpKTtcblxuUnguT2JzZXJ2YWJsZS5uZXZlcigpXG4gICAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKFwibmV2ZXJcIikpO1xuXG5SeC5PYnNlcnZhYmxlLnJhbmdlKDEwLCAzMClcbiAgICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJyYW5nZVwiKSk7XG4iKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM4NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJCZW5lZml0cyBvZiB0aGUgaXRlcmFibGUgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzg0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImZyb20iKSwgIj8iKSwgbWR4KCJ1bCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM4NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzg2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkZvciBldmVyeSBpdGVyYWJsZSwgd2UgY291bGQgbWFwIGV2ZXJ5IGVsZW1lbnQuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiMzQtdXNpbmctcnhqcy13aXRoLW5vZGUtanF1ZXJ5LWFuZC1wcm9taXNlcyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzODgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIjMuNDogVXNpbmcgUnhKUyB3aXRoIE5vZGUsIGpRdWVyeSBhbmQgUHJvbWlzZXMiKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOTEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1qYXZhc2NyaXB0IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM5MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiUnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoJHRpdGxlLCAna2V5dXAnKVxuICAubWFwKChlKSA9PiBlLnRhcmdldC52YWx1ZSlcbiAgLmRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgLmRlYm91bmNlVGltZSg1MDApXG4gIC5zd2l0Y2hNYXAoZ2V0SXRlbXMpXG4gIC5zdWJzY3JpYmUoKGl0ZW1zKSA9PiB7XG4gICAgJHJlc3VsdHMuZW1wdHkoKTtcbiAgICAkcmVzdWx0cy5hcHBlbmQoaXRlbXMubWFwKChpKSA9PiAkKCc8bGkgLz4nKS50ZXh0KGkpKSk7XG4gIH0pO1xuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MDMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiTk9URTogV2l0aG91dCB0aGUgc3Vic2NyaWJlLCBpdCB3aWxsIG5ldmVyIGJlIHN1YnNjcmliZWQgdG8gdGhlIGRvbSEiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDA0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIklmIHdlIGhhdmUgdGhlICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQwNAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICIudGFrZSgxMCkiKSwgIiAtIGl0IHdvdWxkIGNvbXBsZXRlIGFmdGVyIHRha2luZyAxMCBhbmQgdGhlbiBmdXJ0aGVybW9yZSB1bnN1YnNjcmliZSBhbmQgYmUgZ3JlYXQgZm9yIHBlcmZvcm1hbmNlISIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MDUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MDUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiZnJvbUV2ZW50IiksICIgY2FsbHMgZnJvbSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MDUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiYWRkRXZlbnRMaXN0ZW5lciIpLCAiLCBzbyBpdCBjYW4gZG8gcG93ZXJmdWwgdGhpbmdzIGxpa2UgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDA1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImtleXVwIiksICIgZm9yIHRob3NlIHRoYXQgZG9uJ3QgaW5pdGlhbGx5IHN1cHBvcnQgaXQuIiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDA2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtamF2YXNjcmlwdCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MDYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImltcG9ydCBmcyBmcm9tICdmcyc7XG5cbmZzLnJlYWRkaXIoJy4vc3JjL3NlcnZlcicsIChlcnIsIGl0ZW1zKSA9PiB7XG4gIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycik7XG4gIGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKGl0ZW1zKTtcbiAgfVxufSk7XG5cbi8vIGFsdGVybmF0aXZlXG5jb25zdCByZWFkZGlyID0gUnguT2JzZXJ2YWJsZS5iaW5kTm9kZUNhbGxCYWNrKGZzLnJlYWRkaXIpO1xuXG5yZWFkZGlyKCcuL3NyYy9zZXJ2ZXInKVxuICAvLyBtZXJnZU1hcCBjcmVhdGVzIGl0ZXJhYmxlIGNvbnZlcnRlZCBmcm9tIGFycmF5XG4gIC5tZXJnZU1hcCgoZmlsZXMpID0+IFJ4Lk9ic2VydmFibGUuZnJvbShmaWxlcykpXG4gIC5tYXAoKGZpbGUpID0+IGBNQU5JUFVMQVRFRCAke2ZpbGV9YClcbiAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdyZWFkZGlyJykpO1xuXG4vLyBwcm9taXNlc1xuXG5mdW5jdGlvbiBnZXRJdGVtKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVzb2x2ZSgnSGVsbG8nKTtcbiAgICB9LCAxMDAwKTtcbiAgfSk7XG59XG5cblJ4Lk9ic2VydmFibGUuZnJvbVByb21pc2UoZ2V0SXRlbSgpKS5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcigncHJvbWlzZScpKTtcbiIpKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIjM1LXN1YmplY3RzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQzOAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiMy41OiBTdWJqZWN0cyIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0NDEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiU3ViamVjdHMgYXJlIGFub3RoZXIgUnggcHJpbWl0aXZlLiBUaGV5IGFyZSBib3RoIGFuIG9ic2VydmFibGUgYW5kIGEgb2JzZXJ2ZXIhIFVzZWQgdG8gYnJpZGdlIG5vbi1yZWFjdGl2ZSBjb2RlIHdpdGggcmVhY3RpdmUgY29kZS4iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDQyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkJlaGF2aW91ciwgcmVwbGF5IHN1YmplY3RzIGV0Yy4iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDQzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJlbSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQ0MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJXYXJuaW5nIiksICI6IHlvdSBzaG91bGQgb25seSByZWFsbHkgY29uc2lkZXIgdGhlbSBhcyBhIGxhc3QgcmVzb3J0IHdoZW4gYnJpZGdpbmcgbm9uLXJlYWN0aXZlIGFuZCByZWFjdGl2ZSBjb2RlLiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQ0NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDQ0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJjb25zdCBzaW1wbGUgPSBuZXcgUnguU3ViamVjdCgpO1xuXG5zaW1wbGUuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoJ3NpbXBsZScpKTtcblxuc2ltcGxlLm5leHQoJ0hlbGxvJyk7XG5zaW1wbGUubmV4dCgnV29ybGQnKTtcbnNpbXBsZS5jb21wbGV0ZSgpO1xuXG5jb25zdCBpbnRlcnZhbCA9IFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMCkudGFrZSg1KTtcbmNvbnN0IGludGVydmFsU3ViamVjdCA9IG5ldyBSeC5TdWJqZWN0KCk7XG5pbnRlcnZhbFN1YmplY3Quc3Vic2NyaWJlKGludGVydmFsKTtcblxuaW50ZXJ2YWxTdWJqZWN0LnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdzdWIxJykpO1xuaW50ZXJ2YWxTdWJqZWN0LnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdzdWIyJykpO1xuaW50ZXJ2YWxTdWJqZWN0LnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdzdWIzJykpO1xuXG4vLyBzdWJzY3JpYmVzIGFmdGVyIHRocmVlIHNlY29uZHNcbnNldFRpbWVvdXQoKCkgPT4ge1xuICBpbnRlcnZhbFN1YmplY3Quc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoJ0xPT0sgQVQgTUUnKSk7XG59LCAzMDAwKTtcbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDY3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkJlZm9yZSwgd2UgaGFkIHRvIGludm9rZSBhIGZ1bmN0aW9uIHRoYXQgY2FsbCAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0NjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAibmV4dCIpLCAiIGFuZCAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0NjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiY29tcGxldGUiKSwgIi4iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDY4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkluIHRoZSBhYm92ZSBleGFtcGxlLCBpbnRlcnZhbFN1YmplY3QgaXMgYWN0aW5nIGFzIGEgcHJveHkgdG8gYW5vdGhlciBvYnNlcnZhYmxlLiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQ2OQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDY5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIvLyBuZWVkcyBpbml0IHN0YXRlIHBhcmFtZXRlclxuY29uc3QgY3VycmVudFVzZXIgPSBuZXcgUnguQmVoYXZpb3JTdWJqZWN0KHsgaXNMb2dnZWRJbjogZmFsc2UgfSk7XG5jb25zdCBpc0xvZ2dlZEluID0gY3VycmVudFVzZXIubWFwKCh1KSA9PiB1LmlzTG9nZ2VkSW4pO1xuXG5jdXJyZW50VXNlci5uZXh0KHsgaXNMb2dnZWRJbjogZmFsc2UgfSk7XG5pc0xvZ2dlZEluLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdpc0xvZ2dlZEluJykpO1xuXG5zZXRUaW1lb3V0KCgpID0+IHtcbiAgY3VycmVudFVzZXIubmV4dCh7IGlzTG9nZ2VkSW46IHRydWUsIG5hbWU6ICduZWxzb24nIH0pO1xufSwgMzAwMCk7XG5cbnNldFRpbWVvdXQoKCkgPT4ge1xuICBpc0xvZ2dlZC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaXB0aW9uKCdkZWxheWVkJykpO1xufSwgMTUwMCk7XG4iKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQ4NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJIb3cgZG8geW91IHJlbWVtYmVyIG11bHRpcGxlIHN0YXRlcz8iKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0ODcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1qYXZhc2NyaXB0IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQ4NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiY29uc3QgcmVwbGF5ID0gbmV3IFJ4LlJlcGxheVN1YmplY3QoMyk7XG5yZXBsYXkubmV4dCgxKTtcbnJlcGxheS5uZXh0KDIpO1xuXG5yZXBsYXkuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJvbmVcIikpO1xuXG5yZXBsYXkubmV4dCgzKTtcbnJlcGxheS5uZXh0KDQpO1xucmVwbGF5Lm5leHQoNSk7XG5cbi8vIHRoaXMgc3Vic2NyaXB0aW9uIG9ubHkgZ2V0cyB0aGUgcHJldmlvdXMgdGhyZWUgaXRlbXNcbnJlcGxheS5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcInR3b1wiKSk7XG5cbnJlcGxheS5uZXh0KDYpO1xuXG4vLyB3aGF0IHlvdSBzZWVcbm9uZS5uZXh0IDFcbm9uZS5uZXh0IDJcbm9uZS5uZXh0IDNcbm9uZS5uZXh0IDRcbm9uZS5uZXh0IDVcbnR3by5uZXh0IDNcbnR3by5uZXh0IDRcbnR3by5uZXh0IDVcbm9uZS5uZXh0IDZcbnR3by5uZXh0IDZcbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTE2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJzdHJvbmciLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MTYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQXN5bmMgU3ViamVjdHMiKSksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTE3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHt9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MTcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImNvbnN0IGFwaUNhbGwgPSBuZXcgUnguQXN5bmNTdWJqZWN0KCk7XG5hcGlDYWxsLm5leHQoMSk7XG5cbmFwaUNhbGwuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJvbmVcIikpO1xuYXBpQ2FsbC5uZXh0KDIpO1xuXG4vLyBvbmx5IHdpbGwgZW1pdCB0aGUgZmluYWwgaXRlbSBiZWZvcmUgaXQgaXMgY29tcGxldGVcbmFwaUNhbGwuY29tcGxldGUoKTtcblxuLy8gaWYgeW91IHN1YnNjcmliZSB0byBpdCBhZ2FpbiwgdGhhdCBmaW5hbCB2YWx1ZSB3aWxsIGJlIGVtaXR0ZWRcbnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGFwaUNhbGwuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoXCJ0d29cIikpO1xufSwgMjAwMCk7XG5cbi8vIG91dHB1dFxub25lLm5leHQgMlxub25lLmNvbXBsZXRlXG50d28ubmV4dCAyXG50d28uY29tcGxldGVcbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTM3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJzdHJvbmciLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MzcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiU3ViamVjdCBTdW1tYXJ5IikpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTM4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MzkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiaWYgeW91IGNhbiBnZXQgYXJvdW5kIGl0LCBkb24ndCB1c2Ugc3ViamVjdHMgdW5sZXNzIHlvdSBoYXZlIHRvIiksIG1keCgibGkiLCB7CiAgICBwYXJlbnROYW1lOiAidWwiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTQwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInlvdSBzaG91bGQgdXNlIGFuIG9ic2VydmFibGUgd29ya2Zsb3cgd2hlcmUgcG9zc2libGUiKSksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICIzNi1yeGpzLXJlc291cmNlcy1hbmQtZG9jdW1lbnRhdGlvbiIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NDIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIjMuNjogUnhKUyBSZXNvdXJjZXMgYW5kIERvY3VtZW50YXRpb24iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTQ1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlNvdXJjZXM6IiksIG1keCgidWwiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NDYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU0NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiYSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogImxpIgogIH0sIHsKICAgICJocmVmIjogImh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdGl2ZVgvcnhqcyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NDcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlJ4SlMgR2l0aHViIikpLCBtZHgoImxpIiwgewogICAgcGFyZW50TmFtZTogInVsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU1MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiYSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogImxpIgogIH0sIHsKICAgICJocmVmIjogImh0dHA6Ly9yeG1hcmJsZXMuY29tLyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NTAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlJ4TWFyYmxlcyIpKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NTMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImEiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJsaSIKICB9LCB7CiAgICAiaHJlZiI6ICJodHRwOi8vamFyZWRmb3JzeXRoLmNvbS9yeHZpc2lvbi9leGFtcGxlcy9wbGF5Z3JvdW5kLyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NTMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlJ4VmlzaW9uIFBsYXlncm91bmQiKSkpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiMzctc2hhcmluZy1vYnNlcnZhYmxlLXNlcXVlbmNlcyIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NTcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIjMuNzogU2hhcmluZyBPYnNlcnZhYmxlIFNlcXVlbmNlcyIpLCBtZHgoInVsIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTYwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NjEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSG90IE9ic2VydmFibGU6IEl0IHdpbGwgcHJvZHVjZSBldmVudHMgcmVnYXJkbGVzcyBvZiBpZiB5b3UncmUgbGlzdGVuaW5nIC0gZWcuIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogImxpIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU2MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJmcm9tRXZlbnQoJHRpdGxlLCAna2V5dXAnKSIpKSwgbWR4KCJsaSIsIHsKICAgIHBhcmVudE5hbWU6ICJ1bCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NjIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiQ29sZCBPYnNlcmFibGU6IFN0YXJ0cyBvbmNlIHlvdSBzdWJzY3JpYmUgLSBJbnRlcnZhbCBPYnNlcnZhYmxlcyBhcmUgYWN0dWFsbHkgY29sZCBvYnNlcnZhYmxlcyIpKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NjQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1qYXZhc2NyaXB0IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU2NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiLy8gdGhpcyBleGFtcGxlIHNob3dzIHdoZW4gYm90aCBzdGFydCBmcm9tIHRoZSBiZWdpbm5pbmcgZWcgY29sZFxuaW1wb3J0IFJ4IGZyb20gJ3J4anMvUngnO1xuXG5jb25zdCBpbnRlcnZhbCA9IFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMCkudGFrZSgxMCk7XG5cbnNldFRpbWVvdXQoKCkgPT4ge1xuICBpbnRlcnZhbC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignb25lJykpO1xufSwgMTIwMCk7XG5cbnNldFRpbWVvdXQoKCkgPT4ge1xuICBpbnRlcnZhbC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcigndHdvJykpO1xufSwgMzIwMCk7XG5cbi8vIEhPVFxuLy8gY29ubmVjdGFibGUgb2JzZXJ2YWJsZVxuaW1wb3J0IFJ4IGZyb20gJ3J4anMvUngnO1xuXG5jb25zdCBpbnRlcnZhbCA9IFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMClcbiAgLnRha2UoMTApXG4gIC5wdWJsaXNoKCk7XG5cbmludGVydmFsLmNvbm5lY3QoKTtcblxuc2V0VGltZW91dCgoKSA9PiB7XG4gIGludGVydmFsLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdvbmUnKSk7XG59LCAxMjAwKTtcblxuc2V0VGltZW91dCgoKSA9PiB7XG4gIGludGVydmFsLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCd0d28nKSk7XG59LCAzMjAwKTtcblxuLy8gaWYgeW91IGNvbm5lY3QgYWZ0ZXIgYSBzZXQgaW50ZXJ2YWwsIHRoZW4gaXQgYmVnaW5zIGV4ZWN1dGluZyBhbmQgc2hhcmluZyB0aGUgdW5kZXJseWluZyBvYnNlcnZhYmxlXG4iKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU5OQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgic3Ryb25nIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNTk5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIldoeSB3b3VsZCB5b3Ugd2FudCBhIGhvdCB2YXJpYWJsZT8iKSksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjAwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtamF2YXNjcmlwdCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2MDAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIi8vIGhlcmUgc3Vic2NyaWJlIGNvbnNvbGUubG9nIHJ1bnMgdHdpY2VcbmNvbnN0IHNvY2tldCA9IHsgb246ICgpID0+IHt9IH07XG5jb25zdCBjaGF0TWVzc2FnZSA9IG5ldyBSeC5PYnNlcnZhYmxlKChvYnNlcnZhYmxlKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdzdWJzY3JpYmVkJyk7XG4gIHNvY2tldC5vbignY2hhdDptZXNzYWdlJywgKG1lc3NhZ2UpID0+IG9ic2VydmVyLm5leHQobWVzc2FnZSkpO1xufSk7XG5cbmNoYXRNZXNzYWdlLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdvbmUnKSk7XG5jaGF0TWVzc2FnZS5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcigndHdvJykpO1xuXG4vLyB3aXRob3V0IGl0XG5cbmNvbnN0IHNvY2tldCA9IHsgb246ICgpID0+IHt9IH07XG5jb25zdCBjaGF0TWVzc2FnZSA9IG5ldyBSeC5PYnNlcnZhYmxlKChvYnNlcnZhYmxlKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdzdWJzY3JpYmVkJyk7XG4gIHNvY2tldC5vbignY2hhdDptZXNzYWdlJywgKG1lc3NhZ2UpID0+IG9ic2VydmVyLm5leHQobWVzc2FnZSkpO1xufSkucHVibGlzaCgpO1xuXG5jaGF0TWVzc2FnZS5jb25uZWN0KCk7XG5cbmNoYXRNZXNzYWdlLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdvbmUnKSk7XG5jaGF0TWVzc2FnZS5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcigndHdvJykpO1xuXG4vLyB1c2luZyBwdWJsaXNoTGFzdCgpXG5jb25zdCBzaW1wbGUgPSBuZXcgUnguT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgb2JzZXJ2ZXIubmV4dCgnb25lJyk7XG4gIG9ic2VydmVyLm5leHQoJ3R3bycpO1xuICBvYnNlcnZlci5jb21wbGV0ZSgpO1xufSk7XG5cbi8vIGFsd2F5cyByZXR1cm5zIHRoZSBsYXN0IHZhbHVlXG5jb25zdCBwdWJsaXNoZWQgPSBzaW1wbGUucHVibGlzaExhc3QoKTtcblxuLy8gZXZlbiBpZiB3ZSBzdWJzY3JpYmUgYmVmb3JlIGNvbm5lY3QsIGJvdGggd2lsbCBnZXQgdGhlIGxhc3QgdmFsdWVcbnB1Ymxpc2hlZC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignb25lJykpO1xucHVibGlzaGVkLmNvbm5lY3QoKTtcbnB1Ymxpc2hlZC5zdWJzY3JpYmUoY3JlYVN1YnNjcmliZXIoJ3R3bycpKTtcblxuLy8gdXNpbmcgcHVibGlzaFJlcGxheSgpXG5jb25zdCBzaW1wbGUgPSBuZXcgUnguT2JzZXJ2YWJsZSgob2JzZXJ2ZXIpID0+IHtcbiAgb2JzZXJ2ZXIubmV4dCgnb25lJyk7XG4gIG9ic2VydmVyLm5leHQoJ3R3bycpO1xuICBvYnNlcnZlci5uZXh0KCd0aHJlZScpO1xuXG4gIHJldHVybiAoKSA9PiBjb25zb2xlLmxvZygnRGlzcG9zZWQnKTtcbn0pO1xuXG4vLyBhbHdheXMgcmV0dXJucyB0aGUgbGFzdCB2YWx1ZVxuY29uc3QgcHVibGlzaGVkID0gc2ltcGxlLnB1Ymxpc2hSZXBsYXkoMik7XG5cbi8vIGV2ZW4gaWYgd2Ugc3Vic2NyaWJlIGJlZm9yZSBjb25uZWN0LCBib3RoIHdpbGwgZ2V0IHRoZSBsYXN0IHZhbHVlXG4vLyB0byBkaXNwb3NlIHdpdGhvdXQgcnVubmluZyBjb21wbGV0ZSwgd2UgbmVlZCB0byBkaXNjb25uZWN0IGJ5IHVuc3Vic2NyaWJpbmdcbmNvbnN0IHN1YjEgPSBwdWJsaXNoZWQuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoJ29uZScpKTtcbmNvbnN0IGNvbm5lY3Rpb24gPSBwdWJsaXNoZWQuY29ubmVjdCgpO1xuY29uc3Qgc3ViMiA9IHB1Ymxpc2hlZC5zdWJzY3JpYmUoY3JlYVN1YnNjcmliZXIoJ3R3bycpKTtcblxuc3ViMS51bnN1YnNjcmliZSgpO1xuc3ViMi51bnN1YnNjcmliZSgpO1xuXG5jb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4iKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY2MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJSZWZjb3VudCBpcyBhIHdheSB0byBhdXRvbWF0aWNhbGx5IGhhbmRsZSB0aGUgY29ubmVjdGlvbiBhbmQgdGhlIHVuc3Vic2NyaXB0aW9uIG9mIGEgY29ubmVjdGlvbiBvYnNlcnZhYmxlLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2NjQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSXQgd2lsbCBjb25uZWN0IHRvIHRoZSBmaXJzdCBzdWJzY3JpcHRpb24gYW5kIHRoZW4gZGlzY29ubmVjdGVkIG9uIHRoZSBsYXN0IHVuc3Vic2NyaWJlLiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY2NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7fSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjY1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIvLyB1c2luZyByZWZDb3VudCgpXG5jb25zdCBzaW1wbGUgPSBuZXcgUnguT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgb2JzZXJ2ZXIubmV4dChcIm9uZVwiKTtcbiAgICBvYnNlcnZlci5uZXh0KFwidHdvXCIpO1xuICAgIG9ic2VydmVyLm5leHQoXCJ0aHJlZVwiKTtcblxuICAgIHJldHVybiAoKSA9PiBjb25zb2xlLmxvZyhcIkRpc3Bvc2VkXCIpO1xufSk7XG5cbi8vIGFsd2F5cyByZXR1cm5zIHRoZSBsYXN0IHZhbHVlXG5jb25zdCBwdWJsaXNoZWQgPSBzaW1wbGUucHVibGlzaFJlcGxheSgyKS5yZWZDb3VudCgpO1xuXG4vLyBldmVuIGlmIHdlIHN1YnNjcmliZSBiZWZvcmUgY29ubmVjdCwgYm90aCB3aWxsIGdldCB0aGUgbGFzdCB2YWx1ZVxuLy8gdG8gZGlzcG9zZSB3aXRob3V0IHJ1bm5pbmcgY29tcGxldGUsIHdlIG5lZWQgdG8gZGlzY29ubmVjdCBieSB1bnN1YnNjcmliaW5nXG5jb25zdCBzdWIxID0gcHVibGlzaGVkLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKFwib25lXCIpKTtcbmNvbnN0IHN1YjIgPSBwdWJsaXNoZWQuc3Vic2NyaWJlKGNyZWFTdWJzY3JpYmVyKFwidHdvXCIpKTtcblxuc3ViMS51bnN1YnNjcmliZSgpO1xuc3ViMi51bnN1YnNjcmliZSgpO1xuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2ODUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhlICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY4NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJwdWJsaXNoKCkucmVmQ291bnQoKSIpLCAiIGlzIGRvbmUgc28gb2Z0ZW4sIHRoYXQgaXMgaGFzIGJlZW4gdHVybmVkIGluICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY4NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJzaGFyZSgpIiksICIuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY4NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUYXhpbmcgcHJvY2Vzc2VzIHRoYXQgeW91IGRvbid0IHdhbnQgdG8gcmVwZWF0IGJ1dCB5b3Ugd2FudCBtdWx0aXBsZSB0aGluZ3MgdG8gaG9vayBpbnRvIHRoZSByZXN1bHQsIHRoZW4gdHVybiBpdCBpbnRvIGEgaG90IHN1YnNjcmlwdGlvbi4iKSwgbWR4KCJociIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY4NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiNDAtb3BlcmF0b3JzLXRoYXQtZXZlcnlvbmUtc2hvdWxkLWtub3ciCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjg4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICI0LjA6IE9wZXJhdG9ycyB0aGF0IGV2ZXJ5b25lIHNob3VsZCBrbm93IiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY5MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJOb3cgd2Ugd2lsbCBqdXN0IHRhbGsgYWJvdXQgdGhlIGRpZmZlcmVudCBwcmltYXJ5IG9wZXJhdG9ycyB0aGF0IHlvdSB3aWxsIHdvcmsgd2l0aC4iKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIjQxLWRvLS1maW5hbGx5LS1zdGFydHdpdGgtLWZpbHRlciIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2OTIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIjQuMTogRG8gLyBGaW5hbGx5IC8gU3RhcnRXaXRoIC8gRmlsdGVyIiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjk1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtamF2YXNjcmlwdCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA2OTUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIi8vIGRvID0+IGdldCB0aGUgbmV4dCB2YWx1ZSBhbmQgcGFzcyBpdCBiYWNrIHVuY2hhbmdlZFxuLy8gZmluYWxseSA9PiBvbmx5IGNvbXBsZXRlcyBhZnRlciB0aGUgcmFuZ2UgaGFzIGNvbXBsZXRlZCwgcnVucyByaWdodCBhdCB0aGUgZW5kIG9mIHRoZSBmaW5hbCB2YWx1ZVxuLy8gZmlsdGVyID0+IGZpbHRlcnMgb3V0IGdpdmVuIHN0YXRlbWVudFxuLy8gaW50ZXJ2YWwgPT4gY2FsbCB0aW1lb3V0XG4vLyBzdGFydFdpdGggPT4gc2V0IGluaXRpYWwgdmFsdWVcblxuUnguT2JzZXJ2YWJsZS5yYW5nZSgxLCAxMClcbiAgLmRvKChhKSA9PiBjb25zb2xlLmxvZyhgRnJvbSBkbyAke2F9YCkpXG4gIC5tYXAoKGEpID0+IGEgKiBhKVxuICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoJ3NpbXBsZScpKTtcblxuUnguT2JzZXJ2YWJsZS5yYW5nZSgxLCAxMClcbiAgLmZpbmFsbHkoKCkgPT4gY29uc29sZS5sb2coYEZyb20gZmluYWxseWApKVxuICAubWFwKChhKSA9PiBhICogMilcbiAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdmaW5hbGx5JykpO1xuXG5SeC5PYnNlcnZhYmxlLnJhbmdlKDEsIDEwKVxuICAuZmlsdGVyKChhKSA9PiBhIDwgNSlcbiAgLm1hcCgoYSkgPT4gYSAqIDIpXG4gIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignZmlsdGVyJykpO1xuXG5SeC5PYnNlcnZhYmxlLmludGVydmFsKDEwMDApXG4gIC5zdGFydFdpdGgoLTEpXG4gIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignaW50ZXJ2YWwnKSk7XG4iKSksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICI0Mi1tZXJnZS0tY29uY2F0IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDcyMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiNC4yOiBNZXJnZSAvIENvbmNhdCIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDcyNQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzI1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIvLyBtZXJnZSAtIG1lcmdlIG1hbnkgb2JzZXJ2YWJsZXMgdG9nZXRoZXJzXG4vLyBjb25jYXQgLSB0aGlzIGNvbmNhdGVuYXRlcyBvYnNlcnZhYmxlcyB0byB0aGUgZW5kIG9mIGFub3RoZXIsIGNhbiBhbHNvIHRha2UgYSBsaXN0IG9mIE9ic2VydmFibGVzXG5cblJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMClcbiAgICAubWVyZ2UoUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCg1MDApKVxuICAgIC50YWtlKDUpXG4gICAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKFwibWVyZ2UxXCIpKTtcblxuUnguT2JzZXJ2YWJsZS5tZXJnZShcbiAgICBSeC5PYnNlcnZhYmxlLmludGVydmFsKDEwMDApLm1hcChpID0+IGAke2l9IHNlY29uZHMpLFxuICAgIFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoNTAwKS5tYXAoaSA9PiBgJHtpfSBoYWxmIHNlY29uZHMpKVxuICAgIC50YWtlKDUpXG4gICAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdtZXJnZTInKSk7XG5cbi8vIGRpZmZlcmVudCBldmVudHMgZm9yIG1lcmdlZCBvYnNlcnZhYmxlc1xuUnguT2JzZXJ2YWJsZS5tZXJnZShcbiAgICBzb2NrZXQub24kKFwibG9naW5cIikubWFwKHVzZXIgPT4gcHJvY2Vzc1VzZXIodXNlciksXG4gICAgc29ja2V0Lm9uJChcImxvZ291dFwiKS5tYXAoKCkgPT4gbnVsbCkpO1xuXG5SeC5PYnNlcnZhYmxlLnJhbmdlKDEsIDUpXG4gICAgLmNvbmNhdChSeC5PYnNlcnZhYmxlLnJhbmdlKDEwLDMpKVxuICAgIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcImNvbmNhdDFcIikpO1xuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiNDMtbWFwLS1tZXJnZW1hcC0tc3dpdGNobWFwIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDc1MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiNC4zOiBNYXAgLyBNZXJnZU1hcCAvIFN3aXRjaE1hcCIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDc1MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzUzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIvLyBtYXAgLSBhIHByb2plY3Rpb24gb24gZXZlcnkgaXRlbSB0aGF0IGNvbWVzIGluXG4vLyBtZXJnZU1hcCAtIHNlbGVjdCBtYW55LCBkb2VzIHByb2plY3Rpb24gYW5kIHRoZW4gaGFzIGFub3RoZXIgdGhpbmcgdGhhdCB3ZSB3aWxsIHdvcmsgb25cbi8vIHN3aXRjaE1hcCAtIHNpbWlsYXIgdG8gbWVyZ2VNYXAgYnV0IHJlcGxhY2VzIHdpdGggdGhlIGxhdGVzdCB2YWx1ZSBpZiBhbm90aGVyIGVtaXNzaW9uIGNvbWVzIGluXG5cbmZ1bmN0aW9uIGFycmF5TWFwKGFyciwgcHJvaikge1xuICBsZXQgcmV0dXJuQXJyYXkgPSBbXTtcbiAgZm9yIChsZXQgaSBvZiBhcnIpIHtcbiAgICByZXR1cm5BcnJheS5wdXNoKHByb2ooaXRlbSkpO1xuICB9XG5cbiAgcmV0dXJuIHJldHVybkFycmF5O1xufVxuXG5hcnJheU1hcChbMSwgMiwgM10sIChhKSA9PiBhICogYSk7XG5cbi8vIGltYWdpbmUgYXJyYXkgb2YgZGljdHNcbmNvbnN0IGFsYnVtcyA9IFt7fSwge31dO1xuXG5mdW5jdGlvbiBhcnJheU1lcmdlTWFwKGFyciwgcHJvaikge1xuICBsZXQgcmV0dXJuQXJyYXkgPSBbXTtcbiAgZm9yIChsZXQgaSBvZiBhcnIpIHtcbiAgICBsZXQgcHJvakFycmF5ID0gcHJvaihpdGVtKTtcbiAgICBmb3IgKGxldCBqIG9mIHByb2pBcnJheSkge1xuICAgICAgcmV0dXJuQXJyYXkucHVzaChwcm9qKGl0ZW0pKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmV0dXJuQXJyYXk7XG59XG5cbmNvbnN0IHRyYWNrcyA9IGFycmF5TWVyZ2VNYXAoYWxidW1zLCAoYWxidW0pID0+IGFsYnVtLnRyYWNrcyk7XG5cblJ4Lk9ic2VydmFibGUucmFuZ2UoMSwgMylcbiAgLm1lcmdlTWFwKChpKSA9PlxuICAgIFJ4Lk9ic2VydmFibGUudGltZXIoaSAqIDEwMDApLm1hcCgoKSA9PiBgQWZ0ZXIgJHtpfSBzZWNvbmRzYClcbiAgKVxuICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoJ21lcmdlTWFwJykpO1xuXG5SeC5PYnNlcnZhYmxlLmZyb21Qcm9taXNlKGdldFRyYWNrcygpKVxuICAubWVyZ2VNYXAoKHRyYWNrcykgPT4gUnguT2JzZXJ2YWJsZS5mcm9tKHRyYWNrcykpXG4gIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcigndHJhY2tzJykpO1xuXG5mdW5jdGlvbiBnZXRUcmFja3MoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZXNvbHZlKFsndHJhY2sgMScsICd0cmFjayAyJywgJ3RyYWNrIDMnXSk7XG4gICAgfSwgMTAwMCk7XG4gIH0pO1xufVxuXG4vLyBzeW5jaHJvbm91cyBleGFtcGxlXG5SeC5PYnNlcnZhYmxlLm9mKCdteSBxdWVyeScpXG4gIC5kbygoKSA9PiBjb25zb2xlLmxvZygnUXVlcnlpbmcnKSlcbiAgLm1lcmdlTWFwKChhKSA9PiBxdWVyeShhKSlcbiAgLmRvKCgpID0+IGNvbnNvbGUubG9nKCdBZnRlciBxdWVyeWluZycpKVxuICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoJ3F1ZXJ5JykpO1xuXG5mdW5jdGlvbiBxdWVyeSh2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVzb2x2ZSgnVGhpcyBpcyB0aGUgcmVzb2x2ZWQgdmFsdWUnKTtcbiAgICB9LCAxMDAwKTtcbiAgfSk7XG59XG5cbi8vIHN3aXRjaCBtYXBcbiIpKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIjQ0LXJlZHVjZS0tc2NhbiIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA4MjIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIjQuNDogUmVkdWNlIC8gU2NhbiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDgyNQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODI1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIvLyByZWR1Y2VyIChhY2MsIHZhbHVlKSBhbmQgd29ya3Mgb24gdmFsdWUgLSBkb2Vzbid0IGVtaXQgdW50aWwgdGhlIGNvbXBsZXRpb25cbi8vIHNjYW4gLSBwcm9jZXNzZXMgYW5kIGVtaXRzIGFzIGl0IGNvbWVzIGluXG5SeC5PYnNlcnZhYmxlLnJhbmdlKDEsIDEwKVxuICAucmVkdWNlKChhY2MsIHZhbHVlKSA9PiBhY2MgKyB2YWx1ZSlcbiAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdyZWR1Y2UnKSk7XG5cblJ4Lk9ic2VydmFibGUucmFuZ2UoMSwgMTApXG4gIC5zY2FuKChhY2MsIHZhbHVlKSA9PiBhY2MgKyB2YWx1ZSlcbiAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdzY2FuJykpO1xuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiNDUtYnVmZmVyLS10b2FycmF5IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDgzNwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiNC41OiBCdWZmZXIgLyBUb0FycmF5IiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDg0MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUaGVyZSBoYXZlIGJlZW4gc29tZSBiaWcgY2hhbmdlcyB0byBob3cgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODQwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImJ1ZmZlciIpLCAiIGhhcyBiZWVuIHVzZWQuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDg0MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJCdWZmZXIgdGFrZXMgaW4gYW4gb2JzZXJ2YWJsZS4iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODQyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInRvQXJyYXkgd2lsbCBjb252ZXJ0IHJlc3VsdHMgaW50byBhbiBhcnJheS4gLSBzdGlsbCBoYXMgYSBjbGVhbiBleGl0IGlmIHRoZSBuZXZlcigpIGlzIGltcGxlbWVudGVkISIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDg0MwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODQzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJSeC5PYnNlcnZhYmxlLnJhbmdlKDEsIDEwMClcbiAgICAuYnVmZmVyQ291bnQoMjUpXG4gICAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKFwiaXRlbXNcIik7XG5cbi8vIHdpbGwgdGFrZSAyNSBpdGVtcyBhbmQgcHVzaGluZyB0aGVtIGludG8gYW4gYXJyYXlcblxuXG5SeC5PYnNlcnZhYmxlLmludGVydmFsKDUwMClcbiAgICAuYnVmZmVyVGltZSgyMDAwKVxuICAgIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcImJ1ZmZlclRpbWVcIik7XG5cbi8vIHNhbWUgYmVoYXZpb3VyIVxuLy8gZW1pdHRpbmcgZXZlbnQgY2F1c2VzIGJ1ZmZlciB0byBmbHVzaFxuUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCg1MDApXG4gICAgLmJ1ZmZlcihSeC5PYnNlcnZhYmxlLmludGVydmFsKDIwMDApKVxuICAgIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcImJ1ZmZlclwiKTtcblxuLy9cbi8vIHRvQXJyYXlcbi8vXG5cblJ4Lk9ic2VydmFibGUucmFuZ2UoMSwgMTApXG4gICAgLnRvQXJyYXkoKVxuICAgIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihcInJhbmdlXCIpKTtcbiIpKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIjQ2LWZpcnN0LS1sYXN0LS1zaW5nbGUtLXNraXAtLXRha2UiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODcwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICI0LjY6IEZpcnN0IC8gTGFzdCAvIFNpbmdsZSAvIFNraXAgLyBUYWtlIiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogODczCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtamF2YXNjcmlwdCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA4NzMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImNvbnN0IHNpbXBsZSA9IG5ldyBSeC5PYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICBjb25zb2xlLmxvZygnR2VuZXJhdGluZyBzZXF1ZW5jZScpO1xuICBvYnNlcnZlci5uZXh0KDEpO1xuICBvYnNlcnZlci5uZXh0KDIpO1xuICBvYnNlcnZlci5uZXh0KDMpO1xuICBvYnNlcnZlci5uZXh0KDQpO1xuICBvYnNlcnZlci5jb21wbGV0ZSgpO1xufSk7XG5cbnNpbXBsZS5maXJzdCgpLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdmaXJzdCcpKTtcblxuc2ltcGxlLmxhc3QoKS5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignbGFzdCcpKTtcblxuLy8gZGlzcGxheXMgMSAmIDRcbi8vIGlmIG5vdGhpbmcgaXMgaW4gdGhlcmUsIHRoZXJlIGFyZSBFbXB0eUVycm9yKHMpIHRocm93blxuXG4vLyBzaW5nbGUuZXJyb3IgdGhyb3duIGlzIG1vcmUgdGhhbiBvbmUgZXJyb3IgdGhyb3duXG5zaW1wbGUuc2luZ2xlKCkuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoJ3NpbmdsZScpKTtcblxuLy8gdGFrZSBhbmQgc2tpcCB3b24ndCB0aHJvdyBlcnJvcnNcbi8vIHRha2UgZG9lcyB0aGUgZmlyc3QgaG93ZXZlciBlbWlzc2lvbnNcbi8vIHNraXAgd2lsbCB0YWtlIHRoZSBlbWlzc2lvbnMgYWZ0ZXIgYSBudW1iZXJcbnNpbXBsZS50YWtlKDIpLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCd0YWtlJykpO1xuXG5zaW1wbGUuc2tpcCgyKS5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignc2tpcCcpKTtcblxuLy8gMywgNFxuc2ltcGxlXG4gIC5za2lwKDIpXG4gIC50YWtlKDIpXG4gIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignc2tpcCcpKTtcblxuLy8gc2tpcFdoaWxlIC8gdGFrZVdoaWxlXG5SeC5PYnNlcnZhYmxlLmludGVydmFsKDUwMClcbiAgLnNraXBXaGlsZSgoaSkgPT4gaSA8IDQpXG4gIC50YWtlV2hpbGUoKGkpID0+IGkgPCAxMClcbiAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCdza2lwV2hpbGUvdGFrZVdoaWxlJykpO1xuXG4vLyB3aGF0J3MgdW50aWwgYW5kIHRha2UgZW1pc3Npb25zIHVudGlsXG5SeC5PYnNlcnZhYmxlLmludGVydmFsKDUwMClcbiAgLnNraXBVbnRpbChSeC5PYnNlcnZhYmxlLnRpbWVyKDEwMDApKVxuICAudGFrZVVudGlsKFJ4Lk9ic2VydmFibGUudGltZXIoNDAwMCkpXG4gIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignc2tpcFVudGlsJykpO1xuIikpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiNDctemlwLS13aXRobGF0ZXN0ZnJvbS0tY29tYmluZWxhdGVzdCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA5MTkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIjQuNzogWmlwIC8gV2l0aExhdGVzdEZyb20gLyBDb21iaW5lTGF0ZXN0IiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDkyMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJIb3cgY2FuIHdlIGNvbWJpbmUgb2JzZXJ2YWJsZXMgaW4gZGlmZmVyZW50IHdheXM/IiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogOTIzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtamF2YXNjcmlwdCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA5MjMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImZ1bmN0aW9uIGFycmF5WmlwKGFycjEsIGFycjIsIHNlbGVjdG9yRnVuYykge1xuICBjb25zdCBjb3VudCA9IE1hdGgubWluKGFycjEubGVuZ3RoLCBhcnIyLmxlbmd0aCk7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICBjb25zdCBjb21iaW5lZCA9IHNlbGVjdG9yKGFycjFbaV0sIGFycjJbaV0pO1xuICAgIHJlc3VsdHMucHVzaChjb21iaW5lZCk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuY29uc3QgYXJyMSA9IFszMiwgMiwgNTIsIDQzLCA1NF07XG5jb25zdCBhcnIyID0gWzEsIDAsIDEwLCA0LCAxLCA0LCA2LCAyXTtcbmNvbnN0IHJlc3VsdHMgPSBhcnJheVppcChhcnIxLCBhcnIyLCAobGVmdCwgcmlnaHQpID0+IGxlZnQgKiByaWdodCk7XG5cbmNvbnNvbGUubG9nKHJlc3VsdHMpO1xuXG4vLyBpbiBSeEpTXG5SeC5PYnNlcnZhYmxlLnJhbmdlKDEuMSlcbiAgLnppcChcbiAgICBSeC5PYnNlcnZhYmxlLmludGVydmFsKDUwMCksXG4gICAgKGxlZnQsIHJpZ2h0KSA9PiBgaXRlbTogJHtsZWZ0fSwgYXQgJHtyaWdodCAqIDUwMH1gXG4gIClcbiAgLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKCd6aXAnKSk7XG5cbi8vIGVtaXRzIHZhbHVlIHdoZW4gc291cmNlIGVtaXRzXG4vLyBjYW4gYWxzbyBwYXNzIChsZWZ0LCByaWdodCkgZnVuY3Rpb24gbGlrZSB6aXAgYXMgc2Vjb25kIHBhcmFtZXRlclxuUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKVxuICAud2l0aExhdGVzdEZyb20oUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCg1MDApKVxuICAuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoJ3dpdGhMYXRlc3RGcm9tJykpO1xuXG4vLyBlbWl0IHZhbHVlIGlmIGVpdGhlciBkb1xuUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKVxuICAuY29tYmluZUxhdGVzdChSeC5PYnNlcnZhYmxlLmludGVydmFsKDUwMCkpXG4gIC5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcignd2l0aExhdGVzdEZyb20nKSk7XG4iKSksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICI0OC1lcnJvci1oYW5kbGluZy1jYXRjaC1hbmQtcmV0cnkiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogOTYyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICI0Ljg6IEVycm9yIEhhbmRsaW5nIENhdGNoIGFuZCBSZXRyeSIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA5NjUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSWYgYW4gZXJyb3IgaGFwcGVucywgYW4gb2JzZXJ2ZXIgc3RvcHMgZW1pdHRpbmcgYW5kIGNhbiBwcmV2ZW50IHZhbHVlcyBmcm9tIGVtaXR0aW5nIGF0IGFsbC4gRXJyb3IgaGFuZGxpbmcgaXMgdmVyeSBpbXBvcnRhbnQhIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDk2NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDk2NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICIuY2F0Y2goZXJyb3IgPT4gUnguT2JzZXJ2YWJsZS5vZihlcnJvcikpIiksICIgY2FuIHBhc3MgdGhpcyBkb3duIGFzIGFuIE9ic2VydmFibGUuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDk2NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDk2NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICIucmV0cnkoKSIpLCAiIHdlIGNhbiBwYXNzIGluIHdpdGggYSBudW1lcmFsIHRvIGVuc3VyZSB0aGF0IHdlIGVpdGhlciBrZWVwIHJldHJ5aW5nIG9yIHJldHJ5IGEgY2VydGFpbiBudW1iZXIgb2YgdGltZXMuIikpOwp9CgppZiAodHlwZW9mIE1EWENvbnRlbnQgIT09ICd1bmRlZmluZWQnICYmIE1EWENvbnRlbnQgJiYgTURYQ29udGVudCA9PT0gT2JqZWN0KE1EWENvbnRlbnQpICYmIE9iamVjdC5pc0V4dGVuc2libGUoTURYQ29udGVudCkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURYQ29udGVudCwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIk1EWENvbnRlbnQiLAogICAgICBmaWxlbmFtZTogIm1hbnVhbC9KYXZhU2NyaXB0L0pTLVJ4SlMubWQiCiAgICB9CiAgfSk7Cn0KCk1EWENvbnRlbnQuaXNNRFhDb21wb25lbnQgPSB0cnVlOwo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmRlZmF1bHQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKG1ha2VTaG9ydGNvZGUsICJtYWtlU2hvcnRjb2RlIiwgIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9tYW51YWwvSmF2YVNjcmlwdC9KUy1SeEpTLm1kIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIobGF5b3V0UHJvcHMsICJsYXlvdXRQcm9wcyIsICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0phdmFTY3JpcHQvSlMtUnhKUy5tZCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKE1EWExheW91dCwgIk1EWExheW91dCIsICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0phdmFTY3JpcHQvSlMtUnhKUy5tZCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKE1EWENvbnRlbnQsICJNRFhDb250ZW50IiwgIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9tYW51YWwvSmF2YVNjcmlwdC9KUy1SeEpTLm1kIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmxlYXZlTW9kdWxlOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/JavaScript/JS-RxJS.md"],"names":["React","mdx","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":";;;;;;;;;;;;AAAA;AACE,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,eAApB;AACA;;AAGF,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,IAAI;AAAA,SAAI,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAChEC,IAAAA,OAAO,CAACC,IAAR,CAAa,eAAeJ,IAAf,GAAsB,yEAAnC;AACA,WAAO,6BAASE,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD,GAHyB;AAAA,CAA1B;;AAKA,IAAMG,WAAW,GAAG,EAApB;AAGA,IAAMC,SAAS,GAAG,SAAlB;AACA,eAAe,SAASC,UAAT,OAGZ;AAAA,MAFDC,UAEC,QAFDA,UAEC;AAAA,MADEN,KACF;;AACD,SAAO,IAAC,SAAD,oBAAeG,WAAf,EAAgCH,KAAhC;AAAuC,IAAA,UAAU,EAAEM,UAAnD;AAA+D,IAAA,OAAO,EAAC,WAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADK,EAOL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAPK,EAUL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAVK,EAaL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFF,EAGE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFAHF,EAIE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAJF,EAKE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCALF,EAME;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CANF,EAOE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAPF,CAbK,EAsBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAtBK,EAyBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFF,EAGE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAHF,EAIE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJF,EAKE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,EAME;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gGANF,EAOE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAPF,CAzBK,EAkCL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAlCK,EAqCL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qFADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,EAGE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAHF,EAIE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAJF,EAKE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iFALF,CArCK,EA4CL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA5CK,EA+CL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,EAGE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,EAIE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJF,EAKE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,EAME;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,EAOE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAPF,EAQE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BARF,EASE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCATF,EAUE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAVF,EAWE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAXF,CA/CK,EA4DL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA5DK,EA+DL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oOAFF,EAGE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,EAIE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,EAKE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCALF,EAME;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCANF,EAOE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAPF,CA/DK,EAwEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oKAAL,CAxEK,EAkFL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAlFK,EAqFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAQ,IAAA,UAAU,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAAH,CArFK,EAsFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kIADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wVAFF,CAtFK,EA0FL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAA2B;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAA3B,uFA1FK,EA2FL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mIA3FK,EA4FL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAQ,IAAA,UAAU,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAAH,CA5FK,EA6FL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,EAGE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,EAIE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,CA7FK,EAmGL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAnGK,EAsGL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAmC;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAnC,2EAtGK,EAuGL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAvGK,EAwGL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAxGK,EAyGL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAAL,CAzGK,EA6GL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAQ,IAAA,UAAU,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAH,CA7GK,EA8GL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkC;AAAY,IAAA,UAAU,EAAC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAAlC,CADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAFF,EAGE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4LAHF,EAIE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAJF,CA9GK,EAoHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAQ,IAAA,UAAU,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAH,CApHK,EAqHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,o4BAAL,CArHK,EAqJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BArJK,EAsJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uYAAL,CAtJK,EAwKL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sEADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAFF,CAxKK,EA4KL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5KK,EA6KL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CA7KK,EAgLL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAhLK,EAmLL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oLAFF,EAGE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qGAHF,CAnLK,EAwLL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gGAxLK,EAyLL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAQ,IAAA,UAAU,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAH,CAzLK,EA0LL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mEADF,CA1LK,EA6LL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCA7LK,EAgML;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mtCAAL,CAhMK,EAiPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8EADF,CAjPK,EAoPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,i+CAAL,CApPK,EA0SL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iHA1SK,EA2SL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCA3SK,EA4SL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAmC;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sFAAnC,CA5SK,EA6SL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qFA7SK,EA8SL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCA9SK,EAiTL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,k1CAAL,CAjTK,EA4WL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAgC;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAhC,MA5WK,EA6WL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDADF,CA7WK,EAgXL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAhXK,EAmXL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iRAAL,CAnXK,EA+XL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EA/XK,EAgYL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAsB;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAtB,wGAhYK,EAiYL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAH,kBAAwE;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAxE,0CAA4K;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA5K,gDAjYK,EAkYL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+qBAAL,CAlYK,EAkaL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAlaK,EAqaL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2IAraK,EAsaL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAtaK,EAuaL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAI,IAAA,UAAU,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAH,0GAvaK,EAwaL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ilBAAL,CAxaK,EA+bL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAAqD;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAArD,WAA8G;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA9G,MA/bK,EAgcL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yFAhcK,EAicL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4bAAL,CAjcK,EAkdL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAldK,EAmdL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gcAAL,CAndK,EAgfL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAQ,IAAA,UAAU,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAH,CAhfK,EAifL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6aAAL,CAjfK,EAqgBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAQ,IAAA,UAAU,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAH,CArgBK,EAsgBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uEADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAFF,CAtgBK,EA0gBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CA1gBK,EA6gBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7gBK,EA8gBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoB;AAAG,IAAA,UAAU,EAAC;AAAd,KAAuB;AACvC,YAAQ;AAD+B,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAApB,CADF,EAIE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoB;AAAG,IAAA,UAAU,EAAC;AAAd,KAAuB;AACvC,YAAQ;AAD+B,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAApB,CAJF,EAOE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoB;AAAG,IAAA,UAAU,EAAC;AAAd,KAAuB;AACvC,YAAQ;AAD+B,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAApB,CAPF,CA9gBK,EAyhBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAzhBK,EA4hBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAAsG;AAAY,IAAA,UAAU,EAAC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAtG,CADF,EAEE;AAAI,IAAA,UAAU,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sGAFF,CA5hBK,EAgiBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mvBAAL,CAhiBK,EAmkBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAQ,IAAA,UAAU,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAAH,CAnkBK,EAokBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ivDAAL,CApkBK,EAmoBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mHAnoBK,EAooBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gGApoBK,EAqoBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,onBAAL,CAroBK,EAypBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAW;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAX,oDAA6H;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA7H,MAzpBK,EA0pBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kJA1pBK,EA2pBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3pBK,EA4pBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDA5pBK,EA+pBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4FA/pBK,EAgqBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAhqBK,EAmqBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iwBAAL,CAnqBK,EA8rBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BA9rBK,EAisBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gxBAAL,CAjsBK,EA0tBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCA1tBK,EA6tBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6nDAAL,CA7tBK,EAkyBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAlyBK,EAqyBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mWAAL,CAryBK,EAizBL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAjzBK,EAozBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAA+C;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA/C,oBApzBK,EAqzBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCArzBK,EAszBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2GAtzBK,EAuzBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mjBAAL,CAvzBK,EAk1BL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAl1BK,EAq1BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qrCAAL,CAr1BK,EAm4BL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAn4BK,EAs4BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDAt4BK,EAu4BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAM,IAAA,UAAU,EAAC;AAAjB,KAA2B;AAC5B,iBAAa;AADe,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sgCAAL,CAv4BK,EA86BL,wBAAQ;AACN,UAAM;AADA,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CA96BK,EAi7BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sIAj7BK,EAk7BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAAH,0CAl7BK,EAm7BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAG;AAAY,IAAA,UAAU,EAAC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAH,8GAn7BK,CAAP;AAq7BD;;;;;;;;;;;;;AAEDD,UAAU,CAACE,cAAX,GAA4B,IAA5B;;;;;;;;;;0BAp8BMV,a;0BAKAM,W;0BAGAC,S;0BACkBC,U","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"rxjs\"\n    }}>{`RxJS`}</h1>\n    {\n      /* TOC -->autoauto- [RxJS](#rxjs)auto    - [1.0 A Brief Recap of Programming Paradigms](#10-a-brief-recap-of-programming-paradigms)auto        - [Procedural Program](#procedural-program)auto        - [Object Oriented](#object-oriented)auto        - [Declarative](#declarative)auto    - [1.1: Core Reactive Concepts](#11-core-reactive-concepts)auto    - [1.2: Comparing the Autocomplete function using JS vs RxJS](#12-comparing-the-autocomplete-function-using-js-vs-rxjs)auto    - [3: The Core of Reactive Extensions](#3-the-core-of-reactive-extensions)auto    - [3.1: Obervables, Operators and Subscriptions](#31-obervables-operators-and-subscriptions)auto    - [3.2 Creating Observables](#32-creating-observables)auto    - [3.3: Built in Observables](#33-built-in-observables)auto    - [3.4: Using RxJS with Node, jQuery and Promises](#34-using-rxjs-with-node-jquery-and-promises)auto    - [3.5: Subjects](#35-subjects)auto    - [3.6: RxJS Resources and Documentation](#36-rxjs-resources-and-documentation)auto    - [3.7: Sharing Observable Sequences](#37-sharing-observable-sequences)auto    - [4.0: Operators that everyone should know](#40-operators-that-everyone-should-know)auto    - [4.1: Do / Finally / StartWith / Filter](#41-do--finally--startwith--filter)auto    - [4.2: Merge / Concat](#42-merge--concat)auto    - [4.3: Map / MergeMap / SwitchMap](#43-map--mergemap--switchmap)auto    - [4.4: Reduce / Scan](#44-reduce--scan)auto    - [4.5: Buffer / ToArray](#45-buffer--toarray)auto    - [4.6: First / Last / Single / Skip / Take](#46-first--last--single--skip--take)auto    - [4.7: Zip / WithLatestFrom / CombineLatest](#47-zip--withlatestfrom--combinelatest)auto    - [4.8: Error Handling Catch and Retry](#48-error-handling-catch-and-retry)autoauto<!-- /TOC */\n    }\n    <h2 {...{\n      \"id\": \"10-a-brief-recap-of-programming-paradigms\"\n    }}>{`1.0 A Brief Recap of Programming Paradigms`}</h2>\n    <h3 {...{\n      \"id\": \"procedural-program\"\n    }}>{`Procedural Program`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`The ideas that programs are a sense of functions`}</li>\n      <li parentName=\"ul\">{`Goes from top to bottom`}</li>\n      <li parentName=\"ul\">{`Relies heavily on global state, but any line can change the global state`}</li>\n      <li parentName=\"ul\">{`C being a procedural language`}</li>\n      <li parentName=\"ul\">{`\"Imperative\" execution`}</li>\n      <li parentName=\"ul\">{`Easy to write, difficult to maintain`}</li>\n      <li parentName=\"ul\">{`Prone to difficult bugs`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"object-oriented\"\n    }}>{`Object Oriented`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Based around a Primitive: object`}</li>\n      <li parentName=\"ul\">{`Objects have well defined interfaces`}</li>\n      <li parentName=\"ul\">{`Localised behaviour`}</li>\n      <li parentName=\"ul\">{`Objects control state`}</li>\n      <li parentName=\"ul\">{`Composition`}</li>\n      <li parentName=\"ul\">{`Code is still imperative - pro AND con! - Still telling the computer EXACTLY what to do.`}</li>\n      <li parentName=\"ul\">{`Can be more verbose`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"declarative\"\n    }}>{`Declarative`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Describing what you want to happen, but not telling the computer how to do it`}</li>\n      <li parentName=\"ul\">{`Eg. SQL, Regex, HTML`}</li>\n      <li parentName=\"ul\">{`Data is self-describing`}</li>\n      <li parentName=\"ul\">{`As powerful as the interpreter allows`}</li>\n      <li parentName=\"ul\">{`As limiting as the interpreter allows - You want build a game in SQL etc.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"functional\"\n    }}>{`Functional`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`What we want to happen but not how`}</li>\n      <li parentName=\"ul\">{`Little state`}</li>\n      <li parentName=\"ul\">{`Few side effects`}</li>\n      <li parentName=\"ul\">{`Easy to reason about`}</li>\n      <li parentName=\"ul\">{`Composition`}</li>\n      <li parentName=\"ul\">{`Expressive`}</li>\n      <li parentName=\"ul\">{`Works great with OO`}</li>\n      <li parentName=\"ul\">{`Basis in higher math`}</li>\n      <li parentName=\"ul\">{`Cons to think differently`}</li>\n      <li parentName=\"ul\">{`Not always the best choice`}</li>\n      <li parentName=\"ul\">{`No loops, no control logic - Just telling it what we want to happen`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"reactive\"\n    }}>{`Reactive`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Primitive: Observable`}</li>\n      <li parentName=\"ul\">{`Instead of describing data in terms of other data, we describe it in terms of streams of events - From this, we create a pipeline such that we certain data changes, a lot is processed and changed - Example: spreadsheets!`}</li>\n      <li parentName=\"ul\">{`Composition`}</li>\n      <li parentName=\"ul\">{`Expressive`}</li>\n      <li parentName=\"ul\">{`Data flows unidirectionally`}</li>\n      <li parentName=\"ul\">{`Tough to think differently`}</li>\n      <li parentName=\"ul\">{`Subscriptions help change the data`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const cellC2$ = cellA2$\n  .combineLatest(cellB2$)\n  .map((cells) => cells[0] + cells[1]);\n\ncellC2$.subscribe((value) => {\n  console.log(value);\n});\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"11-core-reactive-concepts\"\n    }}>{`1.1: Core Reactive Concepts`}</h2>\n    <p><strong parentName=\"p\">{`Core Concept 1: Pull model vs Push model`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`any data sitting there that you \"ask\" for at some point - example refresh button - manual button trigger - time interval`}</li>\n      <li parentName=\"ul\">{`observable (stream) which is a reactive data source - produces items over a period of time that will either error, complete, or never complete until a page closes - not telling the stream when to get data, it has inbuilt logic on how to get data - we may transform this data - the display of the data is actually part of the description`}</li>\n    </ul>\n    <p>{`An an example for a `}<inlineCode parentName=\"p\">{`pull`}</inlineCode>{` based code, we can think of a window.setInterval() that fires every 5000 seconds.`}</p>\n    <p>{`An example of a push would be to have a function fire and then the return continutes to filter, flatMap, map and subscribe.`}</p>\n    <p><strong parentName=\"p\">{`Core Concept 2: Everything is a database`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`mouse movements`}</li>\n      <li parentName=\"ul\">{`current user`}</li>\n      <li parentName=\"ul\">{`web requests`}</li>\n      <li parentName=\"ul\">{`input boxes`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"12-comparing-the-autocomplete-function-using-js-vs-rxjs\"\n    }}>{`1.2: Comparing the Autocomplete function using JS vs RxJS`}</h2>\n    <p>{`In the comparison where the `}<inlineCode parentName=\"p\">{`$title.on('keyup', () => {})`}</inlineCode>{` runs with a promise returned. The query can run into race conditions.`}</p>\n    <p>{`Also note that every single result also fires.`}</p>\n    <p>{`The issues:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// Fix up and down arrow\n// Stop always querying\n// Getting race condition\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Bad ways`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`generally `}<inlineCode parentName=\"li\">{`if last query == currentTitle return`}</inlineCode></li>\n      <li parentName=\"ul\">{`using setTimeout to reduce number of queries`}</li>\n      <li parentName=\"ul\">{`Race condition still happening, but bad attempts may be increasing the timeout - Could also use a current id compared to next query id and then returning before the callback occurs`}</li>\n      <li parentName=\"ul\">{`A lot of state across the module being changed`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`The Rx way`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// npm install rxjs-es for es6\nimport $ from 'jquery';\nimport Rx from 'rxjs/Rx';\n\nconst $title = $('#title');\nconst $results = $('#results');\n\nconst keyUps$ = Rx.Observable.fromEvent($title, \"keyup\");\nconst queries$ = keyUps$\n    .map(e => e.target.value)\n    .distinctUntilChanged()\n    .debounceTime(250)\n    .switchMap(getItems);   // similar to merge, but if new query comes in, discard the old data\n    //.mergeMap(getItems);  // alias for flatMap\n\nqueries$.subscribe(query => {\n    // get rid of the promise will stop race condition\n    $results.empty();\n    $results.append(items.map( r => $(\\`<li />\\`).text(r)));\n})\n\n<!-- queries$.subscribe(query => {\n    console.log(e); // prints out event\n    getItems(query)\n        .then(items => {\n            $results.empty();\n            $results.append(items.map( r => $(\\`<li />\\`).text(r)));\n        });\n}) -->\n`}</code></pre>\n    <p>{`An even better way.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import $ from 'jquery';\nimport Rx from 'rxjs/Rx';\n\nconst $title = $('#title');\nconst $results = $('#results');\n\nRx.Observable.fromEvent($title, 'keyup')\n  .map((e) => e.target.value)\n  .distinctUntilChanged()\n  .debounceTime(500)\n  .switchMap(getItems)\n  .subscribe((items) => {\n    $results.empty();\n    $results.append(items.map((r) => $(\\`<li />\\`).text(r)));\n  });\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`All the Rx has no external state, whereas the other code does.`}</li>\n      <li parentName=\"ul\">{`Rx doesn't have to wait for us to tell it when to do it.`}</li>\n    </ul>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"3-the-core-of-reactive-extensions\"\n    }}>{`3: The Core of Reactive Extensions`}</h2>\n    <h2 {...{\n      \"id\": \"31-obervables-operators-and-subscriptions\"\n    }}>{`3.1: Obervables, Operators and Subscriptions`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Observable: Something that can be observed which produces values`}</li>\n      <li parentName=\"ul\">{`Operator: It's an operation that modifies the data being pushed in from the observable - They don't produce values in and of themselves, but move them through the pipeline.`}</li>\n      <li parentName=\"ul\">{`Subscriptions: Piece of code that will do something with the values returned by the operators`}</li>\n    </ul>\n    <p>{`Note, you can model anything in a reactive context by thinking a little bit differently.`}</p>\n    <p><strong parentName=\"p\">{`Web API Request Example`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`Reactive can still complete, or it can error out and retry.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"32-creating-observables\"\n    }}>{`3.2 Creating Observables`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import Rx from 'rxjs/Rx';\n\n# promise will always execute - not lazy\nconst promise = new Promise((resolve, reject) => {\n    console.log(\"In promise\");\n    resolve(\"hey\");\n});\n\npromise.then(item => console.log(item));\n\n# this doesn't give any output!\n# observables are lazy!\n# won't run without a subscription\nconst simple$ = new Rx.Observable(observer => {\n    console.log(\"Generating observable\");\n    setTimeout(() => {\n        observer.next(\"An items!\");\n        setTimeout(() => {\n            observer.next(\"Another item!\");\n            observer.complete();\n        }, 1000);\n    }, 1000);\n});\n\n# creating a subscription\n# first arg is the next function\n# second arg is error\n# third arg is complete\nsimple$.subscribe(\n    item => console.log(\\`one.next \\${item}\\`),\n    error => console.log(\\`one.error \\${item}\\`),\n    () => console.log(\"one.complete\")\n);\n\n# Generating observable\n# one.next An item!\n# one.next Another item!\n# one.complete\n\nsetTimeout(() => {\n    simple$.subscribe({\n        next: item => console.log(\\`two.next \\${item}\\`),\n        error: error => console.log(\\`two.error \\${item}\\`),\n        complete: () => console.log(\"two.complete\")\n    });\n}, 3000)\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Re-subscribing to an observable allows you to run that generator again`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`function createInterval(time) {\n    return new Rx.Observable(observer => {\n        let index = 0;\n        let interval = setInterval(() => {\n            observer.next(index++);\n        }, time);\n\n        return () => {\n            // will run when we unsubscribe\n            clearnInterval(interval);\n        };\n    });\n}\n\nfunction createSubscriber(tag) {\n    return {\n        next(item) { console.log(\\`\\${tag}.next \\${item}\\`); },\n        error(error) { console.log(\\`\\${tag}.error \\${error.stack || error }\\`); },\n        complete() { console.log(\\`\\${tag}.complete\\`); }\n    };\n}\n\nfunction take(observable, amount) {\n    return new Rx.Observable(observer => {\n\n    });\n}\n\n// this is the core of subscriptions\nfunction take(sourceObservable, amount) {\n    return new Rx.Observable(observer => {\n        let count = 0;\n        const subscription = sourceObservable.subscribe({\n            next(item) {\n                observer.next(item);\n                if (++count >= amount) {\n                    observer.complete();\n                }\n            },\n            error(error) { observer.error(error); },\n            complete() { observer.complete(); }\n        });\n\n        return () => subscription.unsubscribe();\n    });\n}\n\nconst everySecond_ = createInterval(1000);\nconst firstFiveSeconds = take(everySecond_, 5);\nconst subscription = everySecond_.subscribe(createSubscriber(\"one\"));\nsetTimeout(() => {\n    subscription.unsubscribe();\n}, 3500);\n`}</code></pre>\n    <p>{`This subscription will console.log out forever and ever and ever... - unless, we dispose of a description`}</p>\n    <p>{`How do operators come into play?`}</p>\n    <p>{`We could run something like `}<inlineCode parentName=\"p\">{`const subscription = everySecond_.take(3)subscribe(createSubscriber(\"one\"));`}</inlineCode></p>\n    <p>{`The steps for it are that it listens for a source and emits a transformation!`}</p>\n    <h2 {...{\n      \"id\": \"33-built-in-observables\"\n    }}>{`3.3: Built in Observables`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import Rx from 'rxjs/Rx';\n\n\nRx.Observable.interval(500)\n    .take(5)\n    .subscribe(createSubscriber(\"interval\"));\n\nRx.Observable.timer(1000, 500)\n    .take(3)\n    .subscribe(createSubscriber(\"timer\");\n\n// note, array doesn't work - use from\nRx.Observable.of(\"Hello world!\", 42, \"whoa\")\n    .subscribe(createSubscriber(\"of\"));\n\nRx.Observable.from([\"Hello world!\", 42, \"whoa\"])\n    .subscribe(createSubscriber(\"of\"));\n\nRx.Observable.from(generate())\n    .subscribe(createSubscriber(\"of\"));\n\n\nRx.Observable.from(\"hello world!\")\n    .subscribe(createSubscriber(\"of\"));\n\n// it can also take in a generator function!\n\nfunction* generate() {\n    yield 1;\n    yield 5;\n    yield \"HEY\";\n}\n\nRx.Observable.throw(new Error(\"Hey\"))\n    .subscribe(createSubscriber(\"error\"));\n\n// empty\nRx.Observable.empty()\n    .subscribe(createSubscriber(\"empty\"));\n\n// defer\nlet sideEffect = 0;\nconst defer = Rx.Observable.defer(() => {\n    sideEffect++;\n    return Rx.Obserable.of(sideEffect);\n});\n\ndefer.subscribe(createSubscriber(\"defer.one\"));\ndefer.subscribe(createSubscriber(\"defer.two\"));\ndefer.subscribe(createSubscriber(\"defer.three\"));\n\nRx.Observable.never()\n    .subscribe(createSubscriber(\"never\"));\n\nRx.Observable.range(10, 30)\n    .subscribe(createSubscriber(\"range\"));\n`}</code></pre>\n    <p>{`Benefits of the iterable `}<inlineCode parentName=\"p\">{`from`}</inlineCode>{`?`}</p>\n    <ul>\n      <li parentName=\"ul\">{`For every iterable, we could map every element.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"34-using-rxjs-with-node-jquery-and-promises\"\n    }}>{`3.4: Using RxJS with Node, jQuery and Promises`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`Rx.Observable.fromEvent($title, 'keyup')\n  .map((e) => e.target.value)\n  .distinctUntilChanged()\n  .debounceTime(500)\n  .switchMap(getItems)\n  .subscribe((items) => {\n    $results.empty();\n    $results.append(items.map((i) => $('<li />').text(i)));\n  });\n`}</code></pre>\n    <p>{`NOTE: Without the subscribe, it will never be subscribed to the dom!`}</p>\n    <p>{`If we have the `}<inlineCode parentName=\"p\">{`.take(10)`}</inlineCode>{` - it would complete after taking 10 and then furthermore unsubscribe and be great for performance!`}</p>\n    <p><inlineCode parentName=\"p\">{`fromEvent`}</inlineCode>{` calls from `}<inlineCode parentName=\"p\">{`addEventListener`}</inlineCode>{`, so it can do powerful things like `}<inlineCode parentName=\"p\">{`keyup`}</inlineCode>{` for those that don't initially support it.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import fs from 'fs';\n\nfs.readdir('./src/server', (err, items) => {\n  if (err) console.log(err);\n  else {\n    console.log(items);\n  }\n});\n\n// alternative\nconst readdir = Rx.Observable.bindNodeCallBack(fs.readdir);\n\nreaddir('./src/server')\n  // mergeMap creates iterable converted from array\n  .mergeMap((files) => Rx.Observable.from(files))\n  .map((file) => \\`MANIPULATED \\${file}\\`)\n  .subscribe(createSubscriber('readdir'));\n\n// promises\n\nfunction getItem() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve('Hello');\n    }, 1000);\n  });\n}\n\nRx.Observable.fromPromise(getItem()).subscribe(createSubscriber('promise'));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"35-subjects\"\n    }}>{`3.5: Subjects`}</h2>\n    <p>{`Subjects are another Rx primitive. They are both an observable and a observer! Used to bridge non-reactive code with reactive code.`}</p>\n    <p>{`Behaviour, replay subjects etc.`}</p>\n    <p><em parentName=\"p\">{`Warning`}</em>{`: you should only really consider them as a last resort when bridging non-reactive and reactive code.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const simple = new Rx.Subject();\n\nsimple.subscribe(createSubscriber('simple'));\n\nsimple.next('Hello');\nsimple.next('World');\nsimple.complete();\n\nconst interval = Rx.Observable.interval(1000).take(5);\nconst intervalSubject = new Rx.Subject();\nintervalSubject.subscribe(interval);\n\nintervalSubject.subscribe(createSubscriber('sub1'));\nintervalSubject.subscribe(createSubscriber('sub2'));\nintervalSubject.subscribe(createSubscriber('sub3'));\n\n// subscribes after three seconds\nsetTimeout(() => {\n  intervalSubject.subscribe(createSubscriber('LOOK AT ME'));\n}, 3000);\n`}</code></pre>\n    <p>{`Before, we had to invoke a function that call `}<inlineCode parentName=\"p\">{`next`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`complete`}</inlineCode>{`.`}</p>\n    <p>{`In the above example, intervalSubject is acting as a proxy to another observable.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// needs init state parameter\nconst currentUser = new Rx.BehaviorSubject({ isLoggedIn: false });\nconst isLoggedIn = currentUser.map((u) => u.isLoggedIn);\n\ncurrentUser.next({ isLoggedIn: false });\nisLoggedIn.subscribe(createSubscriber('isLoggedIn'));\n\nsetTimeout(() => {\n  currentUser.next({ isLoggedIn: true, name: 'nelson' });\n}, 3000);\n\nsetTimeout(() => {\n  isLogged.subscribe(createSubscription('delayed'));\n}, 1500);\n`}</code></pre>\n    <p>{`How do you remember multiple states?`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const replay = new Rx.ReplaySubject(3);\nreplay.next(1);\nreplay.next(2);\n\nreplay.subscribe(createSubscriber(\"one\"));\n\nreplay.next(3);\nreplay.next(4);\nreplay.next(5);\n\n// this subscription only gets the previous three items\nreplay.subscribe(createSubscriber(\"two\"));\n\nreplay.next(6);\n\n// what you see\none.next 1\none.next 2\none.next 3\none.next 4\none.next 5\ntwo.next 3\ntwo.next 4\ntwo.next 5\none.next 6\ntwo.next 6\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Async Subjects`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`const apiCall = new Rx.AsyncSubject();\napiCall.next(1);\n\napiCall.subscribe(createSubscriber(\"one\"));\napiCall.next(2);\n\n// only will emit the final item before it is complete\napiCall.complete();\n\n// if you subscribe to it again, that final value will be emitted\nsetTimeout(() => {\n    apiCall.subscribe(createSubscriber(\"two\"));\n}, 2000);\n\n// output\none.next 2\none.complete\ntwo.next 2\ntwo.complete\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Subject Summary`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`if you can get around it, don't use subjects unless you have to`}</li>\n      <li parentName=\"ul\">{`you should use an observable workflow where possible`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"36-rxjs-resources-and-documentation\"\n    }}>{`3.6: RxJS Resources and Documentation`}</h2>\n    <p>{`Sources:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ReactiveX/rxjs\"\n        }}>{`RxJS Github`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"http://rxmarbles.com/\"\n        }}>{`RxMarbles`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"http://jaredforsyth.com/rxvision/examples/playground/\"\n        }}>{`RxVision Playground`}</a></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"37-sharing-observable-sequences\"\n    }}>{`3.7: Sharing Observable Sequences`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Hot Observable: It will produce events regardless of if you're listening - eg.`}<inlineCode parentName=\"li\">{`fromEvent($title, 'keyup')`}</inlineCode></li>\n      <li parentName=\"ul\">{`Cold Obserable: Starts once you subscribe - Interval Observables are actually cold observables`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// this example shows when both start from the beginning eg cold\nimport Rx from 'rxjs/Rx';\n\nconst interval = Rx.Observable.interval(1000).take(10);\n\nsetTimeout(() => {\n  interval.subscribe(createSubscriber('one'));\n}, 1200);\n\nsetTimeout(() => {\n  interval.subscribe(createSubscriber('two'));\n}, 3200);\n\n// HOT\n// connectable observable\nimport Rx from 'rxjs/Rx';\n\nconst interval = Rx.Observable.interval(1000)\n  .take(10)\n  .publish();\n\ninterval.connect();\n\nsetTimeout(() => {\n  interval.subscribe(createSubscriber('one'));\n}, 1200);\n\nsetTimeout(() => {\n  interval.subscribe(createSubscriber('two'));\n}, 3200);\n\n// if you connect after a set interval, then it begins executing and sharing the underlying observable\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Why would you want a hot variable?`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// here subscribe console.log runs twice\nconst socket = { on: () => {} };\nconst chatMessage = new Rx.Observable((observable) => {\n  console.log('subscribed');\n  socket.on('chat:message', (message) => observer.next(message));\n});\n\nchatMessage.subscribe(createSubscriber('one'));\nchatMessage.subscribe(createSubscriber('two'));\n\n// without it\n\nconst socket = { on: () => {} };\nconst chatMessage = new Rx.Observable((observable) => {\n  console.log('subscribed');\n  socket.on('chat:message', (message) => observer.next(message));\n}).publish();\n\nchatMessage.connect();\n\nchatMessage.subscribe(createSubscriber('one'));\nchatMessage.subscribe(createSubscriber('two'));\n\n// using publishLast()\nconst simple = new Rx.Observable((observer) => {\n  observer.next('one');\n  observer.next('two');\n  observer.complete();\n});\n\n// always returns the last value\nconst published = simple.publishLast();\n\n// even if we subscribe before connect, both will get the last value\npublished.subscribe(createSubscriber('one'));\npublished.connect();\npublished.subscribe(creaSubscriber('two'));\n\n// using publishReplay()\nconst simple = new Rx.Observable((observer) => {\n  observer.next('one');\n  observer.next('two');\n  observer.next('three');\n\n  return () => console.log('Disposed');\n});\n\n// always returns the last value\nconst published = simple.publishReplay(2);\n\n// even if we subscribe before connect, both will get the last value\n// to dispose without running complete, we need to disconnect by unsubscribing\nconst sub1 = published.subscribe(createSubscriber('one'));\nconst connection = published.connect();\nconst sub2 = published.subscribe(creaSubscriber('two'));\n\nsub1.unsubscribe();\nsub2.unsubscribe();\n\nconnection.unsubscribe();\n`}</code></pre>\n    <p>{`Refcount is a way to automatically handle the connection and the unsubscription of a connection observable.`}</p>\n    <p>{`It will connect to the first subscription and then disconnected on the last unsubscribe.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// using refCount()\nconst simple = new Rx.Observable(observer => {\n    observer.next(\"one\");\n    observer.next(\"two\");\n    observer.next(\"three\");\n\n    return () => console.log(\"Disposed\");\n});\n\n// always returns the last value\nconst published = simple.publishReplay(2).refCount();\n\n// even if we subscribe before connect, both will get the last value\n// to dispose without running complete, we need to disconnect by unsubscribing\nconst sub1 = published.subscribe(createSubscriber(\"one\"));\nconst sub2 = published.subscribe(creaSubscriber(\"two\"));\n\nsub1.unsubscribe();\nsub2.unsubscribe();\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`publish().refCount()`}</inlineCode>{` is done so often, that is has been turned in `}<inlineCode parentName=\"p\">{`share()`}</inlineCode>{`.`}</p>\n    <p>{`Taxing processes that you don't want to repeat but you want multiple things to hook into the result, then turn it into a hot subscription.`}</p>\n    <hr></hr>\n    <h2 {...{\n      \"id\": \"40-operators-that-everyone-should-know\"\n    }}>{`4.0: Operators that everyone should know`}</h2>\n    <p>{`Now we will just talk about the different primary operators that you will work with.`}</p>\n    <h2 {...{\n      \"id\": \"41-do--finally--startwith--filter\"\n    }}>{`4.1: Do / Finally / StartWith / Filter`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// do => get the next value and pass it back unchanged\n// finally => only completes after the range has completed, runs right at the end of the final value\n// filter => filters out given statement\n// interval => call timeout\n// startWith => set initial value\n\nRx.Observable.range(1, 10)\n  .do((a) => console.log(\\`From do \\${a}\\`))\n  .map((a) => a * a)\n  .subscribe(createSubscriber('simple'));\n\nRx.Observable.range(1, 10)\n  .finally(() => console.log(\\`From finally\\`))\n  .map((a) => a * 2)\n  .subscribe(createSubscriber('finally'));\n\nRx.Observable.range(1, 10)\n  .filter((a) => a < 5)\n  .map((a) => a * 2)\n  .subscribe(createSubscriber('filter'));\n\nRx.Observable.interval(1000)\n  .startWith(-1)\n  .subscribe(createSubscriber('interval'));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"42-merge--concat\"\n    }}>{`4.2: Merge / Concat`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// merge - merge many observables togethers\n// concat - this concatenates observables to the end of another, can also take a list of Observables\n\nRx.Observable.interval(1000)\n    .merge(Rx.Observable.interval(500))\n    .take(5)\n    .subscribe(createSubscriber(\"merge1\"));\n\nRx.Observable.merge(\n    Rx.Observable.interval(1000).map(i => \\`\\${i} seconds),\n    Rx.Observable.interval(500).map(i => \\`\\${i} half seconds))\n    .take(5)\n    .subscribe(createSubscriber('merge2'));\n\n// different events for merged observables\nRx.Observable.merge(\n    socket.on$(\"login\").map(user => processUser(user),\n    socket.on$(\"logout\").map(() => null));\n\nRx.Observable.range(1, 5)\n    .concat(Rx.Observable.range(10,3))\n    .subscribe(createSubscriber(\"concat1\"));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"43-map--mergemap--switchmap\"\n    }}>{`4.3: Map / MergeMap / SwitchMap`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// map - a projection on every item that comes in\n// mergeMap - select many, does projection and then has another thing that we will work on\n// switchMap - similar to mergeMap but replaces with the latest value if another emission comes in\n\nfunction arrayMap(arr, proj) {\n  let returnArray = [];\n  for (let i of arr) {\n    returnArray.push(proj(item));\n  }\n\n  return returnArray;\n}\n\narrayMap([1, 2, 3], (a) => a * a);\n\n// imagine array of dicts\nconst albums = [{}, {}];\n\nfunction arrayMergeMap(arr, proj) {\n  let returnArray = [];\n  for (let i of arr) {\n    let projArray = proj(item);\n    for (let j of projArray) {\n      returnArray.push(proj(item));\n    }\n  }\n\n  return returnArray;\n}\n\nconst tracks = arrayMergeMap(albums, (album) => album.tracks);\n\nRx.Observable.range(1, 3)\n  .mergeMap((i) =>\n    Rx.Observable.timer(i * 1000).map(() => \\`After \\${i} seconds\\`)\n  )\n  .subscribe(createSubscriber('mergeMap'));\n\nRx.Observable.fromPromise(getTracks())\n  .mergeMap((tracks) => Rx.Observable.from(tracks))\n  .subscribe(createSubscriber('tracks'));\n\nfunction getTracks() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(['track 1', 'track 2', 'track 3']);\n    }, 1000);\n  });\n}\n\n// synchronous example\nRx.Observable.of('my query')\n  .do(() => console.log('Querying'))\n  .mergeMap((a) => query(a))\n  .do(() => console.log('After querying'))\n  .subscribe(createSubscriber('query'));\n\nfunction query(value) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve('This is the resolved value');\n    }, 1000);\n  });\n}\n\n// switch map\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"44-reduce--scan\"\n    }}>{`4.4: Reduce / Scan`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// reducer (acc, value) and works on value - doesn't emit until the completion\n// scan - processes and emits as it comes in\nRx.Observable.range(1, 10)\n  .reduce((acc, value) => acc + value)\n  .subscribe(createSubscriber('reduce'));\n\nRx.Observable.range(1, 10)\n  .scan((acc, value) => acc + value)\n  .subscribe(createSubscriber('scan'));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"45-buffer--toarray\"\n    }}>{`4.5: Buffer / ToArray`}</h2>\n    <p>{`There have been some big changes to how `}<inlineCode parentName=\"p\">{`buffer`}</inlineCode>{` has been used.`}</p>\n    <p>{`Buffer takes in an observable.`}</p>\n    <p>{`toArray will convert results into an array. - still has a clean exit if the never() is implemented!`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`Rx.Observable.range(1, 100)\n    .bufferCount(25)\n    .subscribe(createSubscriber(\"items\");\n\n// will take 25 items and pushing them into an array\n\n\nRx.Observable.interval(500)\n    .bufferTime(2000)\n    .subscribe(createSubscriber(\"bufferTime\");\n\n// same behaviour!\n// emitting event causes buffer to flush\nRx.Observable.interval(500)\n    .buffer(Rx.Observable.interval(2000))\n    .subscribe(createSubscriber(\"buffer\");\n\n//\n// toArray\n//\n\nRx.Observable.range(1, 10)\n    .toArray()\n    .subscribe(createSubscriber(\"range\"));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"46-first--last--single--skip--take\"\n    }}>{`4.6: First / Last / Single / Skip / Take`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const simple = new Rx.Observable((observer) => {\n  console.log('Generating sequence');\n  observer.next(1);\n  observer.next(2);\n  observer.next(3);\n  observer.next(4);\n  observer.complete();\n});\n\nsimple.first().subscribe(createSubscriber('first'));\n\nsimple.last().subscribe(createSubscriber('last'));\n\n// displays 1 & 4\n// if nothing is in there, there are EmptyError(s) thrown\n\n// single.error thrown is more than one error thrown\nsimple.single().subscribe(createSubscriber('single'));\n\n// take and skip won't throw errors\n// take does the first however emissions\n// skip will take the emissions after a number\nsimple.take(2).subscribe(createSubscriber('take'));\n\nsimple.skip(2).subscribe(createSubscriber('skip'));\n\n// 3, 4\nsimple\n  .skip(2)\n  .take(2)\n  .subscribe(createSubscriber('skip'));\n\n// skipWhile / takeWhile\nRx.Observable.interval(500)\n  .skipWhile((i) => i < 4)\n  .takeWhile((i) => i < 10)\n  .subscribe(createSubscriber('skipWhile/takeWhile'));\n\n// what's until and take emissions until\nRx.Observable.interval(500)\n  .skipUntil(Rx.Observable.timer(1000))\n  .takeUntil(Rx.Observable.timer(4000))\n  .subscribe(createSubscriber('skipUntil'));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"47-zip--withlatestfrom--combinelatest\"\n    }}>{`4.7: Zip / WithLatestFrom / CombineLatest`}</h2>\n    <p>{`How can we combine observables in different ways?`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`function arrayZip(arr1, arr2, selectorFunc) {\n  const count = Math.min(arr1.length, arr2.length);\n  const results = [];\n\n  for (let i = 0; i < count; i++) {\n    const combined = selector(arr1[i], arr2[i]);\n    results.push(combined);\n  }\n\n  return results;\n}\n\nconst arr1 = [32, 2, 52, 43, 54];\nconst arr2 = [1, 0, 10, 4, 1, 4, 6, 2];\nconst results = arrayZip(arr1, arr2, (left, right) => left * right);\n\nconsole.log(results);\n\n// in RxJS\nRx.Observable.range(1.1)\n  .zip(\n    Rx.Observable.interval(500),\n    (left, right) => \\`item: \\${left}, at \\${right * 500}\\`\n  )\n  .subscribe(createSubscriber('zip'));\n\n// emits value when source emits\n// can also pass (left, right) function like zip as second parameter\nRx.Observable.interval(1000)\n  .withLatestFrom(Rx.Observable.interval(500))\n  .subscribe(createSubscriber('withLatestFrom'));\n\n// emit value if either do\nRx.Observable.interval(1000)\n  .combineLatest(Rx.Observable.interval(500))\n  .subscribe(createSubscriber('withLatestFrom'));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"48-error-handling-catch-and-retry\"\n    }}>{`4.8: Error Handling Catch and Retry`}</h2>\n    <p>{`If an error happens, an observer stops emitting and can prevent values from emitting at all. Error handling is very important!`}</p>\n    <p><inlineCode parentName=\"p\">{`.catch(error => Rx.Observable.of(error))`}</inlineCode>{` can pass this down as an Observable.`}</p>\n    <p><inlineCode parentName=\"p\">{`.retry()`}</inlineCode>{` we can pass in with a numeral to ensure that we either keep retrying or retry a certain number of times.`}</p>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "]}]}
{"remainingRequest":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js??ref--6-2!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js!/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Braintree/Sandbox.md","dependencies":[{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Braintree/Sandbox.md","mtime":1562563032016},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/cache-loader/dist/cjs.js","mtime":1581496618588},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1578565694890},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js","mtime":1581496618277},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js","mtime":1580255490569}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMvZGVubmlzLm9rZWVmZmUvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbWFudWFsL0JyYWludHJlZS9TYW5kYm94Lm1kIjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZW50ZXJNb2R1bGU7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8qIEBqc3ggbWR4ICovCmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IG1keCB9IGZyb20gJ0BtZHgtanMvcmVhY3QnOwovKiBAanN4IG1keCAqLwoKdmFyIG1ha2VTaG9ydGNvZGUgPSBmdW5jdGlvbiBtYWtlU2hvcnRjb2RlKG5hbWUpIHsKICByZXR1cm4gZnVuY3Rpb24gTURYRGVmYXVsdFNob3J0Y29kZShwcm9wcykgewogICAgY29uc29sZS53YXJuKCJDb21wb25lbnQgIiArIG5hbWUgKyAiIHdhcyBub3QgaW1wb3J0ZWQsIGV4cG9ydGVkLCBvciBwcm92aWRlZCBieSBNRFhQcm92aWRlciBhcyBnbG9iYWwgc2NvcGUiKTsKICAgIHJldHVybiBtZHgoImRpdiIsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7CiAgICAgIF9fc291cmNlOiB7CiAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICBsaW5lTnVtYmVyOiA5CiAgICAgIH0sCiAgICAgIF9fc2VsZjogdGhpcwogICAgfSkpOwogIH07Cn07Cgp2YXIgbGF5b3V0UHJvcHMgPSB7fTsKdmFyIE1EWExheW91dCA9ICJ3cmFwcGVyIjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTURYQ29udGVudChfcmVmKSB7CiAgdmFyIGNvbXBvbmVudHMgPSBfcmVmLmNvbXBvbmVudHMsCiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsiY29tcG9uZW50cyJdKTsKCiAgcmV0dXJuIG1keChNRFhMYXlvdXQsIE9iamVjdC5hc3NpZ24oe30sIGxheW91dFByb3BzLCBwcm9wcywgewogICAgY29tcG9uZW50czogY29tcG9uZW50cywKICAgIG1keFR5cGU6ICJNRFhMYXlvdXQiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjAKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgbWR4KCJoMSIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogImdldHRpbmctc3RhcnRlZC13aXRoLXRoZS1icmFpbnRyZWUtc2FuZGJveCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyMQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiR2V0dGluZyBzdGFydGVkIHdpdGggdGhlIEJyYWludHJlZSBTYW5kYm94IiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlB1Ymxpc2hlZDogT2N0b2JlciA1dGggMjAxOCIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJCcmFpbnRyZWUgaXMgb25lIG9mIHRob3NlIG1ldGhvZHMgdG8gZ2V0IHN0YXJ0ZWQgd2l0aCBwYXltZW50cy4iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSSd2ZSBiZWVuIGxvb2tpbmcgZm9yIGFsdGVybmF0aXZlcyB0byBTdHJpcGUgbW9yZSBmb3IgY29tcGFyaXNvbnMgc2FrZSB0byBzZWUgd2hhdCB3b3VsZCBiZSBlYXNpZXN0IHRvIGltcGxlbWVudCBhbmQgbW9yZSByZWxldmFudCB0byB3aGF0IEkgYW0gdHJ5aW5nIHRvIGFjaGlldmUgZW4gbWFzc2UgZG93biB0aGUgcm9hZC4iKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhpcyBpcyBhIHNtYWxsIGhlbGxvIHdvcmxkIGludG8gZ2V0dGluZyB1cCBhbmQgcnVubmluZyB3aXRoIEJyYWludHJlZSB1c2luZyBFeHByZXNzIG9uIHRoZSBzZXJ2ZXJzaWRlIGFuZCBSZWFjdCBvbiB0aGUgZnJvbnRlbmQuIiksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJwcmVyZXF1aXNpdGVzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJQcmVyZXF1aXNpdGVzIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIklmIHlvdSBhcmUgZm9sbG93aW5nIGFsb25nLCB5b3Ugc2hvdWxkIHNpZ24gdXAgZm9yIGEgU2FuZGJveCBhY2NvdW50LiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJUaGlzIHR1dG9yaWFsIHdpbGwgdXNlIGNyZWF0ZS1yZWFjdC1hcHAgYW5kIGEgdXNlciBjb250cmlidXRlZCBucG0gbW9kdWxlIHRvIGFic3RyYWN0IHNvbWUgb2YgdGhlIHRpbWUgcmVxdWlyZWQgZm9yIHNldHVwLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJBbm90aGVyIHVzZWZ1bCBsaW5rIGNvbWVzIGZyb20gIiwgbWR4KCJhIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicCIKICB9LCB7CiAgICAiaHJlZiI6ICJodHRwczovL2RldmVsb3BlcnMuYnJhaW50cmVlcGF5bWVudHMuY29tL3N0YXJ0L3R1dG9yaWFsIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJ0aGVpciB3ZWJzaXRlIGZvciBOb2RlLmpzIGFuZCBKUyIpLCAiLiBBbHRob3VnaCBJIHdpbGwgYmUgZGV0ZXJyaW5nIGF3YXkgZnJvbSBpdCwgaXQgaXMgc3RpbGwgYSB1c2VmdWwgcmVmZXJlbmNlLiIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJXZSBhcmUgZ29pbmcgdG8gdHJlYXQgdGhpcyBwcm9qZWN0IGFzIGEgbW9ub3JlcG8gZm9yIG5vdywgc28gaW4gdGhlIHJvb3QgZGlyZWN0b3J5IHdlIG5lZWQgdG8gY3JlYXRlIGEgc3ViZGlyZWN0b3J5IGZvciB0aGUgZnJvbnRlbmQgYW5kIGEgZGlyZWN0b3J5IGZvciB0aGUgc2VydmVyLiIpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiYnVpbGRpbmctdGhlLWV4cHJlc3Mtc2VydmVyIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJCdWlsZGluZyB0aGUgRXhwcmVzcyBzZXJ2ZXIiKSwgbWR4KCJoMyIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogImluc3RhbGxhdGlvbiIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiSW5zdGFsbGF0aW9uIiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNDMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1iYXNoIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJta2RpciBzZXJ2ZXJcbmNkIHNlcnZlclxueWFybiBpbml0IC15XG55YXJuIGFkZCBleHByZXNzIGJvZHktcGFyc2VyIG1vcmdhbiBjb3JzIGRvdGVudiBicmFpbnRyZWVcbm1rZGlyIHJvdXRlc1xudG91Y2ggc2VydmVyLmpzIC5lbnYgLmdpdGlnbm9yZSByb3V0ZXMvaW5kZXguanNcbiIpKSwgbWR4KCJoMyIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogImdpdGlnbm9yZSIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiLmdpdGlnbm9yZSIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJGb3IgdGhlIHNha2Ugb2YgZG9pbmcgdGhpbmdzIHJpZ2h0LCBsZXQncyBqdXN0IHF1aWNrbHkgdXBkYXRlIG91ciBmaWxlIHRvIGlnbm9yZSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJub2RlX21vZHVsZXMiKSwgIiBhbmQgdGhlICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIi5lbnYiKSwgIiBmaWxlLiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDU2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJjb2RlIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicHJlIgogIH0sIHsKICAgICJjbGFzc05hbWUiOiAibGFuZ3VhZ2UtYmFzaCIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA1NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiLmVudlxubm9kZV9tb2R1bGVzL1xuIikpLCBtZHgoImgzIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiZW52IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDYxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIuZW52IiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkhlcmUgd2UgbmVlZCB0byB1cGRhdGUgb3VyIGZpbGUgd2l0aCB0aGUgc2FuZGJveCB0b2tlbnMgZ2l2ZW4gdG8gdXMgZnJvbSB0aGUgQnJhaW50cmVlIHNhbmRib3ggZW52aXJvbm1lbnQuIFRoZSBrZXlzIGFuZCBjb25maWd1cmF0aW9uIGNhbiBiZSBmb3VuZCBvbiB5b3VyIEJyYWludHJlZSBkYXNoYm9hcmQ6IiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNjUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1iYXNoIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDY1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJCUkFJTlRSRUVfTUVSQ0hBTlRfSUQ9PHVzZV95b3VyX21lcmNoYW50X2lkPlxuQlJBSU5UUkVFX1BVQkxJQ19LRVk9PHVzZV95b3VyX3B1YmxpY19rZXk+XG5CUkFJTlRSRUVfUFJJVkFURV9LRVk9PHVzZV95b3VyX3ByaXZhdGVfa2V5PlxuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJOb3cgd2UgY2FuIHVzZSAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJkb3RlbnYiKSwgIiBpbiBvdXIgYXBwIHRvIGFjY2VzcyB0aGUgdmFyaWFibGVzIGFuZCBrZWVwIHRoZW0gb3V0IG9mIG91ciBnaXQgaGlzdG9yeS4iKSwgbWR4KCJoMyIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogInNlcnZlcmpzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDcyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJzZXJ2ZXIuanMiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVG8gc2V0IHVwIHRoZSBtYWluIHNlcnZlciwgdXBkYXRlIHRoZSBzZXJ2ZXIuanMgZmlsZSB0byBsb29rIGxpa2Ugc286IiksIG1keCgicHJlIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogNzYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1qYXZhc2NyaXB0IgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDc2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICIvLyBBZGQgdmFyaWFibGVzIGZyb20gZG90ZW52IGludG8gcHJvY2Vzcy5lbnYgdmFyc1xucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XG5cbi8vIE1haW4gc3RhcnRpbmcgcG9pbnQgb2YgdGhlIGFwcGxpY2F0aW9uXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xuY29uc3QgbW9yZ2FuID0gcmVxdWlyZSgnbW9yZ2FuJyk7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpO1xuXG4vLyBSb3V0ZXMgU2V0dXBcbmNvbnN0IHJvdXRlcyA9IHJlcXVpcmUoJy4vcm91dGVzJyk7XG5cbi8vIEFwcCBTZXR1cFxuY29uc3QgbW9yZ2FuRm9ybWF0ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICdjb21iaW5lZCcgOiAnZGV2JztcbmFwcC51c2UobW9yZ2FuKG1vcmdhbkZvcm1hdCkpO1xuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcblxuLy8gQWRkIHJvdXRlcyBhZnRlciBzZXR0aW5nIHVwIG1pZGRsZXdhcmVcbnJvdXRlcyhhcHApO1xuXG4vLyBTZXJ2ZXIgU2V0dXBcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PSAncHJvZHVjdGlvbicgPyA4MCA6IDUwMDA7XG5jb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xuc2VydmVyLmxpc3Rlbihwb3J0KTtcbmNvbnNvbGUubG9nKCdTZXJ2ZXIgbGlzdGVuaW5nIG9uOicsIHBvcnQpO1xuIikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhpcyAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAic2VydmVyLmpzIiksICIgZmlsZSB3aWxsIGxvYWQgdGhlICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEwOAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJyb3V0ZXMvaW5kZXguanMiKSwgIiBmaWxlLCB3aGljaCB3ZSB3aWxsIG5vdyB1cGRhdGUuIiksIG1keCgiaDMiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJyb3V0ZXNpbmRleGpzIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEwOQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAicm91dGVzL2luZGV4LmpzIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDExMgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJMZXQncyBub3cgdXBkYXRlIG91ciAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMTIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAicm91dGVzL2luZGV4LmpzIiksICIgdG8gdGFrZSBzZXR1cCB0aGUgZ2F0ZXdheSBhbmQgc2V0dXAgdGhyZWUgcm91dGVzIC0gb25lIGZvciBhIHNpbXBsZSBwaW5nIHRlc3QsIGFub3RoZXIgZm9yIGZldGNoaW5nIGEgY2xpZW50IHRva2VuIGFuZCBhIHRoaXJkIGZvciBtYWtpbmcgYSBwYXltZW50OiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDExMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTEzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJjb25zdCBicmFpbnRyZWUgPSByZXF1aXJlKCdicmFpbnRyZWUnKTtcblxudmFyIGdhdGV3YXkgPSBicmFpbnRyZWUuY29ubmVjdCh7XG4gIGVudmlyb25tZW50OiBicmFpbnRyZWUuRW52aXJvbm1lbnQuU2FuZGJveCxcbiAgLy8gVXNlIHlvdXIgb3duIGNyZWRlbnRpYWxzIGZyb20gdGhlIHNhbmRib3ggQ29udHJvbCBQYW5lbCBoZXJlXG4gIG1lcmNoYW50SWQ6IHByb2Nlc3MuZW52LkJSQUlOVFJFRV9NRVJDSEFOVF9JRCxcbiAgcHVibGljS2V5OiBwcm9jZXNzLmVudi5CUkFJTlRSRUVfUFVCTElDX0tFWSxcbiAgcHJpdmF0ZUtleTogcHJvY2Vzcy5lbnYuQlJBSU5UUkVFX1BSSVZBVEVfS0VZXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcHApIHtcbiAgYXBwLmdldCgnL2JyYWludHJlZScsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgcmVzLnNlbmQoJ0JyYWludHJlZSByb3V0ZSBpcyBoZWFsdGh5Jyk7XG4gIH0pO1xuXG4gIGFwcC5nZXQoJy9hcGkvYnJhaW50cmVlL3YxL2dldFRva2VuJywgYXN5bmMgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgZ2F0ZXdheS5jbGllbnRUb2tlbi5nZW5lcmF0ZSh7fSwgZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuc2VuZChyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyKTtcbiAgICB9XG4gIH0pO1xuXG4gIGFwcC5wb3N0KCcvYXBpL2JyYWludHJlZS92MS9zYW5kYm94JywgYXN5bmMgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIHRoZSBwYXltZW50IG1ldGhvZCBub25jZSBoZXJlXG4gICAgICB2YXIgbm9uY2VGcm9tVGhlQ2xpZW50ID0gcmVxLmJvZHkucGF5bWVudE1ldGhvZE5vbmNlO1xuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIGZvciAkMTBcbiAgICAgIHZhciBuZXdUcmFuc2FjdGlvbiA9IGdhdGV3YXkudHJhbnNhY3Rpb24uc2FsZShcbiAgICAgICAge1xuICAgICAgICAgIGFtb3VudDogJzEwLjAwJyxcbiAgICAgICAgICBwYXltZW50TWV0aG9kTm9uY2U6IG5vbmNlRnJvbVRoZUNsaWVudCxcbiAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiByZXF1ZXN0cyB0aGUgZnVuZHMgZnJvbSB0aGUgdHJhbnNhY3Rpb24gb25jZSBpdCBoYXMgYmVlblxuICAgICAgICAgICAgLy8gYXV0aG9yaXplZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgICAgIHN1Ym1pdEZvclNldHRsZW1lbnQ6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXMuc2VuZChyZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gRGVhbCB3aXRoIGFuIGVycm9yXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICB9XG4gIH0pO1xufTtcbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTc1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIk5vdyBpZiB3ZSBydW4gIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTc1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIm5vZGUgc2VydmVyLmpzIiksICIsIHdlIHNob3VsZCBoYXZlIG91ciBhcHAgdXAgYW5kIHJ1bm5pbmcgb24gcG9ydCA1MDAwISIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiV2UgY2FuIHJ1biAiLCBtZHgoImlubGluZUNvZGUiLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxNzYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiY3VybCBodHRwOi8vbG9jYWxob3N0OjUwMDAvYnJhaW50cmVlIiksICIgZnJvbSBhbm90aGVyIHRlcm1pbmFsIHRvIHNlZSBvdXIgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTc2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIkJyYWludHJlZSByb3V0ZSBpcyBoZWFsdGh5IiksICIgcmVzcG9uc2UuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE3NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJOb3cgd2UgbmVlZCB0byBzZXQgdXAgdGhlIGNsaWVudHNpZGUuIiksIG1keCgiaDIiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJidWlsZGluZy10aGUtcmVhY3QtZnJvbnRlbmQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTc4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJCdWlsZGluZyB0aGUgUmVhY3QgZnJvbnRlbmQiKSwgbWR4KCJoMyIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogInJlYWN0LWluc3RhbGxhdGlvbiIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxODEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgIlJlYWN0IEluc3RhbGxhdGlvbiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE4NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWJhc2giCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTg0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJjcmVhdGUtcmVhY3QtYXBwIGNsaWVudHNpZGVcbmNkIGNsaWVudHNpZGVcbnlhcm4gYWRkIGJyYWludHJlZS13ZWIgYnJhaW50cmVlLXdlYi1kcm9wLWluLXJlYWN0IGF4aW9zXG4iKSksIG1keCgiaDMiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJ1cGRhdGluZy10aGUtYXBwIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE5MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiVXBkYXRpbmcgdGhlIGFwcCIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxOTMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiR28gdG8gb3VyIEFwcC5qcyBmaWxlIGFuZCBjbGVhbiBpdCBvdXQuIFJlcGxhY2UgdGhlIGZpbGUgd2l0aCB0aGUgZm9sbG93aW5nOiIpLCBtZHgoInByZSIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDE5NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiY29kZSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInByZSIKICB9LCB7CiAgICAiY2xhc3NOYW1lIjogImxhbmd1YWdlLWphdmFzY3JpcHQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTk0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL0FwcC5jc3MnO1xuaW1wb3J0ICdicmFpbnRyZWUtd2ViJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgRHJvcEluIGZyb20gJ2JyYWludHJlZS13ZWItZHJvcC1pbi1yZWFjdCc7XG5cbmNsYXNzIEFwcCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGluc3RhbmNlO1xuXG4gIHN0YXRlID0ge1xuICAgIGNsaWVudFRva2VuOiBudWxsXG4gIH07XG5cbiAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhIGNsaWVudCB0b2tlbiBmb3IgYXV0aG9yaXphdGlvbiBmcm9tIHlvdXIgc2VydmVyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvYnJhaW50cmVlL3YxL2dldFRva2VuJ1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGNsaWVudFRva2VuID0gcmVzcG9uc2UuZGF0YS5jbGllbnRUb2tlbjtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNsaWVudFRva2VuIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGJ1eSgpIHtcbiAgICB0cnkge1xuICAgICAgLy8gU2VuZCB0aGUgbm9uY2UgdG8geW91ciBzZXJ2ZXJcbiAgICAgIGNvbnN0IHsgbm9uY2UgfSA9IGF3YWl0IHRoaXMuaW5zdGFuY2UucmVxdWVzdFBheW1lbnRNZXRob2QoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvYnJhaW50cmVlL3YxL3NhbmRib3gnLFxuICAgICAgICBub25jZVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmNsaWVudFRva2VuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMT5Mb2FkaW5nLi4uPC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxEcm9wSW5cbiAgICAgICAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5zdGF0ZS5jbGllbnRUb2tlblxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uSW5zdGFuY2U9eyhpbnN0YW5jZSkgPT4gKHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuYnV5LmJpbmQodGhpcyl9PkJ1eTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjYyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRoaXMgY29kZSBpcyBhIHZhcmlhdGlvbiBvZiB0aGUgaW50cm8gY29kZSBmb3VuZCBvbiB0aGUgIiwgbWR4KCJhIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicCIKICB9LCB7CiAgICAiaHJlZiI6ICJodHRwczovL2dpdGh1Yi5jb20vY3JldGV6eS9icmFpbnRyZWUtd2ViLWRyb3AtaW4tcmVhY3QiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjYyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJCcmFpbnRyZWUgV2ViIERyb3AtaW4gUmVhY3QgR2l0aHViIGludHJvIiksICIuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJJZiB3ZSBydW4gIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjY1CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgInlhcm4gc3RhcnQiKSwgIiB3ZSBzaG91bGQgbG9hZCB1cCB0aGUgUmVhY3QgYXBwIG9uIGxvY2Fob3N0IGFuZCB5b3Ugc2hvdWxkIGJlIGFibGUgdG8gc2VlIHRoZSBmb2xsb3dpbmc6IiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2NgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW1nIiwgewogICAgYWx0OiAiUmVhY3QgRnJvbnRlbmQiLAogICAgc3JjOiAiaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZ2l0Z29vZGNsdWIvaW1hZ2UvdXBsb2FkL3YxNTM4Njk4MDY1L3NhbXBsZXMvYnJhaW50cmVlLW9uZS5wbmciLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjY2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSkpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNjcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiSWYgdGhhdCBpcyB0aGUgY2FzZSwgcGVyZmVjdCEgV2UgYXJlIHJlYWR5IHRvIHJvbGwuIiksIG1keCgiaDMiLCBPYmplY3QuYXNzaWduKHsKICAgICJpZCI6ICJtYWtpbmctdGhlLXBheW1lbnQiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjY4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJNYWtpbmcgdGhlIHBheW1lbnQiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjcxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlRoZSBmb2xsb3dpbmcgY29tZXMgZGlyZWN0bHkgZnJvbSB0aGUgIiwgbWR4KCJhIiwgT2JqZWN0LmFzc2lnbih7CiAgICBwYXJlbnROYW1lOiAicCIKICB9LCB7CiAgICAiaHJlZiI6ICJodHRwczovL2RldmVsb3BlcnMuYnJhaW50cmVlcGF5bWVudHMuY29tL3N0YXJ0L3R1dG9yaWFsIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI3MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiTm9kZS5qcyBxdWlja3N0YXJ0IGZvciBCcmFpbnRyZWUiKSwgIi4iKSwgbWR4KCJwcmUiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNzQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImNvZGUiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwcmUiCiAgfSwgewogICAgImNsYXNzTmFtZSI6ICJsYW5ndWFnZS1iYXNoIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI3NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiQ2FyZCBudW1iZXI6IDQxMTEgMTExMSAxMTExIDExMTFcbkV4cGlyeTogMDkvMjBcbkNWVjogNDAwXG5Qb3N0YWwgQ29kZTogNDAwMDBcbiIpKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjgxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIklmIHdlIGluc2VydCBib3RoIHRoZSBjYXJkIG51bWJlciBhbmQgZXhwaXJ5LCB0aGF0IHNob3VsZCBiZSBlbm91Z2ggZm9yIHVzIHRvIGdldCB0byB0aGUgZW5kIG9mIHRoZSByb2FkISBBZnRlciBpbnNlcnRpbmcgYW5kIG1ha2luZyB0aGUgcGF5bWVudCwgb3VyIGZyb250IGVuZCBzaG91bGQgbG9vayBsaWtlIHRoZSBmb2xsb3dpbmc6IiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW1nIiwgewogICAgYWx0OiAiUGF5bWVudCBtYWRlIiwKICAgIHNyYzogImh0dHBzOi8vcmVzLmNsb3VkaW5hcnkuY29tL2dpdGdvb2RjbHViL2ltYWdlL3VwbG9hZC92MTUzODY5ODA2NC9zYW1wbGVzL2JyYWludHJlZS10d28ucG5nIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjgzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIk9wZW5pbmcgdXAgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjgzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgImRldnRvb2xzIiksICIsIHdlIGNhbiBldmVuIGluc3BlY3QgdGhlIHJlc3BvbnNlIG9iamVjdCB3ZSBhcmUgbG9nZ2luZyB0byBzZWUgb3VyIGdyZWF0IHN1Y2Nlc3MhIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4NAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiaW1nIiwgewogICAgYWx0OiAiRGV2dG9vbHMiLAogICAgc3JjOiAiaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZ2l0Z29vZGNsdWIvaW1hZ2UvdXBsb2FkL3YxNTM4Njk4MDY1L3NhbXBsZXMvYnJhaW50cmVlLXRocmVlLnBuZyIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyODQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJCaW5nbyEiKSwgbWR4KCJoMyIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogInRoZS1zZXJ2ZXItdGVybWluYWwiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjg2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJUaGUgc2VydmVyIHRlcm1pbmFsIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI4OQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJJZiB3ZSBjaGVja291dCB0aGUgc2VydmVyIHRlcm1pbmFsLCB3ZSBzaG91bGQgYmUgYWJsZSB0byBzZWUgaG93IGV2ZW50cyB3ZW50IGRvd24gdGhhbmtzIHRvIE1vcmdhbiBkb2luZyBvdXIgbG9nZ2luZzoiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjkwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgbWR4KCJpbWciLCB7CiAgICBhbHQ6ICJFeHByZXNzIEFwcCIsCiAgICBzcmM6ICJodHRwczovL3Jlcy5jbG91ZGluYXJ5LmNvbS9naXRnb29kY2x1Yi9pbWFnZS91cGxvYWQvdjE1Mzg2OTgwNjMvc2FtcGxlcy9icmFpbnRyZWUtZm91ci5wbmciLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjkwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSkpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyOTEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVGhlIGltYWdlIGFib3ZlIGNhbiBoZWxwIHVzIGZ1bGx5IHVuZGVyc3RhbmQgdGhlIHByb2Nlc3MuIFdoZW4gb3VyIGZyb250ZW5kIGFwcCBsb2Fkcywgd2UgbWFrZSBhICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJHRVQiKSwgIiByZXF1ZXN0IHRvIGZldGNoIHRoZSB0b2tlbiBmcm9tICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICIvYXBpL2JyYWludHJlZS92MS9nZXRUb2tlbiIpLCAiLiBUaGlzIHRva2VuIGlzIHJlcXVpcmVkIGZvciB3aGVuIHRoYXQgZmluYWwgcGF5bWVudCByZXF1ZXN0IHdhcyBtYWRlLiBUaGUgIiwgbWR4KCJpbmxpbmVDb2RlIiwgewogICAgcGFyZW50TmFtZTogInAiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjkxCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIk9QVElPTlMiKSwgIiAyMDQgcmVxdWVzdCB3ZSBzZWUgdGhlcmUgc2Vjb25kbHkgaXMgYSBDT1JTIHByZWZsaWdodCByZXF1ZXN0IG1hZGUgdG8gZW5zdXJlIHdlIGFyZSBhbGxvd2VkIHRvIG1ha2UgdGhlIGNhbGwgYW5kIGZpbmFsbHkgYW5kICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJQT1NUIiksICIgMjAwIHRvICIsIG1keCgiaW5saW5lQ29kZSIsIHsKICAgIHBhcmVudE5hbWU6ICJwIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5MQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICIvYXBpL2JyYWludHJlZS92MS9zYW5kYm94IiksICIgaXMgb3VyIHN1Y2Nlc3MgcmVzcG9uc2UgYWZ0ZXIgbWFraW5nIHRoZSBwYXltZW50LiIpLCBtZHgoImgyIiwgT2JqZWN0LmFzc2lnbih7CiAgICAiaWQiOiAiY29uZmlybWF0aW9uIgogIH0sIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5MgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCAiQ29uZmlybWF0aW9uIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI5NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJJZiB3ZSBub3cgZ28gYmFjayB0byBvdXIgU2FuZGJveCBkYXNoYm9hcmQsIHdlIGNhbiBub3cgc2VlIHRoZSBzdWNjZXNzZnVsIHRyYW5zYWN0aW9uIGhhcyBiZWVuIHJlY29yZGVkISIpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyOTYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoImltZyIsIHsKICAgIGFsdDogIlN1Y2Nlc3MiLAogICAgc3JjOiAiaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZ2l0Z29vZGNsdWIvaW1hZ2UvdXBsb2FkL3YxNTM4Njk4NzMyL2JyYWludHJlZWRhc2hib2FyZC5wbmciLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjk2CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSkpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyOTcKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiVmVyeSBjb29sLiBXZSBqdXN0IHdlbnQgZnJvbSAwIHRvIHBheW1lbnQgaW4gYSBzaG9ydCBhbW91bnQgb2YgdGltZS4iKSwgbWR4KCJoMiIsIE9iamVjdC5hc3NpZ24oewogICAgImlkIjogIm5leHQtc3RlcHMiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjk4CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJOZXh0IHN0ZXBzIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMwMQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJXaGF0J3MgbmV4dD8gU29tZXRoaW5nIEkgbGlrZSBhYm91dCBCcmFpbnRyZWUgaXMgVUkgZXh0ZW5zaWJpbGl0eS4gQWx0aG91Z2ggd2UgdXNlZCBhIGZyb250ZW5kIHBhY2thZ2Ugb24gdGhpcyBvY2Nhc3Npb24sIHRyeSBidWlsZGluZyBvdXQgeW91ciBvd24gVUkgZm9yIHRha2luZyBwYXltZW50cyEiKSwgbWR4KCJwIiwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzAyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIldoZXRoZXIgb3Igbm90IHlvdSBhcmUgYSBmYW4gb2YgQnJhaW50cmVlIG9yIFN0cmlwZSByZWFsbHkgaXMgdXAgdG8geW91IGFuZCB5b3VyIGJ1c2luZXNzIG5lZWRzIGF0IHRoZSBlbmQgb2YgdGhlIGRheS4gSXQgaXMgd29ydGggbG9va2luZyB1cCBib3RoIHRoZSBwcm9zIGFuZCBjb25zIG9mIHRoZSBkZXZlbG9wZXIgZG9jcyBhbmQgdGhlIHJhdGVzIHRvIGRlY2lkZSB3aGF0IGlzIGJlc3QgZm9yIHlvdXIgc3BlY2lmaWMgdXNlY2FzZSAob3IgYW55IG90aGVyIHBheW1lbnQgcGxhdGZvcm0gZm9yIHRoYXQgY2FzZSkuIiksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMwMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJPcmlnaW5hbCBwb3N0OiAiLCBtZHgoImEiLCBPYmplY3QuYXNzaWduKHsKICAgIHBhcmVudE5hbWU6ICJwIgogIH0sIHsKICAgICJocmVmIjogImh0dHBzOi8vd3d3LmRlbm5pc29rZWVmZmUuY29tL2Jsb2cvYnJhaW50cmVlLW5vZGUtcmVhY3QiCiAgfSwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzAzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSksICJodHRwczovL3d3dy5kZW5uaXNva2VlZmZlLmNvbS9ibG9nL2JyYWludHJlZS1ub2RlLXJlYWN0IikpLCBtZHgoInAiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMDYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiR2l0IHJlcG86ICIsIG1keCgiYSIsIE9iamVjdC5hc3NpZ24oewogICAgcGFyZW50TmFtZTogInAiCiAgfSwgewogICAgImhyZWYiOiAiaHR0cHM6Ly9naXRodWIuY29tL29rZWVmZmVkL2hlbGxvLWJyYWludHJlZSIKICB9LCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMDYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgImh0dHBzOi8vZ2l0aHViLmNvbS9va2VlZmZlZC9oZWxsby1icmFpbnRyZWUiKSksIG1keCgicCIsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDMwOQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIG1keCgiZW0iLCB7CiAgICBwYXJlbnROYW1lOiAicCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMDkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBtZHgoInN0cm9uZyIsIHsKICAgIHBhcmVudE5hbWU6ICJlbSIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzMDkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCAiRGVwdGgiKSwgIiBpcyBhIHNlcmllcyB0aGF0IGdvZXMgaW50byBtb3JlIGRldGFpbCBmb3IgcHJvamVjdHMgdGhhbiBpdCdzIGZyaWVuZGx5IGNvdW50ZXJwYXJ0IHNlcmllcyBcIkhlbGxvXCIuIikpKTsKfQoKaWYgKHR5cGVvZiBNRFhDb250ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBNRFhDb250ZW50ICYmIE1EWENvbnRlbnQgPT09IE9iamVjdChNRFhDb250ZW50KSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKE1EWENvbnRlbnQpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EWENvbnRlbnQsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJNRFhDb250ZW50IiwKICAgICAgZmlsZW5hbWU6ICJtYW51YWwvQnJhaW50cmVlL1NhbmRib3gubWQiCiAgICB9CiAgfSk7Cn0KCk1EWENvbnRlbnQuaXNNRFhDb21wb25lbnQgPSB0cnVlOwo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmRlZmF1bHQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKG1ha2VTaG9ydGNvZGUsICJtYWtlU2hvcnRjb2RlIiwgIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9tYW51YWwvQnJhaW50cmVlL1NhbmRib3gubWQiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihsYXlvdXRQcm9wcywgImxheW91dFByb3BzIiwgIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9tYW51YWwvQnJhaW50cmVlL1NhbmRib3gubWQiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihNRFhMYXlvdXQsICJNRFhMYXlvdXQiLCAiL1VzZXJzL2Rlbm5pcy5va2VlZmZlL1Byb2plY3QtSW1wb3N0ZXIvZGV2ZWxvcGVyLW5vdGVzL21hbnVhbC9CcmFpbnRyZWUvU2FuZGJveC5tZCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKE1EWENvbnRlbnQsICJNRFhDb250ZW50IiwgIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9tYW51YWwvQnJhaW50cmVlL1NhbmRib3gubWQiKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkubGVhdmVNb2R1bGU7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Braintree/Sandbox.md"],"names":["React","mdx","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":"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","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"getting-started-with-the-braintree-sandbox\"\n    }}>{`Getting started with the Braintree Sandbox`}</h1>\n    <p>{`Published: October 5th 2018`}</p>\n    <p>{`Braintree is one of those methods to get started with payments.`}</p>\n    <p>{`I've been looking for alternatives to Stripe more for comparisons sake to see what would be easiest to implement and more relevant to what I am trying to achieve en masse down the road.`}</p>\n    <p>{`This is a small hello world into getting up and running with Braintree using Express on the serverside and React on the frontend.`}</p>\n    <h2 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h2>\n    <p>{`If you are following along, you should sign up for a Sandbox account.`}</p>\n    <p>{`This tutorial will use create-react-app and a user contributed npm module to abstract some of the time required for setup.`}</p>\n    <p>{`Another useful link comes from `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.braintreepayments.com/start/tutorial\"\n      }}>{`their website for Node.js and JS`}</a>{`. Although I will be deterring away from it, it is still a useful reference.`}</p>\n    <p>{`We are going to treat this project as a monorepo for now, so in the root directory we need to create a subdirectory for the frontend and a directory for the server.`}</p>\n    <h2 {...{\n      \"id\": \"building-the-express-server\"\n    }}>{`Building the Express server`}</h2>\n    <h3 {...{\n      \"id\": \"installation\"\n    }}>{`Installation`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`mkdir server\ncd server\nyarn init -y\nyarn add express body-parser morgan cors dotenv braintree\nmkdir routes\ntouch server.js .env .gitignore routes/index.js\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"gitignore\"\n    }}>{`.gitignore`}</h3>\n    <p>{`For the sake of doing things right, let's just quickly update our file to ignore `}<inlineCode parentName=\"p\">{`node_modules`}</inlineCode>{` and the `}<inlineCode parentName=\"p\">{`.env`}</inlineCode>{` file.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`.env\nnode_modules/\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"env\"\n    }}>{`.env`}</h3>\n    <p>{`Here we need to update our file with the sandbox tokens given to us from the Braintree sandbox environment. The keys and configuration can be found on your Braintree dashboard:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`BRAINTREE_MERCHANT_ID=<use_your_merchant_id>\nBRAINTREE_PUBLIC_KEY=<use_your_public_key>\nBRAINTREE_PRIVATE_KEY=<use_your_private_key>\n`}</code></pre>\n    <p>{`Now we can use `}<inlineCode parentName=\"p\">{`dotenv`}</inlineCode>{` in our app to access the variables and keep them out of our git history.`}</p>\n    <h3 {...{\n      \"id\": \"serverjs\"\n    }}>{`server.js`}</h3>\n    <p>{`To set up the main server, update the server.js file to look like so:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// Add variables from dotenv into process.env vars\nrequire('dotenv').config();\n\n// Main starting point of the application\nconst express = require('express');\nconst http = require('http');\nconst bodyParser = require('body-parser');\nconst morgan = require('morgan');\nconst app = express();\nconst cors = require('cors');\n\n// Routes Setup\nconst routes = require('./routes');\n\n// App Setup\nconst morganFormat = process.env.NODE_ENV === 'production' ? 'combined' : 'dev';\napp.use(morgan(morganFormat));\napp.use(cors());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n// Add routes after setting up middleware\nroutes(app);\n\n// Server Setup\nconst port = process.env.NODE_ENV == 'production' ? 80 : 5000;\nconst server = http.createServer(app);\nserver.listen(port);\nconsole.log('Server listening on:', port);\n`}</code></pre>\n    <p>{`This `}<inlineCode parentName=\"p\">{`server.js`}</inlineCode>{` file will load the `}<inlineCode parentName=\"p\">{`routes/index.js`}</inlineCode>{` file, which we will now update.`}</p>\n    <h3 {...{\n      \"id\": \"routesindexjs\"\n    }}>{`routes/index.js`}</h3>\n    <p>{`Let's now update our `}<inlineCode parentName=\"p\">{`routes/index.js`}</inlineCode>{` to take setup the gateway and setup three routes - one for a simple ping test, another for fetching a client token and a third for making a payment:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const braintree = require('braintree');\n\nvar gateway = braintree.connect({\n  environment: braintree.Environment.Sandbox,\n  // Use your own credentials from the sandbox Control Panel here\n  merchantId: process.env.BRAINTREE_MERCHANT_ID,\n  publicKey: process.env.BRAINTREE_PUBLIC_KEY,\n  privateKey: process.env.BRAINTREE_PRIVATE_KEY\n});\n\nmodule.exports = function(app) {\n  app.get('/braintree', function(req, res) {\n    res.send('Braintree route is healthy');\n  });\n\n  app.get('/api/braintree/v1/getToken', async function(req, res) {\n    try {\n      gateway.clientToken.generate({}, function(err, response) {\n        if (err) {\n          res.status(500).send(err);\n        } else {\n          res.send(response);\n        }\n      });\n    } catch (err) {\n      res.status(500).send(err);\n    }\n  });\n\n  app.post('/api/braintree/v1/sandbox', async function(req, res) {\n    try {\n      // Use the payment method nonce here\n      var nonceFromTheClient = req.body.paymentMethodNonce;\n      // Create a new transaction for $10\n      var newTransaction = gateway.transaction.sale(\n        {\n          amount: '10.00',\n          paymentMethodNonce: nonceFromTheClient,\n          options: {\n            // This option requests the funds from the transaction once it has been\n            // authorized successfully\n            submitForSettlement: true\n          }\n        },\n        function(error, result) {\n          if (result) {\n            res.send(result);\n          } else {\n            res.status(500).send(error);\n          }\n        }\n      );\n    } catch (err) {\n      // Deal with an error\n      console.log(err);\n      res.send(err);\n    }\n  });\n};\n`}</code></pre>\n    <p>{`Now if we run `}<inlineCode parentName=\"p\">{`node server.js`}</inlineCode>{`, we should have our app up and running on port 5000!`}</p>\n    <p>{`We can run `}<inlineCode parentName=\"p\">{`curl http://localhost:5000/braintree`}</inlineCode>{` from another terminal to see our `}<inlineCode parentName=\"p\">{`Braintree route is healthy`}</inlineCode>{` response.`}</p>\n    <p>{`Now we need to set up the clientside.`}</p>\n    <h2 {...{\n      \"id\": \"building-the-react-frontend\"\n    }}>{`Building the React frontend`}</h2>\n    <h3 {...{\n      \"id\": \"react-installation\"\n    }}>{`React Installation`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`create-react-app clientside\ncd clientside\nyarn add braintree-web braintree-web-drop-in-react axios\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"updating-the-app\"\n    }}>{`Updating the app`}</h3>\n    <p>{`Go to our App.js file and clean it out. Replace the file with the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import React, { Component } from 'react';\nimport './App.css';\nimport 'braintree-web';\nimport axios from 'axios';\nimport DropIn from 'braintree-web-drop-in-react';\n\nclass App extends Component {\n  instance;\n\n  state = {\n    clientToken: null\n  };\n\n  async componentDidMount() {\n    try {\n      // Get a client token for authorization from your server\n      const response = await axios.get(\n        'http://localhost:5000/api/braintree/v1/getToken'\n      );\n      const clientToken = response.data.clientToken;\n\n      this.setState({ clientToken });\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  async buy() {\n    try {\n      // Send the nonce to your server\n      const { nonce } = await this.instance.requestPaymentMethod();\n      const response = await axios.post(\n        'http://localhost:5000/api/braintree/v1/sandbox',\n        nonce\n      );\n      console.log(response);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  render() {\n    if (!this.state.clientToken) {\n      return (\n        <div>\n          <h1>Loading...</h1>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <DropIn\n            options={{\n              authorization: this.state.clientToken\n            }}\n            onInstance={(instance) => (this.instance = instance)}\n          />\n          <button onClick={this.buy.bind(this)}>Buy</button>\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n`}</code></pre>\n    <p>{`This code is a variation of the intro code found on the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/cretezy/braintree-web-drop-in-react\"\n      }}>{`Braintree Web Drop-in React Github intro`}</a>{`.`}</p>\n    <p>{`If we run `}<inlineCode parentName=\"p\">{`yarn start`}</inlineCode>{` we should load up the React app on locahost and you should be able to see the following:`}</p>\n    <p><img alt=\"React Frontend\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698065/samples/braintree-one.png\" /></p>\n    <p>{`If that is the case, perfect! We are ready to roll.`}</p>\n    <h3 {...{\n      \"id\": \"making-the-payment\"\n    }}>{`Making the payment`}</h3>\n    <p>{`The following comes directly from the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.braintreepayments.com/start/tutorial\"\n      }}>{`Node.js quickstart for Braintree`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`Card number: 4111 1111 1111 1111\nExpiry: 09/20\nCVV: 400\nPostal Code: 40000\n`}</code></pre>\n    <p>{`If we insert both the card number and expiry, that should be enough for us to get to the end of the road! After inserting and making the payment, our front end should look like the following:`}</p>\n    <p><img alt=\"Payment made\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698064/samples/braintree-two.png\" /></p>\n    <p>{`Opening up `}<inlineCode parentName=\"p\">{`devtools`}</inlineCode>{`, we can even inspect the response object we are logging to see our great success!`}</p>\n    <p><img alt=\"Devtools\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698065/samples/braintree-three.png\" /></p>\n    <p>{`Bingo!`}</p>\n    <h3 {...{\n      \"id\": \"the-server-terminal\"\n    }}>{`The server terminal`}</h3>\n    <p>{`If we checkout the server terminal, we should be able to see how events went down thanks to Morgan doing our logging:`}</p>\n    <p><img alt=\"Express App\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698063/samples/braintree-four.png\" /></p>\n    <p>{`The image above can help us fully understand the process. When our frontend app loads, we make a `}<inlineCode parentName=\"p\">{`GET`}</inlineCode>{` request to fetch the token from `}<inlineCode parentName=\"p\">{`/api/braintree/v1/getToken`}</inlineCode>{`. This token is required for when that final payment request was made. The `}<inlineCode parentName=\"p\">{`OPTIONS`}</inlineCode>{` 204 request we see there secondly is a CORS preflight request made to ensure we are allowed to make the call and finally and `}<inlineCode parentName=\"p\">{`POST`}</inlineCode>{` 200 to `}<inlineCode parentName=\"p\">{`/api/braintree/v1/sandbox`}</inlineCode>{` is our success response after making the payment.`}</p>\n    <h2 {...{\n      \"id\": \"confirmation\"\n    }}>{`Confirmation`}</h2>\n    <p>{`If we now go back to our Sandbox dashboard, we can now see the successful transaction has been recorded!`}</p>\n    <p><img alt=\"Success\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1538698732/braintreedashboard.png\" /></p>\n    <p>{`Very cool. We just went from 0 to payment in a short amount of time.`}</p>\n    <h2 {...{\n      \"id\": \"next-steps\"\n    }}>{`Next steps`}</h2>\n    <p>{`What's next? Something I like about Braintree is UI extensibility. Although we used a frontend package on this occassion, try building out your own UI for taking payments!`}</p>\n    <p>{`Whether or not you are a fan of Braintree or Stripe really is up to you and your business needs at the end of the day. It is worth looking up both the pros and cons of the developer docs and the rates to decide what is best for your specific usecase (or any other payment platform for that case).`}</p>\n    <p>{`Original post: `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.dennisokeeffe.com/blog/braintree-node-react\"\n      }}>{`https://www.dennisokeeffe.com/blog/braintree-node-react`}</a></p>\n    <p>{`Git repo: `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/okeeffed/hello-braintree\"\n      }}>{`https://github.com/okeeffed/hello-braintree`}</a></p>\n    <p><em parentName=\"p\"><strong parentName=\"em\">{`Depth`}</strong>{` is a series that goes into more detail for projects than it's friendly counterpart series \"Hello\".`}</em></p>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "]}]}
{"remainingRequest":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js??ref--6-2!/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js!/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Design-Patterns/Flyweight-Pattern.md","dependencies":[{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Design-Patterns/Flyweight-Pattern.md","mtime":1562563032026},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/cache-loader/dist/cjs.js","mtime":1564095360956},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1562568123838},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js","mtime":1565139338792},{"path":"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js","mtime":1564095361765}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIi9Vc2Vycy9kZW5uaXMub2tlZWZmZS9Qcm9qZWN0LUltcG9zdGVyL2RldmVsb3Blci1ub3Rlcy9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiOy8qIEBqc3ggbWR4ICovaW1wb3J0IFJlYWN0IGZyb20ncmVhY3QnO2ltcG9ydHttZHh9ZnJvbSdAbWR4LWpzL3JlYWN0JzsvKiBAanN4IG1keCAqL3ZhciBtYWtlU2hvcnRjb2RlPWZ1bmN0aW9uIG1ha2VTaG9ydGNvZGUobmFtZSl7cmV0dXJuIGZ1bmN0aW9uIE1EWERlZmF1bHRTaG9ydGNvZGUocHJvcHMpe2NvbnNvbGUud2FybigiQ29tcG9uZW50ICIrbmFtZSsiIHdhcyBub3QgaW1wb3J0ZWQsIGV4cG9ydGVkLCBvciBwcm92aWRlZCBieSBNRFhQcm92aWRlciBhcyBnbG9iYWwgc2NvcGUiKTtyZXR1cm4gbWR4KCJkaXYiLHByb3BzKTt9O307dmFyIGxheW91dFByb3BzPXt9O3ZhciBNRFhMYXlvdXQ9IndyYXBwZXIiO2V4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1EWENvbnRlbnQoX3JlZil7dmFyIGNvbXBvbmVudHM9X3JlZi5jb21wb25lbnRzLHByb3BzPV9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLFsiY29tcG9uZW50cyJdKTtyZXR1cm4gbWR4KE1EWExheW91dCxPYmplY3QuYXNzaWduKHt9LGxheW91dFByb3BzLHByb3BzLHtjb21wb25lbnRzOmNvbXBvbmVudHMsbWR4VHlwZToiTURYTGF5b3V0In0pLG1keCgiaDEiLHsiaWQiOiJmbHl3ZWlnaHQtcGF0dGVybiJ9LCJGbHl3ZWlnaHQgUGF0dGVybiIpLG1keCgicCIsbnVsbCwiVGhlIEZseXdlaWdodCBQYXR0ZXJuIGZhbGxzIHVuZGVyIHRoZSBzdHJ1Y3R1cmFsIGRlc2lnbiBwYXR0ZXJucyBmcm9tIHRoZSBHYW5nIE9mIEZvdXIuIiksbWR4KCJwIixudWxsLCJUaGUgIixtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sImZseXdlaWdodCIpLCIgaXMgYW4gb2JqZWN0IHRoYXQgbWluaW1pemVzIG1lbW9yeSB1c2FnZSBieSBzaGFyaW5nIGFzIG11Y2ggZGF0YSBhcyBwb3NzaWJsZSB3aXRoIHNpbWlsYXIgb2JqZWN0cyAtIGEgd2F5IHRvIHVzZSBvYmplY3RzIGluIGxhcmdlIG51bWJlcnMgd2hlbiBhIHNpbXBsZSByZXByZXNlbnRhdGlvbiB3b3VsZCB1c2UgYW4gdW5hY2NlcHRhYmxlIGFtb3VudCBvZiBtZW1vcnkuIiksbWR4KCJoMiIseyJpZCI6InVzYWdlIn0sIlVzYWdlIiksbWR4KCJwIixudWxsLCJVc2Ugd2hlbjoiKSxtZHgoInVsIixudWxsLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LCJtYW55IHNhbWUgb2JqZWN0cyBhcmUgdXNlZCBhbmQgc3RvcmFnZSBjb3N0IGlzIGhpZ2guIiksbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sInlvdSBjYW4gZXh0ZXJuYWxpc2UgYSBtYWpvcml0eSBvZiBlYWNoIG9iamVjdCdzIHN0YXRlLiIpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LCJmZXcgc2hhcmVkIG9iamVjdHMgY2FuIHJlcGxhY2UgbWFueSB1bnNoYXJlZCBvbmVzLiIpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LCJpZGVudGl0eSBvZiBhbiBvYmplY3Qgbm90IHJlbGV2YW50LiIpKSxtZHgoImgyIix7ImlkIjoiZXhhbXBsZSJ9LCJFeGFtcGxlIiksbWR4KCJwIixudWxsLCJIZXJlIHdlIHdpbGwgY3JlYXRlIGEgMTAwMCBjb21iYXRhbnRzIHRoYXQiKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLE9iamVjdC5hc3NpZ24oe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtdHlwZXNjcmlwdCJ9KSwiaW50ZXJmYWNlIEFjdGlvbiB7XG4gIG1vdmUobG9jYXRpb246IFtudW1iZXIsIG51bWJlcl0pOiB2b2lkO1xuICBoaXQ/KHRhcmdldDogc3RyaW5nLCBsb2NhdGlvbjogW251bWJlciwgbnVtYmVyXSk6IHZvaWQ7XG59XG5cbmNsYXNzIENvbWJhdGFudCBpbXBsZW1lbnRzIEFjdGlvbiB7XG4gIHByaXZhdGUgZXF1aXBtZW50U2V0OiBzdHJpbmc7XG4gIG51bWJlcjogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHNldDogc3RyaW5nLCBudW1iZXI6IG51bWJlcikge1xuICAgIC8vIGluaXRpYWxpemF0aW9uIGNvbnN1bWVzIHRpbWVcbiAgICB0aGlzLmVxdWlwbWVudFNldCA9IHNldDtcbiAgICB0aGlzLm51bWJlciA9IG51bWJlcjtcbiAgICBjb25zb2xlLmxvZyhgbmV3IENvbWJhdGFudCAke251bWJlcn1gKTtcbiAgfVxuXG4gIG1vdmUobG9jYXRpb246IFtudW1iZXIsIG51bWJlcl0pOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZyhgbW92ZSB0byAke2xvY2F0aW9ufWApO1xuICB9XG5cbiAgaGl0Pyh0YXJnZXQ6IHN0cmluZywgbG9jYXRpb246IFtudW1iZXIsIG51bWJlcl0pOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZyhgZGFtYWdlICR7dGFyZ2V0fSBhdCAke2xvY2F0aW9ufWApO1xuICB9XG59XG5cbmNsYXNzIENvbWJhdGFudEFjYWRlbXkge1xuICBwcml2YXRlIHN0YXRpYyBncm91cHM6IHsgW3NldDogc3RyaW5nXTogQ29tYmF0YW50IH0gPSB7fTtcblxuICBwdWJsaWMgc3RhdGljIGdldENvbWJhdGFudChzZXQ6IHN0cmluZywgbnVtOiBudW1iZXIpIHtcbiAgICBsZXQgY29tYmF0YW50ID0gQ29tYmF0YW50QWNhZGVteS5ncm91cHNbc2V0XTtcblxuICAgIGlmICghY29tYmF0YW50KSB7XG4gICAgICBjb21iYXRhbnQgPSBuZXcgQ29tYmF0YW50KHNldCwgbnVtKTtcbiAgICAgIENvbWJhdGFudEFjYWRlbXkuZ3JvdXBzW3NldF0gPSBjb21iYXRhbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbWJhdGFudC5udW1iZXIgPSBudW07XG4gICAgICBjb25zb2xlLmxvZyhgc2hhcmVkIENvbWJhdGFudCAke2NvbWJhdGFudC5udW1iZXJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbWJhdGFudDtcbiAgfVxufVxuXG4oZnVuY3Rpb24gbWFpbigpIHtcbiAgbGV0IHN0YXJ0LCBlbmQ7XG5cbiAgLy8gdGhlIGxhcmdlciB5b3UgY2hhbmdlIHRoZSB0aHJlc2hvbGQsIHRoZSBiaWdnZXIgdGhlIGRpZmZlcmVuY2VcbiAgY29uc3QgdGhyZXNob2xkID0gNTAwMDA7XG5cbiAgLy8gaW5lZmZpY2llbnQgY3JlYXRpbmcgd2l0aG91dCBmbHl3ZWlnaHRcbiAgc3RhcnQgPSBNYXRoLmZsb29yKERhdGUubm93KCkpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRocmVzaG9sZDsgaSsrKSB7XG4gICAgbmV3IENvbWJhdGFudCgnbm9ybWFsLXNldCcsIGkpOyAvLyBjcmVhdGluZyBmaWZ0eSB0aG91c2FuZCByZWFsIENvbWJhdGFudHNcbiAgfVxuICBlbmQgPSBNYXRoLmZsb29yKERhdGUubm93KCkpO1xuICBjb25zdCB3aXRob3V0Rmx5d2VpZ2h0ID0gZW5kIC0gc3RhcnQ7XG5cbiAgLy8gZWZmaWNpZW50IGNyZWF0ZSB3aXRoIGZseXdlaWdodFxuICBzdGFydCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhyZXNob2xkOyBpKyspIHtcbiAgICBDb21iYXRhbnRBY2FkZW15LmdldENvbWJhdGFudCgnbm9ybWFsLXNldCcsIGkpOyAvLyBjcmVhdGUgMSBDb21iYXRhbnRcbiAgfVxuICBlbmQgPSBNYXRoLmZsb29yKERhdGUubm93KCkpO1xuICBjb25zdCB3aXRoRmx5d2VpZ2h0ID0gZW5kIC0gc3RhcnQ7XG5cbiAgY29uc29sZS5sb2coJ1dpdGhvdXQgRmx5d2VpZ2h0Jywgd2l0aG91dEZseXdlaWdodCk7XG4gIGNvbnNvbGUubG9nKCdXaXRoIEZseXdlaWdodCcsIHdpdGhGbHl3ZWlnaHQpO1xufSkoKTtcbiIpKSxtZHgoImgyIix7ImlkIjoicmVzb3VyY2VzIn0sIlJlc291cmNlcyIpLG1keCgidWwiLG51bGwsbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sbWR4KCJhIixPYmplY3QuYXNzaWduKHtwYXJlbnROYW1lOiJsaSJ9LHsiaHJlZiI6Imh0dHBzOi8vY2lyY2xlLnZpc3VhbC1wYXJhZGlnbS5jb20vZmx5d2VpZ2h0LyJ9KSwiRmx5d2VpZ2h0IEV4YW1wbGUiKSksbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sbWR4KCJhIixPYmplY3QuYXNzaWduKHtwYXJlbnROYW1lOiJsaSJ9LHsiaHJlZiI6Imh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ZseXdlaWdodF9wYXR0ZXJuIn0pLCJGbHl3ZWlnaHQgV2lraXBlZGlhIikpKSk7fWlmKHR5cGVvZiBNRFhDb250ZW50IT09J3VuZGVmaW5lZCcmJk1EWENvbnRlbnQmJk1EWENvbnRlbnQ9PT1PYmplY3QoTURYQ29udGVudCkmJk9iamVjdC5pc0V4dGVuc2libGUoTURYQ29udGVudCkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShNRFhDb250ZW50LCdfX2ZpbGVtZXRhJyx7ZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlLHZhbHVlOntuYW1lOiJNRFhDb250ZW50IixmaWxlbmFtZToibWFudWFsL0Rlc2lnbi1QYXR0ZXJucy9GbHl3ZWlnaHQtUGF0dGVybi5tZCJ9fSk7fU1EWENvbnRlbnQuaXNNRFhDb21wb25lbnQ9dHJ1ZTs="},{"version":3,"sources":["/Users/dennis.okeeffe/Project-Imposter/developer-notes/manual/Design-Patterns/Flyweight-Pattern.md"],"names":["React","mdx","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":"iMAAA,cACE,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,eAApB,CACA,cAGF,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,IAAI,QAAI,SAASC,CAAAA,mBAAT,CAA6BC,KAA7B,CAAoC,CAChEC,OAAO,CAACC,IAAR,CAAa,aAAeJ,IAAf,CAAsB,yEAAnC,EACA,MAAO,WAASE,KAAT,CAAP,CACD,CAHyB,EAA1B,CAKA,GAAMG,CAAAA,WAAW,CAAG,EAApB,CAGA,GAAMC,CAAAA,SAAS,CAAG,SAAlB,CACA,cAAe,SAASC,CAAAA,UAAT,MAGZ,IAFDC,CAAAA,UAEC,MAFDA,UAEC,CADEN,KACF,+CACD,MAAO,KAAC,SAAD,kBAAeG,WAAf,CAAgCH,KAAhC,EAAuC,UAAU,CAAEM,UAAnD,CAA+D,OAAO,CAAC,WAAvE,GACL,SAAQ,CACN,KAAM,mBADA,CAAR,qBADK,CAIL,uGAJK,CAKL,oBAAW,kBAAY,UAAU,CAAC,GAAvB,cAAX,uNALK,CAML,SAAQ,CACN,KAAM,OADA,CAAR,SANK,CASL,yBATK,CAUL,cACE,UAAI,UAAU,CAAC,IAAf,yDADF,CAEE,UAAI,UAAU,CAAC,IAAf,2DAFF,CAGE,UAAI,UAAU,CAAC,IAAf,uDAHF,CAIE,UAAI,UAAU,CAAC,IAAf,wCAJF,CAVK,CAgBL,SAAQ,CACN,KAAM,SADA,CAAR,WAhBK,CAmBL,0DAnBK,CAoBL,eAAK,0BAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,qBADe,CAA3B,q2DAAL,CApBK,CA2FL,SAAQ,CACN,KAAM,WADA,CAAR,aA3FK,CA8FL,cACE,UAAI,UAAU,CAAC,IAAf,EAAoB,uBAAG,UAAU,CAAC,IAAd,EAAuB,CACvC,OAAQ,+CAD+B,CAAvB,sBAApB,CADF,CAIE,UAAI,UAAU,CAAC,IAAf,EAAoB,uBAAG,UAAU,CAAC,IAAd,EAAuB,CACvC,OAAQ,iDAD+B,CAAvB,wBAApB,CAJF,CA9FK,CAAP,CAuGD,C,uRAEDD,UAAU,CAACE,cAAX,CAA4B,IAA5B","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"flyweight-pattern\"\n    }}>{`Flyweight Pattern`}</h1>\n    <p>{`The Flyweight Pattern falls under the structural design patterns from the Gang Of Four.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`flyweight`}</inlineCode>{` is an object that minimizes memory usage by sharing as much data as possible with similar objects - a way to use objects in large numbers when a simple representation would use an unacceptable amount of memory.`}</p>\n    <h2 {...{\n      \"id\": \"usage\"\n    }}>{`Usage`}</h2>\n    <p>{`Use when:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`many same objects are used and storage cost is high.`}</li>\n      <li parentName=\"ul\">{`you can externalise a majority of each object's state.`}</li>\n      <li parentName=\"ul\">{`few shared objects can replace many unshared ones.`}</li>\n      <li parentName=\"ul\">{`identity of an object not relevant.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <p>{`Here we will create a 1000 combatants that`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`interface Action {\n  move(location: [number, number]): void;\n  hit?(target: string, location: [number, number]): void;\n}\n\nclass Combatant implements Action {\n  private equipmentSet: string;\n  number: number;\n\n  constructor(set: string, number: number) {\n    // initialization consumes time\n    this.equipmentSet = set;\n    this.number = number;\n    console.log(\\`new Combatant \\${number}\\`);\n  }\n\n  move(location: [number, number]): void {\n    console.log(\\`move to \\${location}\\`);\n  }\n\n  hit?(target: string, location: [number, number]): void {\n    console.log(\\`damage \\${target} at \\${location}\\`);\n  }\n}\n\nclass CombatantAcademy {\n  private static groups: { [set: string]: Combatant } = {};\n\n  public static getCombatant(set: string, num: number) {\n    let combatant = CombatantAcademy.groups[set];\n\n    if (!combatant) {\n      combatant = new Combatant(set, num);\n      CombatantAcademy.groups[set] = combatant;\n    } else {\n      combatant.number = num;\n      console.log(\\`shared Combatant \\${combatant.number}\\`);\n    }\n\n    return combatant;\n  }\n}\n\n(function main() {\n  let start, end;\n\n  // the larger you change the threshold, the bigger the difference\n  const threshold = 50000;\n\n  // inefficient creating without flyweight\n  start = Math.floor(Date.now());\n  for (let i = 0; i < threshold; i++) {\n    new Combatant('normal-set', i); // creating fifty thousand real Combatants\n  }\n  end = Math.floor(Date.now());\n  const withoutFlyweight = end - start;\n\n  // efficient create with flyweight\n  start = Math.floor(Date.now());\n  for (let i = 0; i < threshold; i++) {\n    CombatantAcademy.getCombatant('normal-set', i); // create 1 Combatant\n  }\n  end = Math.floor(Date.now());\n  const withFlyweight = end - start;\n\n  console.log('Without Flyweight', withoutFlyweight);\n  console.log('With Flyweight', withFlyweight);\n})();\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"resources\"\n    }}>{`Resources`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://circle.visual-paradigm.com/flyweight/\"\n        }}>{`Flyweight Example`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://en.wikipedia.org/wiki/Flyweight_pattern\"\n        }}>{`Flyweight Wikipedia`}</a></li>\n    </ul>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "]}]}
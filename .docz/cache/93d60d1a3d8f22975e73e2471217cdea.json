{"remainingRequest":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--6-1!/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js??ref--6-2!/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js!/Users/okeeffe_d/Project-Imposter/developer-notes/manual/Design-Patterns/Memento.md","dependencies":[{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/manual/Design-Patterns/Memento.md","mtime":1561446850838},{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/cache-loader/dist/cjs.js","mtime":1561535530324},{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1560300163820},{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/@mdx-js/loader/index.js","mtime":1561535530532},{"path":"/Users/okeeffe_d/Project-Imposter/developer-notes/node_modules/source-map-loader/index.js","mtime":1548285283521}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIi9Vc2Vycy9va2VlZmZlX2QvUHJvamVjdC1JbXBvc3Rlci9kZXZlbG9wZXItbm90ZXMvbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIjsvKiBAanN4IG1keCAqL2ltcG9ydCBSZWFjdCBmcm9tJ3JlYWN0JztpbXBvcnR7bWR4fWZyb20nQG1keC1qcy9yZWFjdCc7LyogQGpzeCBtZHggKi92YXIgbWFrZVNob3J0Y29kZT1mdW5jdGlvbiBtYWtlU2hvcnRjb2RlKG5hbWUpe3JldHVybiBmdW5jdGlvbiBNRFhEZWZhdWx0U2hvcnRjb2RlKHByb3BzKXtjb25zb2xlLndhcm4oIkNvbXBvbmVudCAiK25hbWUrIiB3YXMgbm90IGltcG9ydGVkLCBleHBvcnRlZCwgb3IgcHJvdmlkZWQgYnkgTURYUHJvdmlkZXIgYXMgZ2xvYmFsIHNjb3BlIik7cmV0dXJuIG1keCgiZGl2Iixwcm9wcyk7fTt9O3ZhciBsYXlvdXRQcm9wcz17fTt2YXIgTURYTGF5b3V0PSJ3cmFwcGVyIjtleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNRFhDb250ZW50KF9yZWYpe3ZhciBjb21wb25lbnRzPV9yZWYuY29tcG9uZW50cyxwcm9wcz1fb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZixbImNvbXBvbmVudHMiXSk7cmV0dXJuIG1keChNRFhMYXlvdXQsT2JqZWN0LmFzc2lnbih7fSxsYXlvdXRQcm9wcyxwcm9wcyx7Y29tcG9uZW50czpjb21wb25lbnRzLG1keFR5cGU6Ik1EWExheW91dCJ9KSxtZHgoImgxIix7ImlkIjoibWVtZW50byJ9LCJNZW1lbnRvIiksbWR4KCJwIixudWxsLCJDYXB0dXJlIGFuZCBleHRlcm5hbGlzZSBhbiBvYmplY3QncyBpbnRlcm5hbCBzdGF0ZSBhbGxvd2luZyB0aGUgb2JqZWN0IHRvIGJlIHJlc3RvcmVkIHRvIHRoaXMgc3RhdGUgbGF0ZXIgKHdpdGhvdXQgdmlvbGF0aW5nIGVuY2Fwc3VsYXRpb24pLiIpLG1keCgiaDIiLHsiaWQiOiJwYXJ0aWNpcGFudHMifSwiUGFydGljaXBhbnRzIiksbWR4KCJ1bCIsbnVsbCxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSwiTWVtZW50byAoc3RvcmVzIGludGVybmFsIHN0YXRlIG9mIE9yaWdpbmF0b3Igb2JqZWN0IC0gbWF5IHN0b3JlIGFzIG11Y2ggb3IgbGl0dGxlIGFzIHBvc3NpYmxlKSIpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LCJPcmlnaW5hdG9yIChjcmVhdGVzIG1lbWVudG8gY29udGFpbmluZyBzbmFwc2hvdCBvZiBjdXJyZW50IHN0YXRlKSIpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LCJDYXJldGFrZXIgKHJlc3BvbnNpYmxlIGZvciBtZW1lbnRvJ3Mgc2FmZWtlZXBpbmcpIikpLG1keCgiaDIiLHsiaWQiOiJleGFtcGxlIn0sIkV4YW1wbGUiKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLE9iamVjdC5hc3NpZ24oe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtdHlwZXNjcmlwdCJ9KSwiY2xhc3MgU3RhdGUge1xuICBwcml2YXRlIF92YWx1ZTogU3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgdmFsdWUobmV3VmFsdWU6IFN0cmluZykge1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgU3RhdGVJbnRlcmZhY2Uge1xuICBzdGF0ZTogU3RhdGU7XG59XG5cbmNsYXNzIE1lbWVudG8gaW1wbGVtZW50cyBTdGF0ZUludGVyZmFjZSB7XG4gIHByaXZhdGUgX3N0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3RvcihzdGF0ZTogU3RhdGUpIHtcbiAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgcHVibGljIHNldCBzdGF0ZShuZXdTdGF0ZTogU3RhdGUpIHtcbiAgICB0aGlzLl9zdGF0ZSA9IG5ld1N0YXRlO1xuICB9XG5cbiAgcHVibGljIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gIH1cbn1cblxuY2xhc3MgT3JpZ2luYXRvciBpbXBsZW1lbnRzIFN0YXRlSW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBfc3RhdGU6IFN0YXRlO1xuXG4gIGNvbnN0cnVjdG9yKHN0YXRlOiBTdGF0ZSkge1xuICAgIGNvbnNvbGUubG9nKGBcIiR7c3RhdGUudmFsdWV9XCJgKTtcbiAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgcHVibGljIHNldCBzdGF0ZShzdGF0ZTogU3RhdGUpIHtcbiAgICBjb25zb2xlLmxvZyhzdGF0ZS52YWx1ZSk7XG4gICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZU1lbWVudG8oKSB7XG4gICAgY29uc29sZS5sb2coYGNyZWF0ZSBcIiR7dGhpcy5fc3RhdGUudmFsdWV9XCIgbWVtZW50b2ApO1xuICAgIHJldHVybiBuZXcgTWVtZW50byh0aGlzLl9zdGF0ZSk7XG4gIH1cblxuICBwdWJsaWMgcmVzdG9yZU1lbWVudG8obWVtZW50bzogTWVtZW50bykge1xuICAgIGNvbnNvbGUubG9nKGByZXN0b3JlIFwiJHttZW1lbnRvLnN0YXRlLnZhbHVlfVwiYCk7XG4gICAgdGhpcy5fc3RhdGUgPSBtZW1lbnRvLnN0YXRlO1xuICB9XG59XG5cbmNsYXNzIENhcmVUYWtlciB7XG4gIHByaXZhdGUgX21lbWVudG86IE1lbWVudG87XG5cbiAgcHVibGljIHNldCBtZW1lbnRvKG1lbWVudG86IE1lbWVudG8pIHtcbiAgICAvLyBtZW1lbnRvIHNhdmVkXG4gICAgdGhpcy5fbWVtZW50byA9IG1lbWVudG87XG4gIH1cblxuICBwdWJsaWMgZ2V0IG1lbWVudG8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lbWVudG87XG4gIH1cbn1cblxuKGZ1bmN0aW9uIG1haW4oKSB7XG4gIC8vIFNhdmUgY2hlY2sgcG9pbnRcbiAgY29uc3Qgb2xkU3RhdGUgPSBuZXcgU3RhdGUoJ2NoZWNrIHBvaW50Jyk7XG4gIGNvbnN0IG9yaWdpbmF0b3IgPSBuZXcgT3JpZ2luYXRvcihvbGRTdGF0ZSk7XG4gIGNvbnN0IGNhcmVUYWtlciA9IG5ldyBDYXJlVGFrZXIoKTtcbiAgY2FyZVRha2VyLm1lbWVudG8gPSBvcmlnaW5hdG9yLmNyZWF0ZU1lbWVudG8oKTtcblxuICAvLyBQbGF5ZXIgZGllc1xuICBjb25zdCBjdXJyZW50U3RhdGUgPSBuZXcgU3RhdGUoJ2RpZScpO1xuICBvcmlnaW5hdG9yLnN0YXRlID0gY3VycmVudFN0YXRlO1xuXG4gIC8vIFBsYXllciByZXNldCB0byBjaGVjayBwb2ludFxuICBvcmlnaW5hdG9yLnJlc3RvcmVNZW1lbnRvKGNhcmVUYWtlci5tZW1lbnRvKTtcblxuICAvLyBQbGF5ZXIgZ2FpbiBtZWRlbFxuICBjb25zdCBtZWRhbFN0YXRlID0gbmV3IFN0YXRlKCdnZXQgbWVkYWwnKTtcbiAgb3JpZ2luYXRvci5zdGF0ZSA9IG1lZGFsU3RhdGU7XG4gIC8vIFNhdmVcbiAgY2FyZVRha2VyLm1lbWVudG8gPSBvcmlnaW5hdG9yLmNyZWF0ZU1lbWVudG8oKTtcbn0pKCk7XG4iKSkpO31pZih0eXBlb2YgTURYQ29udGVudCE9PSd1bmRlZmluZWQnJiZNRFhDb250ZW50JiZNRFhDb250ZW50PT09T2JqZWN0KE1EWENvbnRlbnQpJiZPYmplY3QuaXNFeHRlbnNpYmxlKE1EWENvbnRlbnQpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoTURYQ29udGVudCwnX19maWxlbWV0YScse2VudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZSx2YWx1ZTp7bmFtZToiTURYQ29udGVudCIsZmlsZW5hbWU6Im1hbnVhbC9EZXNpZ24tUGF0dGVybnMvTWVtZW50by5tZCJ9fSk7fU1EWENvbnRlbnQuaXNNRFhDb21wb25lbnQ9dHJ1ZTs="},{"version":3,"sources":["/Users/okeeffe_d/Project-Imposter/developer-notes/manual/Design-Patterns/Memento.md"],"names":["React","mdx","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":"4LAAA,cACE,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,eAApB,CACA,cAGF,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,IAAI,QAAI,SAASC,CAAAA,mBAAT,CAA6BC,KAA7B,CAAoC,CAChEC,OAAO,CAACC,IAAR,CAAa,aAAeJ,IAAf,CAAsB,yEAAnC,EACA,MAAO,WAASE,KAAT,CAAP,CACD,CAHyB,EAA1B,CAKA,GAAMG,CAAAA,WAAW,CAAG,EAApB,CAGA,GAAMC,CAAAA,SAAS,CAAG,SAAlB,CACA,cAAe,SAASC,CAAAA,UAAT,MAGZ,IAFDC,CAAAA,UAEC,MAFDA,UAEC,CADEN,KACF,+CACD,MAAO,KAAC,SAAD,kBAAeG,WAAf,CAAgCH,KAAhC,EAAuC,UAAU,CAAEM,UAAnD,CAA+D,OAAO,CAAC,WAAvE,GACL,SAAQ,CACN,KAAM,SADA,CAAR,WADK,CAIL,4JAJK,CAKL,SAAQ,CACN,KAAM,cADA,CAAR,gBALK,CAQL,cACE,UAAI,UAAU,CAAC,IAAf,mGADF,CAEE,UAAI,UAAU,CAAC,IAAf,sEAFF,CAGE,UAAI,UAAU,CAAC,IAAf,sDAHF,CARK,CAaL,SAAQ,CACN,KAAM,SADA,CAAR,WAbK,CAgBL,eAAK,0BAAM,UAAU,CAAC,KAAjB,EAA2B,CAC5B,YAAa,qBADe,CAA3B,o7DAAL,CAhBK,CAAP,CAqHD,C,6QAEDD,UAAU,CAACE,cAAX,CAA4B,IAA5B","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"memento\"\n    }}>{`Memento`}</h1>\n    <p>{`Capture and externalise an object's internal state allowing the object to be restored to this state later (without violating encapsulation).`}</p>\n    <h2 {...{\n      \"id\": \"participants\"\n    }}>{`Participants`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Memento (stores internal state of Originator object - may store as much or little as possible)`}</li>\n      <li parentName=\"ul\">{`Originator (creates memento containing snapshot of current state)`}</li>\n      <li parentName=\"ul\">{`Caretaker (responsible for memento's safekeeping)`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`class State {\n  private _value: String;\n\n  constructor(value) {\n    this._value = value;\n  }\n\n  public set value(newValue: String) {\n    this._value = newValue;\n  }\n\n  public get value() {\n    return this._value;\n  }\n}\n\ninterface StateInterface {\n  state: State;\n}\n\nclass Memento implements StateInterface {\n  private _state: State;\n\n  constructor(state: State) {\n    this._state = state;\n  }\n\n  public set state(newState: State) {\n    this._state = newState;\n  }\n\n  public get state() {\n    return this._state;\n  }\n}\n\nclass Originator implements StateInterface {\n  private _state: State;\n\n  constructor(state: State) {\n    console.log(\\`\"\\${state.value}\"\\`);\n    this._state = state;\n  }\n\n  public set state(state: State) {\n    console.log(state.value);\n    this._state = state;\n  }\n\n  public get state() {\n    return this._state;\n  }\n\n  public createMemento() {\n    console.log(\\`create \"\\${this._state.value}\" memento\\`);\n    return new Memento(this._state);\n  }\n\n  public restoreMemento(memento: Memento) {\n    console.log(\\`restore \"\\${memento.state.value}\"\\`);\n    this._state = memento.state;\n  }\n}\n\nclass CareTaker {\n  private _memento: Memento;\n\n  public set memento(memento: Memento) {\n    // memento saved\n    this._memento = memento;\n  }\n\n  public get memento() {\n    return this._memento;\n  }\n}\n\n(function main() {\n  // Save check point\n  const oldState = new State('check point');\n  const originator = new Originator(oldState);\n  const careTaker = new CareTaker();\n  careTaker.memento = originator.createMemento();\n\n  // Player dies\n  const currentState = new State('die');\n  originator.state = currentState;\n\n  // Player reset to check point\n  originator.restoreMemento(careTaker.memento);\n\n  // Player gain medel\n  const medalState = new State('get medal');\n  originator.state = medalState;\n  // Save\n  careTaker.memento = originator.createMemento();\n})();\n`}</code></pre>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "]}]}
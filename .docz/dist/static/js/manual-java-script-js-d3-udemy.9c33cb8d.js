(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{"./manual/JavaScript/JS-D3-Udemy.md":function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return p});var t=a("./node_modules/react/index.js"),r=a.n(t),l=a("./node_modules/@mdx-js/tag/dist/index.js");function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function i(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,n){return!n||"object"!==o(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var p=function(e){function n(e){var a;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(a=c(this,m(n).call(this,e))).layout=null,a}var a,t,o;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(n,r.a.Component),a=n,(t=[{key:"render",value:function(){var e=this.props,n=e.components;s(e,["components"]);return r.a.createElement(l.MDXTag,{name:"wrapper",components:n},r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"reading-the-d3-documentation"}},"Reading the D3 Documentation"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"- [Reading the D3 Documentation](#reading-the-d3-documentation)\n- [map() and filter() methods](#map-and-filter-methods)\n- [d3 methods](#d3-methods)\n- [Programmatic SVGs](#programmatic-svgs)\n- [Scaling Data](#scaling-data)\n- [Styling with CSS](#styling-with-css)\n- [Adding Text to the chart](#adding-text-to-the-chart)\n- [Using SVG groups](#using-svg-groups)\n")),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#section-4-making-a-complex-chart"}},"Section 4: Making a Complex Chart"),r.a.createElement(l.MDXTag,{name:"ul",components:n,parentName:"li"},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#working-with-arrays-of-objects"}},"Working with Arrays of Objects")),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#creating-an-ordinal-scale"}},"Creating an Ordinal Scale")),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#setting-colour-with-colour-scales"}},"Setting colour with colour scales")),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#adding-x-and-y-axis"}},"Adding X and Y axis")),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#flipping-the-axes"}},"Flipping the axes")),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#adding-gridlines"}},"Adding Gridlines")),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#rotating-the-x-axis-titles"}},"Rotating the X axis titles")),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#adding-axis-labels"}},"Adding axis labels")),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#updating-the-plot-function-with-best-practises"}},"Updating the plot function with best practises")))),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"#secontion-5-making-the-chart-interactive"}},"Secontion 5: Making the Chart Interactive"))),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"API Documentation is a great link to bookmark")),r.a.createElement(l.MDXTag,{name:"hr",components:n}),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"map-and-filter-methods"}},"map() and filter() methods"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},"var data = [123, 52, 46, 30, 4];\n\nconst results = data.filter((entry) => {\n    return entry > 50;\n});\n\nconst mapping = data.map((entry) => {\n    console.log(entry.key);\n    console.log(entry.value);\n});\n")),r.a.createElement(l.MDXTag,{name:"hr",components:n}),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"d3-methods"}},"d3 methods"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"const example = d3.min(data);\nconsole.log(example);       // values returned\n\nconst dataLoHiValue = d3.extent(data);  // return min/max as array\n\nvar dictMinValue = d3.min(dounts, (d, i) {\n    return d.value;\n});\n")),r.a.createElement(l.MDXTag,{name:"hr",components:n}),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"programmatic-svgs"}},"Programmatic SVGs"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},"var data = [132,71,337,93,78,43,20,16,30,8,17,21];\nlet svg = d3.select('body').append('svg')\n                .attr('id', 'chart')\n                .attr('height', 450)\n                .attr('width', 800);\n\n// creating the bars\n// vertical bar graph\nsvg.selectAll('.bar')\n    .data(data)\n    .enter()                // enter phase\n    .append('rect')\n    .attr('class', 'bar')   // for future selections\n    .attr('x', 0)\n    .attr('y', (d i) => {\n        return i * 20;\n    })\n    .attr('width', (d, i) => {\n        return d;\n    })\n    .attr('height', 19);\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"scaling-data"}},"Scaling Data"),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"Creating scaling functions for both x and y.")),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},"var data = [132, 71, 337, 93, 78, 43, 20, 16, 30, 8, 17, 21];\nlet w = 800;\nlet h = 450;\nlet x = d3.scale\n    .linear()\n    .domain([0, d3.max(data)])\n    .range([0, w]);\nlet y = d3.scale\n    .linear()\n    .domain([0, data.length])\n    .range([0, h]);\n\nlet svg = d3\n    .select('body')\n    .append('svg')\n    .attr('id', 'chart')\n    .attr('height', h)\n    .attr('width', w);\n\n// creating the bars\n// vertical bar graph\nsvg\n    .selectAll('.bar')\n    .data(data)\n    .enter() // enter phase\n    .append('rect')\n    .attr('class', 'bar') // for future selections\n    .attr('x', 0)\n    .attr('y', (d, i) => {\n        return y(i);\n    })\n    .attr('width', (d, i) => {\n        return x(d); // x() does the scaling\n    })\n    .attr('height', (d, i) => {\n        return y(1) - 1;\n    });\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"styling-with-css"}},"Styling with CSS"),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"Getting rid of the aliasing")),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-css"}},".bar {\n    fill: purple;\n}\n")),r.a.createElement(l.MDXTag,{name:"p",components:n},"Not that ",r.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"attr('class', 'bar')")," will manually reset the class value, so you can also use ",r.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},".classed('bar', true)")," - true to add the class, false to remove."),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"adding-text-to-the-chart"}},"Adding Text to the chart"),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"Creating scaling functions for both x and y.")),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},"var data = [132, 71, 337, 93, 78, 43, 20, 16, 30, 8, 17, 21];\nlet w = 800;\nlet h = 450;\nlet x = d3.scale\n    .linear()\n    .domain([0, d3.max(data)])\n    .range([0, w]);\nlet y = d3.scale\n    .linear()\n    .domain([0, data.length])\n    .range([0, h]);\n\nlet svg = d3\n    .select('body')\n    .append('svg')\n    .attr('id', 'chart')\n    .attr('height', h)\n    .attr('width', w);\n\nfunction plot(params) {\n    // creating the bars\n    // vertical bar graph\n    this.selectAll('.bar')\n        .data(params.data)\n        .enter() // enter phase\n        .append('rect')\n        .attr('class', 'bar') // for future selections\n        .attr('x', 0)\n        .attr('y', (d, i) => {\n            return y(i);\n        })\n        .attr('width', (d, i) => {\n            return x(d); // x() does the scaling\n        })\n        .attr('height', (d, i) => {\n            return y(1) - 1;\n        });\n\n    this.selectAll('.bar-label')\n        .data(params.data)\n        .enter()\n        .append('text')\n        .classed('bar-label', true)\n        .attr('x', (d, i) => {\n            return x(d); // use css to change the anchor\n        })\n        .attr('dx', -4)\n        .attr('y', (d, i) => {\n            return y(i);\n        })\n        .attr('dy', (d, i) => {\n            return y(1) / 1.5 + 2;\n        })\n        .text((d, i) => {\n            return d;\n        });\n}\n\n// first arg will be what is referenced by \"this\"\nplot.call(svg, {\n    data: data\n});\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"using-svg-groups"}},"Using SVG groups"),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"SVG groups are like a div that are a convenience element to allow children to be moved and affected together.")),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},"var data = [132, 71, 337, 93, 78, 43, 20, 16, 30, 8, 17, 21];\nlet w = 800;\nlet h = 450;\nlet margin = {\n    top: 20,\n    bottom: 20,\n    left: 20,\n    right: 20\n};\n\nvar width = w - margin.left - margin.right;\nvar height = h - margin.top - margin.bottom;\n\nlet x = d3.scale\n    .linear()\n    .domain([0, d3.max(data)])\n    .range([0, width]);\nlet y = d3.scale\n    .linear()\n    .domain([0, data.length])\n    .range([0, height]);\n\nlet svg = d3\n    .select('body')\n    .append('svg')\n    .attr('id', 'chart')\n    .attr('height', h)\n    .attr('width', w);\n\nlet chart = svg\n    .append('g')\n    .classed('display', true)\n    .attr('transform', 'translate(20, 20)');\n\nfunction plot(params) {\n    // creating the bars\n    // vertical bar graph\n    this.selectAll('.bar')\n        .data(params.data)\n        .enter() // enter phase\n        .append('rect')\n        .attr('class', 'bar') // for future selections\n        .attr('x', 0)\n        .attr('y', (d, i) => {\n            return y(i);\n        })\n        .attr('width', (d, i) => {\n            return x(d); // x() does the scaling\n        })\n        .attr('height', (d, i) => {\n            return y(1) - 1;\n        });\n\n    this.selectAll('.bar-label')\n        .data(params.data)\n        .enter()\n        .append('text')\n        .classed('bar-label', true)\n        .attr('x', (d, i) => {\n            return x(d); // use css to change the anchor\n        })\n        .attr('dx', -4)\n        .attr('y', (d, i) => {\n            return y(i);\n        })\n        .attr('dy', (d, i) => {\n            return y(1) / 1.5 + 2;\n        })\n        .text((d, i) => {\n            return d;\n        });\n}\n\n// first arg will be what is referenced by \"this\"\nplot.call(chart, {\n    data: data\n});\n")),r.a.createElement(l.MDXTag,{name:"hr",components:n}),r.a.createElement(l.MDXTag,{name:"h1",components:n,props:{id:"section-4-making-a-complex-chart"}},"Section 4: Making a Complex Chart"),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"working-with-arrays-of-objects"}},"Working with Arrays of Objects"),r.a.createElement(l.MDXTag,{name:"p",components:n},"If working with a dict, we need an accessor function!"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},"var data = [\n    { key: 'Glazed', value: 132 },\n    { key: 'Jelly', value: 71 },\n    { key: 'Holes', value: 337 },\n    { key: 'Sprinkles', value: 93 },\n    { key: 'Crumb', value: 78 },\n    { key: 'Chocolate', value: 43 },\n    { key: 'Coconut', value: 20 },\n    { key: 'Cream', value: 16 },\n    { key: 'Cruller', value: 30 },\n    { key: '\xc9clair', value: 8 },\n    { key: 'Fritter', value: 17 },\n    { key: 'Bearclaw', value: 21 }\n];\n\nlet w = 800;\nlet h = 450;\nlet margin = {\n    top: 20,\n    bottom: 20,\n    left: 20,\n    right: 20\n};\n\nvar width = w - margin.left - margin.right;\nvar height = h - margin.top - margin.bottom;\n\nlet x = d3.scale\n    .linear()\n    .domain([\n        0,\n        d3.max(data, (d) => {\n            return d.value;\n        })\n    ])\n    .range([0, width]);\n\nlet y = d3.scale\n    .linear()\n    .domain([0, data.length])\n    .range([0, height]);\n\nlet svg = d3\n    .select('body')\n    .append('svg')\n    .attr('width', 800)\n    .attr('height', 420)\n    .attr('id', 'chart');\nlet chart = svg\n    .append('g')\n    .classed('display', true)\n    .attr('transform', 'translate(20, 20)');\n\nfunction plot(params) {\n    // creating the bars\n    // vertical bar graph\n    this.selectAll('.bar')\n        .data(params.data)\n        .enter() // enter phase\n        .append('rect')\n        .attr('class', 'bar') // for future selections\n        .attr('x', 0)\n        .attr('y', (d, i) => {\n            return y(i);\n        })\n        .attr('width', (d, i) => {\n            return x(d.value); // x() does the scaling\n        })\n        .attr('height', (d, i) => {\n            return y(1) - 1;\n        });\n\n    this.selectAll('.bar-label')\n        .data(params.data)\n        .enter()\n        .append('text')\n        .classed('bar-label', true)\n        .attr('x', (d, i) => {\n            return x(d.value); // use css to change the anchor\n        })\n        .attr('dx', -4)\n        .attr('y', (d, i) => {\n            return y(i);\n        })\n        .attr('dy', (d, i) => {\n            return y(1) / 1.5 + 2;\n        })\n        .text((d, i) => {\n            return d.value;\n        });\n}\n\nplot.call(chart, {\n    data: data\n});\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"creating-an-ordinal-scale"}},"Creating an Ordinal Scale"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"var data = [\n    {key: \"Glazed\",     value: 132},\n    {key: \"Jelly\",      value: 71},\n    {key: \"Holes\",      value: 337},\n    {key: \"Sprinkles\",  value: 93},\n    {key: \"Crumb\",      value: 78},\n    {key: \"Chocolate\",  value: 43},\n    {key: \"Coconut\",    value: 20},\n    {key: \"Cream\",      value: 16},\n    {key: \"Cruller\",    value: 30},\n    {key: \"\xc9clair\",     value: 8},\n    {key: \"Fritter\",    value: 17},\n    {key: \"Bearclaw\",   value: 21}\n];\n\nlet w = 800;\nlet h = 450;\nlet margin = {\n    top: 20,\n    bottom: 20,\n    left: 20,\n    right: 20\n};\n\nvar width = w - margin.left - margin.right;\nvar height = h - margin.top - margin.bottom;\n\nlet x = d3.scale.linear()\n        .domain([0, d3.max(data, (d) => {\n            return d.value;\n    })])\n        .range([0, width]);\nvar y = d3.scale.ordinal()          // need distinct values eg keys\n        .domain(data.map((entry) => {\n            return entry.key;\n        }))\n        .rangeBands([0, height]);   // used for distinct values\n\nlet svg = d3.select('body').append('svg')\n                        .attr('width', 800)\n            .attr('height', 420)\n            .attr('id', 'chart');\nlet chart = svg.append('g')\n                .classed('display', true)\n        .attr('transform', 'translate(20, 20)');\n\nfunction plot(params) {\n    // creating the bars\n    // vertical bar graph\n    this.selectAll('.bar')\n        .data(params.data)\n        .enter()                // enter phase\n        .append('rect')\n        .attr('class', 'bar')   // for future selections\n        .attr('x', 0)\n        .attr('y', (d, i) => {\n            return y(d.key);\n        })\n        .attr('width', (d, i) => {\n            return x(d.value);      // x() does the scaling\n        })\n        .attr('height', (d, i) => {\n            return y.rangeBand() - 1;\n        });\n\n    this.selectAll('.bar-label')\n        .data(params.data)\n        .enter()\n        .append('text')\n        .classed('bar-label', true)\n        .attr('x', (d, i) => {\n            return x(d.value);          // use css to change the anchor\n        })\n        .attr('dx', -4)\n        .attr('y', (d, i) => {\n            return y(d.key);\n        })\n        .attr('dy', (d, i) => {\n            return y.rangeBand()/1.5+2;\n        })\n        .text((d, i) => {\n            return d.value;\n        });\n}\n\nplot.call(chart, {\n    data: data\n});\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"setting-colour-with-colour-scales"}},"Setting colour with colour scales"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"var data = [\n    {key: \"Glazed\",     value: 132},\n    {key: \"Jelly\",      value: 71},\n    {key: \"Holes\",      value: 337},\n    {key: \"Sprinkles\",  value: 93},\n    {key: \"Crumb\",      value: 78},\n    {key: \"Chocolate\",  value: 43},\n    {key: \"Coconut\",    value: 20},\n    {key: \"Cream\",      value: 16},\n    {key: \"Cruller\",    value: 30},\n    {key: \"\xc9clair\",     value: 8},\n    {key: \"Fritter\",    value: 17},\n    {key: \"Bearclaw\",   value: 21}\n];\n\nlet w = 800;\nlet h = 450;\nlet margin = {\n    top: 20,\n    bottom: 20,\n    left: 20,\n    right: 20\n};\n\nvar width = w - margin.left - margin.right;\nvar height = h - margin.top - margin.bottom;\n\nlet x = d3.scale.linear()\n        .domain([0, d3.max(data, (d) => {\n            return d.value;\n    })])\n        .range([0, width]);\nvar y = d3.scale.ordinal()          // need distinct values eg keys\n        .domain(data.map((entry) => {\n            return entry.key;\n        }))\n        .rangeBands([0, height]);   // used for distinct values\n\n// alter colours using linear scale\nlet linearColorScale = d3.scale.linear()\n                        .domain([0, data.length])\n                        .range(['#572500', '#F68026']);\n\n// ordinal for distinct colours\nlet ordinalColorScale = d3.scale.category20();\n\nlet svg = d3.select('body').append('svg')\n                        .attr('width', 800)\n            .attr('height', 420)\n            .attr('id', 'chart');\nlet chart = svg.append('g')\n                .classed('display', true)\n        .attr('transform', 'translate(20, 20)');\n\nfunction plot(params) {\n    // creating the bars\n    // vertical bar graph\n    this.selectAll('.bar')\n        .data(params.data)\n        .enter()                // enter phase\n        .append('rect')\n        .attr('class', 'bar')   // for future selections\n        .attr('x', 0)\n        .attr('y', (d, i) => {\n            return y(d.key);\n        })\n        .attr('width', (d, i) => {\n            return x(d.value);      // x() does the scaling\n        })\n        .attr('height', (d, i) => {\n            return y.rangeBand() - 1;\n        })\n        .style('fill', (d, i) => {\n            return linearColorScale(i);\n        });\n\n    this.selectAll('.bar-label')\n        .data(params.data)\n        .enter()\n        .append('text')\n        .classed('bar-label', true)\n        .attr('x', (d, i) => {\n            return x(d.value);          // use css to change the anchor\n        })\n        .attr('dx', -4)\n        .attr('y', (d, i) => {\n            return y(d.key);\n        })\n        .attr('dy', (d, i) => {\n            return y.rangeBand()/1.5+2;\n        })\n        .text((d, i) => {\n            return d.value;\n        });\n}\n\nplot.call(chart, {\n    data: data\n});\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"adding-x-and-y-axis"}},"Adding X and Y axis"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"// after the colour scales\n\nlet xAxis = d3.svg.axis()           // svg portion of the d3 library\n                .scale(x)\n                .orient('bottom');\n\nlet yAxis = d3.svg.axis()\n                .scale(y)\n                .orient('left');\n\n...\n\nfunction plot(params) {\n    // creating the bars\n    // vertical bar graph\n    this.selectAll('.bar')\n        .data(params.data)\n        .enter()                // enter phase\n        .append('rect')\n        .attr('class', 'bar')   // for future selections\n        .attr('x', 0)\n        .attr('y', (d, i) => {\n            return y(d.key);\n        })\n        .attr('width', (d, i) => {\n            return x(d.value);      // x() does the scaling\n        })\n        .attr('height', (d, i) => {\n            return y.rangeBand() - 1;\n        })\n        .style('fill', (d, i) => {\n            return linearColorScale(i);\n        });\n\n    this.selectAll('.bar-label')\n        .data(params.data)\n        .enter()\n        .append('text')\n        .classed('bar-label', true)\n        .attr('x', (d, i) => {\n            return x(d.value);          // use css to change the anchor\n        })\n        .attr('dx', -4)\n        .attr('y', (d, i) => {\n            return y(d.key);\n        })\n        .attr('dy', (d, i) => {\n            return y.rangeBand()/1.5+2;\n        })\n        .text((d, i) => {\n            return d.value;\n        });\n    this.append('g')\n            .classed('x axis', true)\n            .attr('transform', 'translate(' + 0  + ', ' + height  + ')')\n            .call(xAxis);\n    this.append('g')\n            .classed('y axis', true)\n            .attr('transform', 'translate(0, 0)')\n            .call(yAxis);\n}\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"flipping-the-axes"}},"Flipping the axes"),r.a.createElement(l.MDXTag,{name:"p",components:n},"How to create a column chart?"),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"height needs to take an offset"),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"other values essentially invert"),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"text anchor will be ",r.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"li"},"middle")," in css")),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"var data = [\n    {key: \"Glazed\",     value: 132},\n    {key: \"Jelly\",      value: 71},\n    {key: \"Holes\",      value: 337},\n    {key: \"Sprinkles\",  value: 93},\n    {key: \"Crumb\",      value: 78},\n    {key: \"Chocolate\",  value: 43},\n    {key: \"Coconut\",    value: 20},\n    {key: \"Cream\",      value: 16},\n    {key: \"Cruller\",    value: 30},\n    {key: \"\xc9clair\",     value: 8},\n    {key: \"Fritter\",    value: 17},\n    {key: \"Bearclaw\",   value: 21}\n];\n\nlet w = 800;\nlet h = 450;\nlet margin = {\n    top: 20,\n    bottom: 20,\n    left: 20,\n    right: 20\n};\n\nvar width = w - margin.left - margin.right;\nvar height = h - margin.top - margin.bottom;\n\nlet x = d3.scale.ordinal()          // need distinct values eg keys\n        .domain(data.map((entry) => {\n            return entry.key;\n        }))\n        .rangeBands([0, height]);   // used for distinct values\n\nlet y = d3.scale.linear()\n        .domain([0, d3.max(data, (d) => {\n            return d.value;\n        })])\n        .range([height, 0]);    // IMPORTANT CHANGE FROM [0, width]\n\n// alter colours using linear scale\nlet linearColorScale = d3.scale.linear()\n                        .domain([0, data.length])\n                        .range(['#572500', '#F68026']);\n\n// ordinal for distinct colours\nlet ordinalColorScale = d3.scale.category20();\n\nlet svg = d3.select('body').append('svg')\n                        .attr('width', 800)\n            .attr('height', 420)\n            .attr('id', 'chart');\nlet chart = svg.append('g')\n                .classed('display', true)\n        .attr('transform', 'translate(20, 20)');\n\nfunction plot(params) {\n    // creating the bars\n    // vertical bar graph\n    this.selectAll('.bar')\n        .data(params.data)\n        .enter()                // enter phase\n        .append('rect')\n        .attr('class', 'bar')   // for future selections\n        .attr('x', (d, i) => {\n            return x(d.key);\n        })\n        .attr('y', (d, i) => {\n            return y(d.value);\n        })\n        .attr('width', (d, i) => {\n            return x(d.value);      // x() does the scaling\n        })\n        .attr('height', (d, i) => {\n            return x.rangeBand();\n        })\n        .style('fill', (d, i) => {\n            return linearColorScale(i);\n        });\n\n    this.selectAll('.bar-label')\n        .data(params.data)\n        .enter()\n        .append('text')\n        .classed('bar-label', true)\n        .attr('x', (d, i) => {\n            return x(d.value);          // use css to change the anchor\n        })\n        .attr('dx', -4)\n        .attr('y', (d, i) => {\n            return y(d.key);\n        })\n        .attr('dy', (d, i) => {\n            return y.rangeBand()/1.5+2;\n        })\n        .text((d, i) => {\n            return d.value;\n        });\n\n        this.append('g')\n            .classed('x axis', true)\n            .attr('transform', 'translate(' + 0  + ', ' + height  + ')')\n            .call(xAxis);\n        this.append('g')\n            .classed('y axis', true)\n            .attr('transform', 'translate(0, 0)')\n            .call(yAxis);\n}\n\nplot.call(chart, {\n    data: data\n});\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"adding-gridlines"}},"Adding Gridlines"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"var yGridlines = d3.svg.axis()              // create another \"axis\"\n                    .scale(y)\n                    .tickSize(-width, 0, 0)             // used to adjust the axis\n                    .tickFormat('')\n                    .orient('left');\n\n// add these grid lines with the call function at the start of the plot function\n")),r.a.createElement(l.MDXTag,{name:"p",components:n},"The grid lines also need to be styled! Hit up the CSS file to do this."),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},".gridline path,\n.gridline line {\n    fill: none;\n    color: blue;\n    shape-rendering: crispEdges;\n}\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"rotating-the-x-axis-titles"}},"Rotating the X axis titles"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"...\nthis.append('g')\n            .classed('x axis', true)\n            .attr('transform', 'translate(' + 0  + ', ' + height  + ')')\n            .call(xAxis)\n                .selectAll('text')\n                    .style('text-anchor', 'end')\n                    .attr('dx', -8)\n                    .attr('dy', 8)\n                    .attr('transform', 'translate(0,0), rotate(-45)');\nthis.append('g')\n            .classed('y axis', true)\n            .attr('transform', 'translate(0, 0)')\n            .call(yAxis);\n...\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"adding-axis-labels"}},"Adding axis labels"),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"// within the plot function at the bottom\n\nthis.select('.y.axis')\n    .append('text')\n    .attr('x', 0)\n    .attr('y', 0)\n    .style('text-anchor', 'middle')\n    .attr('transform', 'translate(-50, ' + height / 2 + ') rotate(-90)')\n    .text('Units sold');\n\nthis.select('.x.axis')\n    .append('text')\n    .attr('x', 0)\n    .attr('y', 0)\n    .style('text-anchor', 'middle')\n    .attr('transform', 'translate(' + width / 2 + ', 80) rotate(-90)')\n    .text('Donut Type');\n")),r.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"updating-the-plot-function-with-best-practises"}},"Updating the plot function with best practises"),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"Add new parameter entries.")),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"plot.call(chart, {\n    data: data,\n    axis: {\n        x: xAxis,\n        y: yAxis\n    },\n    gridlines: yGridlines\n}\n})\n")),r.a.createElement(l.MDXTag,{name:"hr",components:n}),r.a.createElement(l.MDXTag,{name:"h1",components:n,props:{id:"secontion-5-making-the-chart-interactive"}},"Secontion 5: Making the Chart Interactive"),r.a.createElement(l.MDXTag,{name:"ul",components:n},r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"Sorting data using things like buttons."),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},'Similary to jquery, with have d3 methods like "on"'),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"Using the '+' prefix will convert the string to a number"),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"To show updated ",r.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"li"},"data")," changes, we need to know about the phases // enter(), update(), exit()"),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"we ensure this can happen by splitting the selectAll function where the updated phase is in the latter part - then in the exit phase we get rid of any elements that are no longer bound!"),r.a.createElement(l.MDXTag,{name:"li",components:n,parentName:"ul"},"you must update the domains when you update data!")),r.a.createElement(l.MDXTag,{name:"pre",components:n},r.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"// do for all elements we wish to remove\nthis.selectAll('.bar')\n    .data(params.data)\n    .exit()\n    .remove();\n")))}}])&&i(a.prototype,t),o&&i(a,o),n}();p.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}}}]);
//# sourceMappingURL=manual-java-script-js-d3-udemy.305817e8304de77c75ce.js.map
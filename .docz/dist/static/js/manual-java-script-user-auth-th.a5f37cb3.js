(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{"./manual/JavaScript/User-Auth-TH.md":function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return i});var t=a("./node_modules/react/index.js"),o=a.n(t),r=a("./node_modules/@mdx-js/tag/dist/index.js");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){if(null==e)return{};var a,t,o=function(e,n){if(null==e)return{};var a,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(o[a]=e[a]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function p(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(e,n){return!n||"object"!==m(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,n){return(g=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var i=function(e){function n(e){var a;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(a=c(this,l(n).call(this,e))).layout=null,a}var a,t,m;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&g(e,n)}(n,o.a.Component),a=n,(t=[{key:"render",value:function(){var e=this.props,n=e.components;s(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:n},o.a.createElement(r.MDXTag,{name:"p",components:n},"USER AUTHENTICATION WITH EXPRESS AND MONGO"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/////////////////////////////////////////////////////////"),o.a.createElement(r.MDXTag,{name:"p",components:n},"PART 1"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"The Project"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"Setting up credentials to do what you say you want to do"),o.a.createElement(r.MDXTag,{name:"p",components:n},"Authentication vs Authorization"),o.a.createElement(r.MDXTag,{name:"p",components:n},"Authentication: Confirming the user is who they say they are\nAuthorization: Where you are and aren't allow to see certain information"),o.a.createElement(r.MDXTag,{name:"p",components:n},"Steps:"),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"Create an account"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"Checks if it matches a record in the database")),o.a.createElement(r.MDXTag,{name:"p",components:n},"While the user is logged in, they can alter the page depending on the user infomation."),o.a.createElement(r.MDXTag,{name:"p",components:n},'Sessions can be used for a db to have "unique token" which sticks with you and your device until the end of the session.'),o.a.createElement(r.MDXTag,{name:"p",components:n},"//////////////"),o.a.createElement(r.MDXTag,{name:"p",components:n},"The project uses Express and MongoDB"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")))),o.a.createElement(r.MDXTag,{name:"ol",components:n,props:{start:2}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Setting up the Project")),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"npm install body-parser\t\t\t// parsing incoming requests\nnpm install express\nnpm install pug\t\t\t\t\t// used for jade"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/////////////////////////////////////////////////////////"),o.a.createElement(r.MDXTag,{name:"p",components:n},"PART 2"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:3}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Registration"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"// adding routes for registration form"),o.a.createElement(r.MDXTag,{name:"p",components:n},"router.get('/register', function (req, res, next) {\nreturn res.send('Register today!');\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"router.post('/register', function (req, res, next) {\nreturn res.send('User Created!');\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:4}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Nodemon / Pug files"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"Starts the app and refreshes each .js save"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"Wrapper for node")),o.a.createElement(r.MDXTag,{name:"p",components:n},"PUG FORM - register.pug "),o.a.createElement(r.MDXTag,{name:"p",components:n},"extends layout"),o.a.createElement(r.MDXTag,{name:"p",components:n},"block content\n.main.container.row\n.col-md-6.col-md-offset-3\nh1.display-4.m-b-2 Sign Up"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"        //register form\n        form(method='POST' action='/register')\n        div.form-group\n            label(for='name') Name:\n            input#name.form-control(type='text', placeholder='first and last' name='name')\n        div.form-group\n            label(for='email') Email:\n            input#email.form-control(type='email', placeholder='name@email.com' name='email')\n        div.form-group\n            label(for='favoriteBook') Favorite Book:\n            input#favoriteBook.form-control(type='text', placeholder='title of book' name='favoriteBook')\n        div.form-group\n            label(for='pw') Password:\n            input#pw.form-control(type='password' name='password')\n        div.form-group\n            label(for='pw2') Confirm Password:\n            input#pw2.form-control(type='password' name='confirmPassword')\n        button.btn.btn-primary(type='submit') Sign up\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:5}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Setting up MongoDB"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"Mongoose is the most used for Express applications")),o.a.createElement(r.MDXTag,{name:"p",components:n},"npm install --save mongoose"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in the app.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"var mongoose = require('mongoose');"),o.a.createElement(r.MDXTag,{name:"p",components:n},'mongoose.connect("mongodb://localhost:27017/bookworm");'),o.a.createElement(r.MDXTag,{name:"p",components:n},"var db = mongoose.connection;"),o.a.createElement(r.MDXTag,{name:"p",components:n},"db.on('error', console.error.bind(console, 'connection error:')); "),o.a.createElement(r.MDXTag,{name:"p",components:n},"// running mongo"),o.a.createElement(r.MDXTag,{name:"p",components:n},"mongod"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:6}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Defining the Mongo\nSchema"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"Store: name, email, password etc."),o.a.createElement(r.MDXTag,{name:"p",components:n},"in models, created user.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// user.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"var mongoose = require('mongoose');"),o.a.createElement(r.MDXTag,{name:"p",components:n},"var UserSchema = new mongoose.Schema({\nemail: {\ntype: String,\nrequired: true,\ntrim: true,\nunique: true,\n},\nname: {\ntype: String,\nrequired: true,\ntrim: true,\n},\nfavoriteBook: {\ntype: String,\nrequired: true,\ntrim: true\n},\npassword: {\ntype: String,\nrequired: true\n}\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"var User = mongoose.model('User', UserSchema);\nmodule.exports = User;"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:7}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Adding the Data"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in app.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"var User = require('../models/user');"),o.a.createElement(r.MDXTag,{name:"p",components:n},"..."),o.a.createElement(r.MDXTag,{name:"p",components:n},"router.post('/register', function(req,res,next) {\nif (req.body.email &&\nreq.body.name &&\nreq.body.favoriteBook &&\nreq.body.password &&\nreq.body.confirmPassword) {"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"    if (req.body.password !== req.body.confirmPassword) {\n        var err = new Error('Passwords do not match.');\n        err.status = 400;\n        return next(err);\n    }\n\n    // create object with form input\n\n    var userData = {\n        email: req.body.email\n        name: req.body.name\n        favouriteBook: req.body.favouriteBook,\n        password: req.body.password\n    };\n\n    // use schema's create method to insert document\n    User.create(userData, function (error, user) {\n        if (error) {\n            return next(error);\n        } else {\n            return res.redirect('/profile');\n        }\n    });\n\n} else {\n    var err = new Error('All fields required');\n    err.status = 400;\n    return next(err);\n}\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:8}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Hashing and Salting"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"npm install bcrypt --save"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in use "),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in User.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"var bcrypt = require('bcrypt');"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// MONGOOSE PRESAVE HOOK\nUserSchema.pre('save', function(next) {\nvar user = this;\nbcrypt.hash(user.password, 10, function(err, hash) {\nif (err) {\nreturn next(err);\n}\nuser.password = hash;\nnext();\n})\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/////////////////////////////////////////////////////////"),o.a.createElement(r.MDXTag,{name:"p",components:n},"PART 3: Sessions and Cookies"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n9. User Login \n")),"   Functionalities",o.a.createElement(r.MDXTag,{name:"ul",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"Sessions & Cookies"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"http stateless protocol for cookies and sessions")),o.a.createElement(r.MDXTag,{name:"p",components:n},"Http is a stateless protocol itself"),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"server doesn't keep track of when a user changes pages"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"need to create a session id - usually set time too"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"need session ID and user ID"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"cookies is a key/value pair that a server wants to create"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"we will create a cookie with a session ID")),o.a.createElement(r.MDXTag,{name:"p",components:n},"npm install express-session --save"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in app.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"var session = require('express-session');"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// use sessions for tracking logins - check more in the readme\napp.use(session({\nsecret: 'treehouse loves you',\nresave: true,\nsaveUninitialized: false\n}));"),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"not useful when in production. check ",o.a.createElement(r.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"https://github.com/expressjs/session#compatible-session-stores"}},"https://github.com/expressjs/session#compatible-session-stores")),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"secret is used to sign a cookie, to ensure that only the application created the cookie.")),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"**"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                  *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:10}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Adding login\nto routes"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                  *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"**")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in app.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"router.get('/login', function(req, res, next) {\nreturn res.render('login', { title: 'Log In' });\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"router.post('/login', function(req, res, next) {\nreturn res.send('Logged in!');\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"**"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                  *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:11}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Pug login form"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                  *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"**")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"// pug login form!"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// views/login.pug"),o.a.createElement(r.MDXTag,{name:"p",components:n},"extends layout"),o.a.createElement(r.MDXTag,{name:"p",components:n},"block content\n.main.container\n.row\n.col-md-6.col-md-offset-3\nh1.display-4.m-b-2 Log In\nform(method='POST' action='/login')\ndiv.form-group\nlabel(for='email') Email\ninput.form-control(type='text' id='email' placeholder='email' name='email')\ndiv.form-group\nlabel(for='password') Password\ninput.form-control(type='password' id='password' placeholder='password' name='password')\nbutton.btn.btn-primary(type='submit') Log in"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"**"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                  *\n")))),o.a.createElement(r.MDXTag,{name:"ol",components:n,props:{start:12}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Auth the Username\nand Password")),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                  *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"**")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"// Example in app.js for Express"),o.a.createElement(r.MDXTag,{name:"p",components:n},"router.post('/login', function(req, res, next) {\nif (req.body.email && req.body.password) {\nUser.authenticate(req.body.email, req.body.password, function (error, user) {\nif (error || !user) {\nvar err = new Error('Wrong email or password.');\nerr.status = 401;\nreturn next(err);\n} else {\nreq.session.userId = user._id;\nreturn res.redirect('/profile');\n}\n});\n} else {\nvar err = new Error('Email and password are required.');\nerr.status = 401;\nreturn next(err);\n}\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in user.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"UserSchema.statics.authenticate = function(email, password, callback) {\nUser.findOne({ email: email })\n.exec(function (error, user) {\nif (error) {\nreturn callback(error);\n} else if (!user) {\nvar err = new Error('User not found.');\nerr.status = 401;\nreturn callback(err);\n}\nbcrypt.compare(password, user.password, function (error, result) {\nif (result === true) {\nreturn callback(null, user);\n} else {\nreturn callback();\n}\n});\n});\n}"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                *\n")))),o.a.createElement(r.MDXTag,{name:"ol",components:n,props:{start:13}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Profile Route\nand Page")),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"profile.pug"),o.a.createElement(r.MDXTag,{name:"p",components:n},"extends layout"),o.a.createElement(r.MDXTag,{name:"p",components:n},"block content\n.main.container.clearfix\n.row\n.col-md-8.col-md-offset-2\nh1.display-4\nimg.avatar.img-circle.hidden-xs-down(src='/images/avatar.png', alt='avatar')\n| #{name}\nh2.favorite-book Favorite Book\n| #{favorite}"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// GET /profile"),o.a.createElement(r.MDXTag,{name:"p",components:n},"router.get('/profile', function(req, res, next) {\nif (! req.session.userId ) {\nvar err = new Error(\"You are not authorized to view this page.\");\nerr.status = 403;\nreturn next(err);\n}\nUser.findById(req.session.userId)\n.exec(function (error, user) {\nif (error) {\nreturn next(error);\n} else {\nreturn res.render('profile', { title: 'Profile', name: user.name, favorite: user.favoriteBook });\n}\n});\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/////////////////////////////////////////////////////////"),o.a.createElement(r.MDXTag,{name:"p",components:n},"PART 4"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n      14. Using Session\n")),"Vars to Customize Content"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"To make user id global"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in app.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// make user id available to templates\napp.use(function (req,res,next) {\nres.locals.currentUser = req.session.userId;\nnext();\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"For the new logout route"),o.a.createElement(r.MDXTag,{name:"p",components:n},"router.get('/logout', function (req, res, next) {\nif (req.session) {\nreq.session.destroy(function(err) {\nif (err) {\nreturn next(err);\n} else {\nreturn res.redirect('/');\n}\n});\n}\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:15}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Understanding\nMiddleware"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"between requests and responses ")),o.a.createElement(r.MDXTag,{name:"p",components:n},"app.use //middleware"),o.a.createElement(r.MDXTag,{name:"p",components:n},"//session middleware\napp.use(session({\nsecret: 'treehouse loves you',\nresave: true,\nsaveUninitialized: false\n}));"),o.a.createElement(r.MDXTag,{name:"p",components:n},"Request/Response Cycle"),o.a.createElement(r.MDXTag,{name:"p",components:n},"app.use(function (req,res,next) {\n...\nnext(); //custom middleware ALWAYS needs call to next\n});"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// CUSTOM MIDDLEWARE"),o.a.createElement(r.MDXTag,{name:"p",components:n},"create middleware folder"),o.a.createElement(r.MDXTag,{name:"blockquote",components:n},o.a.createElement(r.MDXTag,{name:"p",components:n,parentName:"blockquote"},"index.js")),o.a.createElement(r.MDXTag,{name:"p",components:n},"function loggedOut(req, res, next) {\nif (req.session && req.session.userId) {\nreturn res.redirect('profile');\n}\nreturn next();\n}"),o.a.createElement(r.MDXTag,{name:"p",components:n},"module.exports.loggedOut = loggedOut;"),o.a.createElement(r.MDXTag,{name:"p",components:n},"var mid = require('../middleware');"),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"now we can reference the function by mid.loggedOut")),o.a.createElement(r.MDXTag,{name:"p",components:n},"Now, in the routes we want to double check... we can put the func in."),o.a.createElement(r.MDXTag,{name:"p",components:n},"eg.\nrouter.get('/register', mid.loggedOut, function(req, res, next) {\nreturn res.render('register', { title: 'Sign up' });\n});"),o.a.createElement(r.MDXTag,{name:"blockquote",components:n},o.a.createElement(r.MDXTag,{name:"p",components:n,parentName:"blockquote"},"index.js")),o.a.createElement(r.MDXTag,{name:"p",components:n},"function requiresLogin(req, res, next) {\nif (req.session && req.session.userId) {\nnext();\n} else {\nvar err = new Error('You do not have permission to see this.');\nerr.status = 401;\nreturn next(err);\n}\n}"),o.a.createElement(r.MDXTag,{name:"p",components:n},"module.exports.requiresLogin = requiresLogin;"),o.a.createElement(r.MDXTag,{name:"p",components:n},"/",o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"p"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****"))))))),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"ol",components:n,parentName:"li",props:{start:16}},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"Using MongoDB\nas a Session Store"))),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},o.a.createElement(r.MDXTag,{name:"pre",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"                    *\n")),o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"li"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},o.a.createElement(r.MDXTag,{name:"strong",components:n,parentName:"strong"},"****")))))),"/")),o.a.createElement(r.MDXTag,{name:"p",components:n},"connect-mongo is a middleware already written for us!"),o.a.createElement(r.MDXTag,{name:"p",components:n},"npm install connect-mongo --save"),o.a.createElement(r.MDXTag,{name:"p",components:n},"require MongoStore = require('connect-mongo')(session);"),o.a.createElement(r.MDXTag,{name:"p",components:n},"// in app.js"),o.a.createElement(r.MDXTag,{name:"p",components:n},"app.use(session({\nsecret: 'treehouse loves you',\nresave: true,\nsaveUninitialized: false\nstore: new MongoStore({\nmongooseConnection: db\n})\n}));"))}}])&&p(a.prototype,t),m&&p(a,m),n}();i.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}}}]);
//# sourceMappingURL=manual-java-script-user-auth-th.305817e8304de77c75ce.js.map